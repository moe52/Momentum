/* compiled: 8/7/2018 6:35:43 AM */

(function(b,a){if(!a.UI){a.UI={};a.UI.DefaultZIndex={WaDropDown:40000,ToolTip:40000,Calendar:40000};a.UI.LinkedControlBehavior={Enable:"enable",Disable:"disable",Show:"show",Hide:"hide"};a.UI.MouseEventCode={RightButton:3};}})(window,window.WA);(function(c,b){if(!b.UI.Animation){b.UI.Animation=new a();}function a(){var f=this,h="WA.UI.Animation";f.toString=function(){return h;};f.animate=d;f.vivify=i;f.stop=g;function d(k,l,m,j){e()("#"+k).animate(l,m,j);}function i(l,k,j){e()(l).animate(k,j);}function g(k,j,l){k=(typeof(k)=="string")?b.$(k):k;e()(k).stop(j||false,l||false);}function e(){return(b.jq$)||c.jq$;}}})(window,WA);(function(d,c,b){if(!c.UI.BackgroundImageControl){c.UI.BackgroundImageControl=a;}function a(i,h){h=h||{};var p=this,t="WA.UI.BackgroundImageControl",v=i,r=v.resources,o=h.parentComponent;p.toString=function(){return t;};p.RenderComplete=c.Tools.EventHandlers.createHandlers(p,{id:"RenderComplete"});p.Dispose=c.Tools.EventHandlers.createHandlers(p,{id:"Dispose"});p.ValueChanged=c.Tools.EventHandlers.createHandlers(p,{id:"ValueChanged"});var k=false,u,j,e;p.render=q;function q(){return c.UI.BackgroundImageControlTemplate(v);}function m(x,w){p.RenderComplete.fireHandlers();s();}function l(x,w){s();p.ValueChanged.fireHandlers();}function s(){if(u.getValue("image.src")){e.show();c.UI.Helpers.ControlHelper.showDescription(v.id);}else{e.hide();c.UI.Helpers.ControlHelper.hideDescription(v.id);}}function n(x,w){p.ValueChanged.fireHandlers();}function g(){o.RenderComplete.addHandler(m);o.Dispose.addHandler(f);u=c.UI.Helpers.ValueAccessorHelper.createValueAccessor(i,p);j=new c.UI.InsertImageControl({id:v.id+c.UI.BackgroundImageControlTemplate.InsertImageControlIdPostfix,valueAccessor:u.createChildValueAccessor("image",p),fileSortType:v.fileSortType,rootPath:v.rootPath,resources:r.insertImageControl,parentComponent:p});j.ValueChanged.addHandler(l);e=new c.UI.BackgroundImageSettings({id:v.id+c.UI.BackgroundImageControlTemplate.BackgroundImageSettingsIdPostfix,valueAccessor:u.createChildValueAccessor("settings",p),resources:r.backgroundImageSettings,parentComponent:p});e.ValueChanged.addHandler(n);}function f(){if(k){return;}p.Dispose.fireHandlers();o.RenderComplete.removeHandler(m);o.Dispose.removeHandler(f);v=null;o=null;j=null;e=null;u=null;p.RenderComplete=null;p.Dispose=null;p.ValueChanged=null;k=true;}g();}})(window,WA);(function(d,c,b){if(!c.UI.BackgroundImageControlTemplate){c.UI.BackgroundImageControlTemplate=a;c.UI.BackgroundImageControlTemplate.InsertImageControlIdPostfix="_insertImageControl";c.UI.BackgroundImageControlTemplate.BackgroundImageSettingsIdPostfix="_bgImageSettings";}function a(i){var g=c.UI.ContainerTemplate,h=c.UI.InsertImageControlTemplate,e=c.UI.BackgroundImageSettingsTemplate,f=c.UI.ControlLayoutTemplate;i.controlContainerDisplayType=c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;i.cssClass="backgroundImageControl"+(i.cssClass?" "+i.cssClass:"");i.layoutContentHTML=g({id:i.id,contentHTML:h({id:i.id+c.UI.BackgroundImageControlTemplate.InsertImageControlIdPostfix,title:i.resources.insertImageControl.title,titlePosition:c.UI.ControlLayoutTemplate.TitlePosition.Left,titleWidth:138,resources:i.resources.insertImageControl})+e({id:i.id+c.UI.BackgroundImageControlTemplate.BackgroundImageSettingsIdPostfix,resources:i.resources.backgroundImageSettings})});return f(i);}})(window,WA);(function(d,c,b){if(!c.UI.BackgroundImageSettings){c.UI.BackgroundImageSettings=a;}function a(l){var s=this,x="WA.UI.BackgroundImageSettings",z=l,v=l.resources,p=z.parentComponent;s.toString=function(){return x;};s.RenderComplete=c.Tools.EventHandlers.createHandlers(s,{id:"RenderComplete"});s.Dispose=c.Tools.EventHandlers.createHandlers(s,{id:"Dispose"});s.ValueChanged=c.Tools.EventHandlers.createHandlers(s,{id:"ValueChanged"});var m=false,y,u,q,r,e;s.render=t;s.show=w;s.hide=j;function w(){c.Dom.removeClassName(e,"hidden");}function j(){c.Dom.addClassName(e,"hidden");}function t(){return c.UI.BackgroundImageSettingsTemplate(z);}function o(B,A){e=c.$(z.id);s.RenderComplete.fireHandlers();}function n(B,A){s.ValueChanged.fireHandlers();}function i(){return[{value:"no-repeat",contentText:v.repeat.options.noRepeat,attr:{eventTags:"no-repeat"}},{value:"repeat-x",contentText:v.repeat.options.repeatX,attr:{eventTags:"repeat-x"}},{value:"repeat-y",contentText:v.repeat.options.repeatY,attr:{eventTags:"repeat-y"}},{value:"repeat",contentText:v.repeat.options.repeat,attr:{eventTags:"repeat"}}];}function g(){return[{value:"left",contentText:v.positionX.options.left,attr:{eventTags:"left"}},{value:"center",contentText:v.positionX.options.center,attr:{eventTags:"center"}},{value:"right",contentText:v.positionX.options.right,attr:{eventTags:"right"}}];}function h(){return[{value:"top",contentText:v.positionY.options.top,attr:{eventTags:"top"}},{value:"center",contentText:v.positionY.options.center,attr:{eventTags:"center"}},{value:"bottom",contentText:v.positionY.options.bottom,attr:{eventTags:"bottom"}}];}function k(){p.RenderComplete.addHandler(o);p.Dispose.addHandler(f);y=c.UI.Helpers.ValueAccessorHelper.createValueAccessor(l,s);u=new c.UI.WaDropdownList({id:z.id+c.UI.BackgroundImageSettingsTemplate.RepeatlIdPostfix,items:i(),valueAccessor:y.createChildValueAccessor("repeat",s)},{parentComponent:s});u.ValueChanged.addHandler(n);q=new c.UI.WaDropdownList({id:z.id+c.UI.BackgroundImageSettingsTemplate.PositionXlIdPostfix,items:g(),valueAccessor:y.createChildValueAccessor("positionX",s)},{parentComponent:s});q.ValueChanged.addHandler(n);r=new c.UI.WaDropdownList({id:z.id+c.UI.BackgroundImageSettingsTemplate.PositionYlIdPostfix,items:h(),valueAccessor:y.createChildValueAccessor("positionY",s)},{parentComponent:s});r.ValueChanged.addHandler(n);}function f(){if(m){return;}s.Dispose.fireHandlers();p.RenderComplete.removeHandler(o);p.Dispose.removeHandler(f);z=null;p=null;u=null;q=null;r=null;y=null;s.RenderComplete=null;s.Dispose=null;s.ValueChanged=null;m=true;}k();}})(window,WA);(function(d,c,b){if(!c.UI.BackgroundImageSettingsTemplate){c.UI.BackgroundImageSettingsTemplate=a;c.UI.BackgroundImageSettingsTemplate.RepeatlIdPostfix="_repeat";c.UI.BackgroundImageSettingsTemplate.PositionXlIdPostfix="_positionX";c.UI.BackgroundImageSettingsTemplate.PositionYlIdPostfix="_positionY";}function a(g){var f=c.UI.ContainerTemplate,e=c.UI.WaDropdownListTemplate;return f({id:g.id,cssClass:"backgroundImageSettings",contentHTML:e({id:g.id+c.UI.BackgroundImageSettingsTemplate.RepeatlIdPostfix,title:g.resources.repeat.title,titlePosition:c.UI.ControlLayoutTemplate.TitlePosition.Left,titleWidth:120})+e({id:g.id+c.UI.BackgroundImageSettingsTemplate.PositionXlIdPostfix,title:g.resources.positionX.title,titlePosition:c.UI.ControlLayoutTemplate.TitlePosition.Left,titleWidth:120})+e({id:g.id+c.UI.BackgroundImageSettingsTemplate.PositionYlIdPostfix,title:g.resources.positionY.title,titlePosition:c.UI.ControlLayoutTemplate.TitlePosition.Left,titleWidth:120})});}})(window,WA);(function(c,b){if(!b.UI.BackgroundImagePicker){b.UI.BackgroundImagePicker=a;b.UI.BackgroundImagePicker.TypeName="WA.UI.BackgroundImagePicker";}function a(j,i,z){i=i||{};var t=this,r=i.parentComponent,B=b.UI.BackgroundImagePicker.TypeName,D=j,C,x=j.resources;t.toString=function(){return B;};t.ValueChanged=b.Tools.EventHandlers.createHandlers(t,{id:"ValueChanged"});t.ValidationFailed=b.Tools.EventHandlers.createHandlers(t,{id:"ValidationFailed"});t.RenderComplete=b.Tools.EventHandlers.createHandlers(t,{id:"RenderComplete"});t.Dispose=b.Tools.EventHandlers.createHandlers(t,{id:"Dispose"});var q,s,v,u,y={};t.render=w;t.getSelectedImage=function(){return y;};t.getType=function(){return D.layoutControlType;};function w(){return b.UI.BackgroundImagePickerTemplate(D);}function o(){var E=D.frameWindow||c;t.RenderComplete.fireHandlers();A();E=null;}function p(){t.ValidationFailed.fireHandlers();}function A(){if(!C.getValue("value")){v.hideLink();q.setWaButtonTitle(x.SelectButtonTitle);return;}v.showLink();q.setWaButtonTitle(x.ChangeButtonTitle);}function k(F,E){y=E.value;C.setValue(y.source,"source");C.setValue(y.value,"value");A();t.ValueChanged.fireHandlers();}function l(F,E){}function m(){s.showPicker({tabId:b.Admin.Cms.UI.Dialogs.BackgroundImagePickerDialogTemplate.GlobalTabId});}function n(){C.setValue("Undefined","source");C.setValue("","value");s.setValue(C.getValue());A();y={};t.ValueChanged.fireHandlers();}function e(E){if(E.source.toLowerCase()==b.UI.BackgroundStyleSelectorTemplate.ImageSource.Shared||E.source.toLowerCase()==b.UI.BackgroundStyleSelectorTemplate.ImageSource.Theme){return{value:E.value,source:E.source,thumbnailPath:g(E.value,E.source)};}return E;}function f(E){switch(E.toLowerCase()){case b.UI.BackgroundStyleSelectorTemplate.ImageSource.Shared:return"sharedBackgrounds";case b.UI.BackgroundStyleSelectorTemplate.ImageSource.Theme:return"recommendedBackgrounds";default:throw new Error("unknown source type");}}function g(L,K){var E,J,I,H,G,F;for(E=0,J=x.libraries.length;E<J;E++){I=x.libraries[E];for(H=0,G=I.images.length;H<G;H++){F=I.images[H];if(F.source!=K||F.value!=L){continue;}return F.thumbnailPath;}}}function h(){r.RenderComplete.addHandler(o);r.Dispose.addHandler(d);if(r.ValidationFailed){r.ValidationFailed.addHandler(p);}C=b.UI.Helpers.ValueAccessorHelper.createValueAccessor(j,t);y=e(C.getValue());q=new b.UI.WaButton({id:D.id+b.UI.BackgroundImagePickerTemplate.Postfix+b.UI.BackgroundImagePickerTemplate.ButtonPostfix},{parentComponent:t});q.WaButtonClick.addHandler(m);s=z.controlFactory.createControl(b.UI.ControlType.BackgroundImagePickerDialog,{id:D.id,value:D.valueAccessor.getValue()},{parentComponent:t,gadget:i.gadget,globalMetadataResourceManager:i.globalMetadataResourceManager},z);v=new b.UI.Link({id:D.id+b.UI.BackgroundImagePickerTemplate.RemoveImageLinkPostfix,jsAction:true},{parentComponent:t});v.ButtonClick.addHandler(n);s.BackgroundChangeApply.addHandler(k);s.BackgroundChangeCancel.addHandler(l);}function d(){t.Dispose.fireHandlers();r.RenderComplete.removeHandler(o);r.Dispose.removeHandler(d);if(r.ValidationFailed){r.ValidationFailed.removeHandler(p);}s=null;D=null;r=null;C=null;u=null;v=null;q=null;y=null;t.RenderComplete=null;t.Dispose=null;t.ValidationFailed=null;}h();}})(window,WA);(function(c,b){if(!b.UI.BackgroundImagePickerTemplate){b.UI.BackgroundImagePickerTemplate=a;b.UI.BackgroundImagePickerTemplate.Postfix="_backgroundImagePicker";b.UI.BackgroundImagePickerTemplate.ButtonPostfix="_button";}function a(g){var e=b.UI.ContainerTemplate,f=b.UI.LinkTemplate,h=b.UI.WaButtonTemplate,d=b.UI.ControlLayoutTemplate;g.controlContainerDisplayType=g.controlContainerDisplayType?g.controlContainerDisplayType:b.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;g.cssClass="backgroundImagePicker"+(g.cssClass?" "+g.cssClass:"");g.layoutContentHTML=e({cssClass:"BackgroundImagePicker",contentHTML:e({cssClass:"ButtonContainer",indentBottom:true,contentHTML:h({name:g.resources.backgroundPicker.SelectButtonTitle,id:g.id+b.UI.BackgroundImagePickerTemplate.Postfix+b.UI.BackgroundImagePickerTemplate.ButtonPostfix},{color:b.UI.WaButton.ButtonColor.Grey,size:b.UI.WaButton.ButtonSize.Small})})+e({cssClass:"RemoveImageLinkContainer",contentHTML:f({id:g.id+b.UI.BackgroundImagePickerTemplate.RemoveImageLinkPostfix,jsAction:true,cssClass:"red hidden",contentText:g.resources.backgroundPicker.RemoveButtonTitle})})});return d(g);}b.UI.BackgroundImagePickerTemplate.ChangeButtonIdTemplate="{0}_IdChangeButton";b.UI.BackgroundImagePickerTemplate.ClearLinkIdTemplate="{0}_IdClearLink";b.UI.BackgroundImagePickerTemplate.RemoveImageLinkPostfix="RemoveImageLink";b.UI.BackgroundImagePickerTemplate.DefaultValue="none";})(window,WA);(function(d,c,b){if(!c.UI.BackgroundStyleSelector){c.UI.BackgroundStyleSelector=a;}function a(s,r,H){r=r||{};var C=this,L="WA.UI.BackgroundStyleSelector",N=s,M,A=r.parentComponent,t=N.metadataResources,E=N.resources;C.toString=function(){return L;};C.RenderComplete=c.Tools.EventHandlers.createHandlers(C,{id:"RenderComplete"});C.Dispose=c.Tools.EventHandlers.createHandlers(C,{id:"Dispose"});C.ValueChanged=c.Tools.EventHandlers.createHandlers(C,{id:"ValueChanged"});C.ValidationFailed=c.Tools.EventHandlers.createHandlers(C,{id:"ValidationFailed"});C.ImageSelected=c.Tools.EventHandlers.createHandlers(C,{id:"ImageSelected"});C.VisualStateChanged=c.Tools.EventHandlers.createHandlers(C,{id:"VisualStateChanged"});C.render=D;C.getImageUrl=function(){return F;};C.getType=function(){return N.layoutControlType;};var l,e,p,g,f,i,F="",G="",h=c.UI.BackgroundStyleSelectorTemplate;function D(){return c.Templates.UI.BackgroundStyleSelectorTemplate(N);}function m(){C.ValueChanged.fireHandlers();}function n(){var O=M.getValue("image.value");if(!O||O==c.Admin.Cms.BackgroundsListTemplate.Attributes.NoBg){return"";}return j(M.getValue("image.source")||"",O);}function o(){var O=e.getSelectedImage();if(!O.thumbnailPath||(O.source&&O.source.toLowerCase()==h.ImageSource.FileSystem)){return"";}return j(O.source||"",O.thumbnailPath);}function j(P,O){switch(P.toLowerCase()){case h.ImageSource.FileSystem:return c.Window.getLocationOrigin()+"/"+O;case h.ImageSource.Shared:return N.metadataResources.urlTemplates.staticResourcesTemplate+O;case h.ImageSource.Theme:return N.metadataResources.urlTemplates.themeResourcesTemplate+O;default:return"";}}function J(){if(F){g.show();return;}g.hide();}function I(){if(F){f.show();return;}f.hide();}function K(){if(F){i.show();return;}i.hide();}function B(){var O=G||F;if(O){p.setPreviewImage(O);p.showImagePreview();}else{p.hideImagePreview();}}function x(P,O){C.RenderComplete.fireHandlers();J();I();K();}function y(){C.ValidationFailed.fireHandlers();}function u(P,O){M.setValue(O.selectedColor,"color");m();}function v(P,O){F=n();G=o();B();J();I();K();m();C.ImageSelected.fireHandlers();}function w(){F=n();G=o();B();}function z(P,O){C.VisualStateChanged.fireHandlers();}function q(){A.RenderComplete.addHandler(x);A.Dispose.addHandler(k);if(A.ValidationFailed){A.ValidationFailed.addHandler(y);}M=c.UI.Helpers.ValueAccessorHelper.createValueAccessor(s,C);l=new c.UI.DropdownColorPicker({id:N.id+h.ColorPickerButtonPrefix,value:M.getValue("color"),resources:{customColorLabel:E.colorPicker.CustomColorLabel,enterHexColorLabel:E.colorPicker.EnterHexColorLabel,setAutomaticColorLabel:E.colorPicker.SetAutomaticColorLabel,themeColorsLabel:E.colorPicker.ThemeColorsLabel,themeColors:E.colorPicker.themeColors}},{parentComponent:C});l.ValueChanged.addHandler(u);e=H.controlFactory.createControl(c.UI.ControlType.Background,{id:N.id+h.BackgroundImagePickerPrefix,metadataType:c.UI.ControlType.BackgroundsList,valueAccessor:M.createChildValueAccessor("image",C)},{parentComponent:C,globalMetadataResourceManager:r.globalMetadataResourceManager,gadget:r.gadget},H);e.ValueChanged.addHandler(v);p=c.Object.create(c.UI.ImagePreview,[{id:N.id+c.UI.ImagePreviewTemplate.ImgPreviewPostfix},{parentComponent:C}]);p.RenderComplete.addHandler(w);p.VisualStateChanged.addHandler(z);g=new c.UI.WaDropdownList({id:N.id+h.BackgroundRepeatButtonPrefix,items:t.repeat.items,valueAccessor:M.createChildValueAccessor("repeat.value",C)},{parentComponent:C});g.ValueChanged.addHandler(m);g.VisualStateChanged.addHandler(z);f=new c.UI.WaDropdownList({id:N.id+h.BackgroundPositionButtonPrefix,items:t.position.items,valueAccessor:M.createChildValueAccessor("position.value",C)},{parentComponent:C});f.ValueChanged.addHandler(m);f.VisualStateChanged.addHandler(z);i=new c.UI.WaDropdownList({id:N.id+h.BackgroundValignButtonPrefix,items:t.valign.items,valueAccessor:M.createChildValueAccessor("valign.value",C)},{parentComponent:C});i.ValueChanged.addHandler(m);i.VisualStateChanged.addHandler(z);}function k(){C.Dispose.fireHandlers();A.RenderComplete.removeHandler(x);A.Dispose.removeHandler(k);if(A.ValidationFailed){A.ValidationFailed.removeHandler(y);}N=null;M=null;A=null;l=null;g=null;h=null;C.RenderComplete=null;C.Dispose=null;C.ValueChanged=null;C.ValidationFailed=null;C.VisualStateChanged=null;}q();}})(window,WA);(function(d,c,b){if(!c.UI.BackgroundStyleSelectorTemplate){c.UI.BackgroundStyleSelectorTemplate=a;c.UI.BackgroundStyleSelectorTemplate.ColorPickerButtonPrefix="_colorPickerDropdownButton";c.UI.BackgroundStyleSelectorTemplate.BackgroundRepeatButtonPrefix="_backgroundRepeatDropdownButton";c.UI.BackgroundStyleSelectorTemplate.BackgroundPositionButtonPrefix="_backgroundPositionDropdownButton";c.UI.BackgroundStyleSelectorTemplate.BackgroundValignButtonPrefix="_backgroundValignDropdownButton";c.UI.BackgroundStyleSelectorTemplate.BackgroundImagePickerPrefix="_backgroundImagePicker";c.UI.BackgroundStyleSelectorTemplate.ImageSource={Shared:"shared",Theme:"theme",FileSystem:"filesystem"};}function a(j){var f=c.UI.DropdownColorPickerTemplate,h=c.UI.BackgroundImagePickerTemplate,i=c.UI.ImagePreviewTemplate,g=c.UI.WaDropdownListTemplate,e=c.UI.ControlLayoutTemplate,l=103,k=103,n=103;j.controlContainerDisplayType="flexible";j.cssClass="backgroundStyleSelector"+(j.cssClass?" "+j.cssClass:"");j.layoutContentHTML=f({id:j.id+c.UI.BackgroundStyleSelectorTemplate.ColorPickerButtonPrefix,title:j.resources.backgroundStyleSelector.ColorPickerTitle,titlePosition:c.UI.ControlLayoutTemplate.TitlePosition.Left})+h({id:j.id+c.UI.BackgroundStyleSelectorTemplate.BackgroundImagePickerPrefix,title:j.resources.backgroundStyleSelector.ImagePickerTitle,titlePosition:c.UI.ControlLayoutTemplate.TitlePosition.Left,resources:{libraries:j.metadataResources.libraries,fileBrowser:j.metadataResources.fileBrowser,urlTemplates:j.metadataResources.urlTemplates,backgroundPicker:j.resources.backgroundPicker,backgroundPickerDialog:j.resources.backgroundPickerDialog}})+i({id:j.id+c.UI.ImagePreviewTemplate.ImgPreviewPostfix,isHidden:true})+g({id:j.id+c.UI.BackgroundStyleSelectorTemplate.BackgroundRepeatButtonPrefix,items:j.metadataResources.repeat.items,cssClass:"hidden",title:j.resources.backgroundStyleSelector.RepeatSelectorTitle,titleWidth:l,titlePosition:c.UI.ControlLayoutTemplate.TitlePosition.Left})+g({id:j.id+c.UI.BackgroundStyleSelectorTemplate.BackgroundPositionButtonPrefix,items:j.metadataResources.position.items,cssClass:"hidden",title:j.resources.backgroundStyleSelector.PositionSelectorTitle,titleWidth:k,titlePosition:c.UI.ControlLayoutTemplate.TitlePosition.Left})+g({id:j.id+c.UI.BackgroundStyleSelectorTemplate.BackgroundValignButtonPrefix,items:j.metadataResources.valign.items,cssClass:"hidden",title:j.resources.backgroundStyleSelector.ValignSelectorTitle,titleWidth:n,titlePosition:c.UI.ControlLayoutTemplate.TitlePosition.Left});return e(j);}})(window,WA);(function(d,c,b){if(!c.UI.BehaviorProcessor){c.UI.BehaviorProcessor=a;}function a(p,o){o=o||{};var w=this,C="WA.UI.BehaviorProcessor",h=p||{behaviors:[]},v=o.parentComponent;w.toString=function(){return C;};w.Dispose=c.Tools.EventHandlers.createHandlers(w,{id:"Dispose"});w.init=n;w.normalize=t;w.checkInput=i;w.getDefaultValue=l;w.setDefaultValue=y;var j,s,q,u,x,z,A;function y(D){j.value=D;}function l(){if(j){return j.value;}return b;}function m(){if(s){return s.value;}return b;}function t(H,D){D=D||{};var G=H,E,F;if(q){for(E=0,F=q.length;E<F;E++){G=r(G,q[E].regex);}}if(!D.skipTrims&&A){for(E=0,F=A.length;E<F;E++){G=B(G,A[E].rule);}}if(x){for(E=0,F=x.length;E<F;E++){G=G.replace(x[E].regex,x[E].rule.to);}}if(!D.skipTrims&&A){for(E=0,F=A.length;E<F;E++){G=B(G,A[E].rule);}}if(z){G=G.replace(z.regex,function(I){return z.fromToDict?z.fromToDict[I]:z.rule.to;});}if(!D.skipTrims&&A){for(E=0,F=A.length;E<F;E++){G=B(G,A[E].rule);}}if(!D.skipNormalizeChars&&u){if(!D.skipTrims){G=c.String.gtrim(G,c.String.escapeRegexp(u.rule.chars));}G=G.replace(u.regex,"$1");}if(!D.skipTrims&&A){for(E=0,F=A.length;E<F;E++){G=B(G,A[E].rule);}}if(!D.skipDefaultValue&&j&&(G==b||G.length==0)){G=j.value;}if(s&&G!==b&&G.length>s.value){G=G.substring(0,s.value);}return{normalizedValue:G};}function i(H,F){if(q){var D,E,G;for(D=0,E=q.length;D<E;D++){G=q[D].regex;if(!G.test(H)){return false;}}}if(s&&H&&H.length>s.value&&F>0){return false;}return true;}function e(D){if(!q){q=[];}q.push({regex:new RegExp(D.value,"im"),rule:D});}function f(D){if(!x){x=[];}x.push({regex:new RegExp(D.regex,"g"),rule:D});}function g(D){if(!A){A=[];}A.push({rule:D});}function r(J,H){var I=J?J.toString():"";var G="";var D,F,E;for(D=0,F=I.length;D<F;D++){E=I[D];if(H.test(G+E)){G+=E;}}return G;}function B(E,D){switch(D.trimType){case"both":return c.String.gtrim(E,D.trimChars);case"left":return c.String.gltrim(E,D.trimChars);case"right":return c.String.grtrim(E,D.trimChars);}}function n(){v.Dispose.addHandler(k);var D,F,E;for(D=0,F=h.behaviors.length;D<F;D++){E=h.behaviors[D];switch(E.type){case"defaultValue":j=E;break;case"maxLength":s=E;break;case"mask":e(E);break;case"normalizeChars":u={regex:new RegExp("(["+E.chars+"])["+E.chars+"]+","g"),rule:E};break;case"replace":f(E);break;case"substitution":z={regex:new RegExp("["+c.String.escapeRegexp(E.from)+"]","g"),fromToDict:E.to.length>1?c.Array.getHashFromArrays(E.from,E.to):null,rule:E};break;case"trim":g(E);break;}}}function k(){w.Dispose.fireHandlers();v.Dispose.removeHandler(k);j=null;s=null;q=null;u=null;x=null;z=null;A=null;h=null;v=null;w.Dispose=null;}}})(window,WA);(function(d,c,b){if(!c.UI.BordersControl){c.UI.BordersControl=a;}function a(l,k){k=k||{};var q=this,u="WA.UI.BordersControl",w=l,p=k.parentComponent,s=w.resources;q.toString=function(){return u;};q.RenderComplete=c.Tools.EventHandlers.createHandlers(q,{id:"RenderComplete"});q.Dispose=c.Tools.EventHandlers.createHandlers(q,{id:"Dispose"});q.ValueChanged=c.Tools.EventHandlers.createHandlers(q,{id:"ValueChanged"});var m=false,h,g,e,f,v;q.render=r;q.setCustomColors=t;function t(x){h.setCustomColors(x);g.setCustomColors(x);e.setCustomColors(x);f.setCustomColors(x);}function r(){return c.UI.BordersControlTemplate(w);}function n(y,x){q.RenderComplete.fireHandlers();}function o(){q.ValueChanged.fireHandlers();}function j(){p.RenderComplete.addHandler(n);p.Dispose.addHandler(i);v=c.UI.Helpers.ValueAccessorHelper.createValueAccessor(w,q);h=new c.UI.BorderSelector({id:w.id+c.UI.BordersControlTemplate.IdBorderSelectorTopPostfix,valueAccessor:v.createChildValueAccessor("top",q),borderMinWidth:w.borderMinWidth,borderMaxWidth:w.borderMaxWidth,hint:w.hint,defaultValue:w.defaultValue,resources:s.borderSelector,parentComponent:q});h.ValueChanged.addHandler(o);g=new c.UI.BorderSelector({id:w.id+c.UI.BordersControlTemplate.IdBorderSelectorRightPostfix,valueAccessor:v.createChildValueAccessor("right",q),borderMinWidth:w.borderMinWidth,borderMaxWidth:w.borderMaxWidth,hint:w.hint,defaultValue:w.defaultValue,resources:s.borderSelector,parentComponent:q});g.ValueChanged.addHandler(o);e=new c.UI.BorderSelector({id:w.id+c.UI.BordersControlTemplate.IdBorderSelectorBottomPostfix,valueAccessor:v.createChildValueAccessor("bottom",q),borderMinWidth:w.borderMinWidth,borderMaxWidth:w.borderMaxWidth,hint:w.hint,defaultValue:w.defaultValue,resources:s.borderSelector,parentComponent:q});e.ValueChanged.addHandler(o);f=new c.UI.BorderSelector({id:w.id+c.UI.BordersControlTemplate.IdBorderSelectorLeftPostfix,valueAccessor:v.createChildValueAccessor("left",q),borderMinWidth:w.borderMinWidth,borderMaxWidth:w.borderMaxWidth,hint:w.hint,defaultValue:w.defaultValue,resources:s.borderSelector,parentComponent:q});f.ValueChanged.addHandler(o);}function i(){if(m){return;}q.Dispose.fireHandlers();p.RenderComplete.removeHandler(n);p.Dispose.removeHandler(i);w=null;p=null;q.RenderComplete=null;q.Dispose=null;q.ValueChanged=null;m=true;h=null;g=null;e=null;f=null;v=null;}j();}})(window,WA);(function(d,c,b){if(!c.UI.BordersControlTemplate){c.UI.BordersControlTemplate=a;c.UI.BordersControlTemplate.IdPostfix="_BordersControl";c.UI.BordersControlTemplate.IdBorderSelectorTopPostfix="_TopBorderSelector";c.UI.BordersControlTemplate.IdBorderSelectorRightPostfix="_RightBorderSelector";c.UI.BordersControlTemplate.IdBorderSelectorBottomPostfix="_BottomBorderSelector";c.UI.BordersControlTemplate.IdBorderSelectorLeftPostfix="_LeftBorderSelector";}function a(i){var h=c.UI.ContainerTemplate,e=c.UI.BorderSelectorTemplate,f=c.UI.ControlLayoutTemplate;i.controlContainerDisplayType=c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;i.cssClass="bordersControl";i.layoutContentHTML=g(i);return f(i);function g(j){return e({id:j.id+c.UI.BordersControlTemplate.IdBorderSelectorTopPostfix,title:j.resources.borderSelector.top.title,titleWidth:j.titleWidth,titlePosition:j.titlePosition,cssClass:"top"})+e({id:j.id+c.UI.BordersControlTemplate.IdBorderSelectorRightPostfix,title:j.resources.borderSelector.right.title,titleWidth:j.titleWidth,titlePosition:j.titlePosition,cssClass:"right"})+e({id:j.id+c.UI.BordersControlTemplate.IdBorderSelectorBottomPostfix,title:j.resources.borderSelector.bottom.title,titleWidth:j.titleWidth,titlePosition:j.titlePosition,cssClass:"bottom"})+e({id:j.id+c.UI.BordersControlTemplate.IdBorderSelectorLeftPostfix,title:j.resources.borderSelector.left.title,titleWidth:j.titleWidth,titlePosition:j.titlePosition,cssClass:"left"});}}})(window,WA);(function(d,c,b){if(!c.UI.BorderSelector){c.UI.BorderSelector=a;}function a(k){var p=this,u="WA.UI.BorderSelector",w=k,o=w.parentComponent,r=w.resources,v=w.valueAccessor;p.toString=function(){return u;};p.RenderComplete=c.Tools.EventHandlers.createHandlers(p,{id:"RenderComplete"});p.Dispose=c.Tools.EventHandlers.createHandlers(p,{id:"Dispose"});p.ValueChanged=c.Tools.EventHandlers.createHandlers(p,{id:"ValueChanged"});var l=false,f,g,e;p.render=q;p.setCustomColors=t;function t(x){e.setCustomColors(x);}function q(){return c.UI.BorderSelectorTemplate(w);}function m(y,x){p.RenderComplete.fireHandlers();s();}function n(y,x){s();p.ValueChanged.fireHandlers();}function s(){if(f.getValue()=="none"){g.disable();e.disable();}else{g.enable();e.enable();}}function h(){return[{contentText:r.borderStyleSelector.options.none,value:"none"},{contentText:r.borderStyleSelector.options.solid,value:"solid"},{contentText:r.borderStyleSelector.options.dashed,value:"dashed"},{contentText:r.borderStyleSelector.options.dotted,value:"dotted"},{contentText:r.borderStyleSelector.options.pair,value:"double"}];}function j(){o.RenderComplete.addHandler(m);o.Dispose.addHandler(i);f=new c.UI.WaDropdownList({id:w.id+c.UI.BorderSelectorTemplate.IdBorderStyleSelectorPostfix,items:h(),valueAccessor:v.createChildValueAccessor("style",p)},{parentComponent:p});f.ValueChanged.addHandler(n);g=new c.UI.NumberTextbox({id:w.id+c.UI.BorderSelectorTemplate.IdBorderWidthSelectorPostfix,valueAccessor:v.createChildValueAccessor("width",p),minValue:w.borderMinWidth,maxValue:w.borderMaxWidth,hint:w.hint,defaultValue:w.defaultValue},{parentComponent:p});g.ValueChanged.addHandler(n);e=new c.UI.ColorPickerCompact({id:w.id+c.UI.BorderSelectorTemplate.IdBorderColorSelectorPostfix,valueAccessor:v.createChildValueAccessor("color",p),resources:r.borderColorSelector,parentComponent:p});e.ValueChanged.addHandler(n);}function i(){if(l){return;}p.Dispose.fireHandlers();o.RenderComplete.removeHandler(m);o.Dispose.removeHandler(i);w=null;o=null;p.RenderComplete=null;p.Dispose=null;p.ValueChanged=null;l=true;f=null;g=null;e=null;v=null;}j();}})(window,WA);(function(d,c,b){if(!c.UI.BorderSelectorTemplate){c.UI.BorderSelectorTemplate=a;c.UI.BorderSelectorTemplate.IdPostfix="_BorderSelector";c.UI.BorderSelectorTemplate.IdBorderStyleSelectorPostfix="_BorderStyleSelector";c.UI.BorderSelectorTemplate.IdBorderWidthSelectorPostfix="_BorderWidthSelector";c.UI.BorderSelectorTemplate.IdBorderColorSelectorPostfix="_BorderColorSelector";}function a(k){var j=c.UI.ContainerTemplate,f=c.UI.WaDropdownListTemplate,g=c.UI.NumberTextboxTemplate,e=c.UI.ColorPickerCompactTemplate,h=c.UI.ControlLayoutTemplate;k.controlContainerDisplayType=c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;k.cssClass="borderSelector";k.layoutContentHTML=i(k);return h(k);function i(l){return f({id:l.id+c.UI.BorderSelectorTemplate.IdBorderStyleSelectorPostfix,controlContainerDisplayType:c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed,cssClass:"borderStyleSelector"})+j({cssClass:"divider"})+g({id:l.id+c.UI.BorderSelectorTemplate.IdBorderWidthSelectorPostfix,controlContainerDisplayType:c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed,cssClass:"borderWidthSelector"})+j({cssClass:"divider"})+e({id:l.id+c.UI.BorderSelectorTemplate.IdBorderColorSelectorPostfix,controlContainerDisplayType:c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed,cssClass:"borderColorSelector"});}}})(window,WA);(function(d,c,b){if(!c.UI.BreadCrumbs){c.UI.BreadCrumbs=a;}function a(o,n){n=n||{};var t=this,x="WA.UI.BreadCrumbs",y=o,s=n.parentComponent;t.toString=function(){return x;};t.RenderComplete=c.Tools.EventHandlers.createHandlers(t,{id:"RenderComplete"});t.Dispose=c.Tools.EventHandlers.createHandlers(t,{id:"Dispose"});t.FilePathChange=c.Tools.EventHandlers.createHandlers(t,{id:"FilePathChange"});var p=false,f=[],h,g;t.render=v;t.refreshCrumbs=u;t.disable=i;t.enable=l;function i(){c.Dom.addClassName(g,"disabled");var z,B,A;for(z=0,B=f.length;z<B;z++){A=f[z];if(A.hasOwnProperty("CrumbClick")){A.disable();}}}function l(){c.Dom.removeClassName(g,"disabled");var z,B,A;for(z=0,B=f.length;z<B;z++){A=f[z];if(A.hasOwnProperty("CrumbClick")){A.enable();}}}function v(){return c.UI.BreadCrumbsTemplate(y);}function e(){var A,C,B;for(A=0,C=h.length;A<C;A++){B=h[A];switch(B.layoutControlType){case c.UI.ControlType.Crumb:var z=new c.UI.Crumb(B,{parentComponent:t});z.CrumbClick.addHandler(q);f.push(z);break;case c.UI.ControlType.CrumbDivider:f.push(new c.UI.CrumbDivider(B,{parentComponent:t}));break;default:}}}function q(A,z){if(!z){throw new Error("args is undefined");}t.FilePathChange.fireHandlers({href:z.href});u(z.href);}function u(z){k();h=c.UI.BreadCrumbs.Helper.getCrumbsModel(y.id,z);e();w();}function k(){t.Dispose.fireHandlers();f.length=0;g.innerHTML="";}function w(){g.innerHTML=c.UI.BreadCrumbsTemplate.renderCrumbs(h);t.RenderComplete.fireHandlers();}function r(A,z){g=c.$(y.id);t.RenderComplete.fireHandlers();}function m(){s.RenderComplete.addHandler(r);s.Dispose.addHandler(j);h=c.UI.BreadCrumbs.Helper.getCrumbsModel(y.id,y.path);e();}function j(){if(p){return;}t.Dispose.fireHandlers();s.RenderComplete.removeHandler(r);s.Dispose.removeHandler(j);y=null;s=null;g=null;f=null;t.RenderComplete=null;t.Dispose=null;t.FilePathChange=null;p=true;}m();}})(window,WA);(function(c,b,a){if(!b.UI.BreadCrumbs.Helper){b.UI.BreadCrumbs.Helper={};}b.UI.BreadCrumbs.Helper.getCrumbsModel=function(d,o){var f=b.Url.parse(o).directory,p=b.String.gtrim(f,"/").split("/"),q,n,m,j,e=[];if(!o){return e;}for(var g=0,l=p.length;g<l;g++){n=q?q.path+"/"+p[g]:("/"+p[g]);m=top.location.protocol+"//"+top.location.host+(top.location.port?":"+top.location.port:"")+n;var k=l-1,h=g==k;j={id:d+"_crumb_"+g,layoutControlType:b.UI.ControlType.Crumb,title:p[g],state:h?b.UI.Crumb.State.Active:b.UI.Crumb.State.Default,path:n,href:m};e.push(j);q=j;if(h){continue;}e.push({id:d+"_crumbDivider_"+g,layoutControlType:b.UI.ControlType.CrumbDivider});}return e;};})(window,WA);(function(e,d,c){if(!d.UI.BreadCrumbsTemplate){d.UI.BreadCrumbsTemplate=a;d.UI.BreadCrumbsTemplate.renderCrumbs=b;d.UI.BreadCrumbsTemplate.IdPostfix="_breadCrumbs";}function a(h){var f=d.UI.BreadCrumbs.Helper.getCrumbsModel(h.id,h.path),g=d.UI.ContainerTemplate;return g({id:h.id,cssClass:"breadCrumbsContainer",contentHTML:b(f)});}function b(l){var i,k,j,h=[],f=d.UI.CrumbTemplate,g=d.UI.CrumbDividerTemplate;for(i=0,k=l.length;i<k;i++){j=l[i];switch(j.layoutControlType){case d.UI.ControlType.Crumb:h.push(f(j));break;case d.UI.ControlType.CrumbDivider:h.push(g(j));break;default:}}return h.join("");}})(window,WA);(function(d,c,b){if(!c.UI.Crumb){c.UI.Crumb=a;c.UI.Crumb.State={Default:"Default",Active:"Active"};}function a(k,j){j=j||{};var q=this,v="WA.UI.Crumb",w=k,p=j.parentComponent;q.toString=function(){return v;};q.RenderComplete=c.Tools.EventHandlers.createHandlers(q,{id:"RenderComplete"});q.Dispose=c.Tools.EventHandlers.createHandlers(q,{id:"Dispose"});q.CrumbClick=c.Tools.EventHandlers.createHandlers(q,{id:"CrumbClick"});var l=false,e,u=w.state,m,t;q.render=r;q.dispose=g;q.renderComplete=o;q.setState=s;q.disable=f;q.enable=h;q.id=function(){return w.id;};function r(){return c.UI.CrumbTemplate(w);}function f(){c.Dom.addClassName(e,"disabled");if(!m){return;}m.disable();}function h(){c.Dom.removeClassName(e,"disabled");if(!m){return;}m.enable();}function s(x){switch(x){case c.UI.Crumb.State.Default:c.Dom.removeClassName(e,c.UI.CrumbTemplate.CssClasses.Active);break;case c.UI.Crumb.State.Active:c.Dom.addClassName(e,c.UI.CrumbTemplate.CssClasses.Active);break;default:}}function o(y,x){e=c.$(w.id);s(u);q.RenderComplete.fireHandlers();}function n(y,x){if(u==c.UI.Crumb.State.Active){return;}q.CrumbClick.fireHandlers({id:w.id,href:w.href});}function i(){p.RenderComplete.addHandler(o);p.Dispose.addHandler(g);if(u!==c.UI.Crumb.State.Active){m=new c.UI.Link({id:w.id+c.UI.LinkTemplate.defaultEventTag},{parentComponent:q});m.ButtonClick.addHandler(n);}else{t=new c.UI.TextControlSimple({id:w.id+c.UI.TextControlSimpleTemplate.Postfix,parentComponent:q});}}function g(){if(l){return;}q.Dispose.fireHandlers();p.RenderComplete.removeHandler(o);p.Dispose.removeHandler(g);w=null;p=null;e=null;q.RenderComplete=null;q.Dispose=null;q.CrumbClick=null;l=true;}i();}})(window,WA);(function(d,c,b){if(!c.UI.CrumbDivider){c.UI.CrumbDivider=a;}function a(h,g){g=g||{};var l=this,n="WA.UI.CrumbDivider",o=h,k=g.parentComponent;l.toString=function(){return n;};l.RenderComplete=c.Tools.EventHandlers.createHandlers(l,{id:"RenderComplete"});l.Dispose=c.Tools.EventHandlers.createHandlers(l,{id:"Dispose"});var i=false;l.render=m;l.dispose=e;l.renderComplete=j;function m(){return c.UI.CrumbDividerTemplate(o);}function j(q,p){l.RenderComplete.fireHandlers();}function f(){k.RenderComplete.addHandler(j);k.Dispose.addHandler(e);}function e(){if(i){return;}l.Dispose.fireHandlers();k.RenderComplete.removeHandler(j);k.Dispose.removeHandler(e);o=null;k=null;l.RenderComplete=null;l.Dispose=null;i=true;}f();}})(window,WA);(function(d,c,b){if(!c.UI.CrumbDividerTemplate){c.UI.CrumbDividerTemplate=a;}function a(f){var e=c.UI.ContainerTemplate;return e({cssClass:"crumbDivider",contentHTML:">"});}})(window,WA);(function(d,c,b){if(!c.UI.CrumbTemplate){c.UI.CrumbTemplate=a;c.UI.CrumbTemplate.CssClasses={Active:"active"};}function a(g){var e=c.UI.ContainerTemplate,f=c.UI.LinkTemplate,h=c.UI.TextControlSimpleTemplate;if(g.state!==c.UI.Crumb.State.Active){return e({id:g.id,cssClass:"crumb",contentHTML:f({id:g.id+c.UI.LinkTemplate.defaultEventTag,contentText:g.title})});}else{return e({id:g.id,cssClass:"crumb",contentHTML:h({id:g.id+c.UI.TextControlSimpleTemplate.Postfix,cssClass:"inlineText",contentText:g.title})});}}})(window,WA);(function(d,c,b){if(!c.UI.BulletedContainer){c.UI.BulletedContainer=a;}function a(r,q){q=q||{};var z=this,F="WA.UI.BulletedContainer",G=r,y=q.parentComponent;z.toString=function(){return F;};z.RenderComplete=c.Tools.EventHandlers.createHandlers(z,{id:"RenderComplete"});z.Dispose=c.Tools.EventHandlers.createHandlers(z,{id:"Dispose"});z.IconClick=c.Tools.EventHandlers.createHandlers(z,{id:"IconClick"});z.dispose=k;z.render=B;z.renderComplete=x;z.recalculateState=A;z.enableToolTip=m;z.disableToolTip=j;var D,n=[],o=[],v=G.displayType&&G.displayType.toLowerCase()==c.UI.TextContainerTemplate.DisplayType.SingleLine.toLowerCase(),t=G.fadeMode===true&&v,H=t&&G.windowResizeWatcherEnabled===true,s=false,E,u=false;function m(){l();}function j(){i();if(E){E.disableToolTip();}}function A(){c.throttle(l,72);}function C(){i();if(t&&D.scrollWidth>D.offsetWidth){E.enableToolTip();}else{E.disableToolTip();}}function B(){return c.UI.BulletedContainerTemplate(G);}function l(){if(!t||u){return;}u=true;if(E){E.disableToolTip();}c.addHandler(D,"mousemove",C);}function i(){c.clearThrottle(l);if(!t||!u){return;}u=false;c.removeHandler(D,"mousemove",C);}function x(J,I){D=c.$(G.id+c.UI.BulletedContainerTemplate.TextContainerPostfix);h();z.RenderComplete.fireHandlers();E.setToolTipContent(G.contentText);l();if(H){c.addHandler(d,"resize",A);}}function h(){if(E&&!E.isDisposed()){return;}E=new c.UI.ToolTip({id:G.id+c.UI.BulletedContainerTemplate.ToolTipPostfix,target:D,autoEnable:false},{parentComponent:z,trackMouse:true});}function p(){y.RenderComplete.addHandler(x);y.Dispose.addHandler(k);f();g();}function g(){var K,L,J,I;for(K=0,L=n.length;K<L;K++){J=n[K];J.id=J.id?J.id:(G.id+"_"+K);I=new c.UI.Icon(J,{parentComponent:z});I.IconClick.addHandler(w);o.push(I);}}function w(J,I){I=I||{};I.bulletedContainerId=G.id;I.eventTags=G.eventTags;z.IconClick.fireHandlers(I);}function f(){if(G.leftIcons){n=n.concat(G.leftIcons);}if(G.rightIcons){n=n.concat(G.rightIcons);}}function e(){c.clearThrottle(l);}function k(){if(s){return;}e();z.Dispose.fireHandlers();y.RenderComplete.removeHandler(x);y.Dispose.removeHandler(k);i();if(H){c.removeHandler(d,"resize",A);}G=null;y=null;D=null;E=null;n=null;o=null;z.RenderComplete=null;z.Dispose=null;z.IconClick=null;s=true;}p();}})(window,WA);(function(i,h,g){if(!h.UI.BulletedContainerTemplate){h.UI.BulletedContainerTemplate=b;h.UI.BulletedContainerTemplate.TextContainerPostfix="_textContainer";h.UI.BulletedContainerTemplate.LeftIconsContainerPostfix="_iconsContainerLeft";h.UI.BulletedContainerTemplate.RightIconsContainerPostfix="_iconsContainerRight";h.UI.BulletedContainerTemplate.ToolTipPostfix="_toolTip";h.UI.BulletedContainerTemplate.IconPosition={Left:"left",Right:"right"};h.UI.BulletedContainerTemplate.DisplayType={SingleLine:"singleline",MultiLine:"multiline",ListItem:"listitem"};h.UI.BulletedContainerTemplate.DefaultIconPadding=5;}function b(j){return j.inControlLayout===true?d(j):a(j);}function d(l){var j=h.UI.ControlLayoutTemplate,k={};k.id=l.id;k.attr=l.attr;k.title=l.title;k.description=l.description;k.fadeMode=l.fadeMode;k.width=l.width;k.titlePosition=l.titlePosition;k.controlContainerDisplayType=l.controlContainerDisplayType?l.controlContainerDisplayType:h.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;k.cssClass="bulletedContainer"+(l.cssClass?" "+l.cssClass:"");k.layoutContentHTML=a(l);return j(k);}function a(n){var l=h.UI.ContainerTemplate,j,k=n.displayType||h.UI.BulletedContainerTemplate.DisplayType.SingleLine,o={attr:(n.attr&&n.attr.eventTags)?{eventTags:n.attr.eventTags}:{},displayType:k,fadeMode:(n.fadeMode&&k==h.UI.BulletedContainerTemplate.DisplayType.SingleLine)||false,leftIconsPadding:n.leftIconsPadding||h.UI.BulletedContainerTemplate.DefaultIconPadding,rightIconsPadding:n.rightIconsPadding||h.UI.BulletedContainerTemplate.DefaultIconPadding};if(o.displayType==h.UI.BulletedContainerTemplate.DisplayType.SingleLine){o.leftIconsSize=e(n.leftIcons,o,true);o.rightIconsSize=e(n.rightIcons,o);j=h.Object.copy(o.attr);j.style=j.style||{};if(o.leftIconsSize.width){j.style["padding-left"]=(o.leftIconsSize.width+o.leftIconsPadding)+"px";}if(o.rightIconsSize.width){j.style["padding-right"]=(o.rightIconsSize.width+o.rightIconsPadding)+"px";}}else{j=o.attr;}return l({cssClass:"bulletedContainer"+f(o.displayType)+(n.cssClass?" "+n.cssClass:""),attr:n.attr,id:n.id,cssStyle:n.cssStyle,contentHTML:l({cssClass:"bulletedContainerContent",attr:j,contentHTML:c(n,n.leftIcons,h.UI.BulletedContainerTemplate.LeftIconsContainerPostfix,o)+l({attr:o.attr,cssClass:"bulletedContainerTextContainer",contentHTML:l({cssClass:"text"+(o.fadeMode?" fadeMode":""),attr:o.attr,id:n.id?(n.id+h.UI.BulletedContainerTemplate.TextContainerPostfix):null,contentText:n.contentText,contentHTML:n.contentHTML})})+c(n,n.rightIcons,h.UI.BulletedContainerTemplate.RightIconsContainerPostfix,o)})});}function e(l,p,n){var q={width:0,height:0},k,o=l&&l.length,m,j=n?p.leftIconsPadding:p.rightIconsPadding;if(!o){return q;}for(k=0;k<o;k++){m=h.UI.IconTemplate.getIconSize(l[k]);q.width+=m.width;if(k>0&&m.width>0){q.width+=j;}q.height=Math.max(q.height,m.height);}return q;}function c(v,o,w,x){if(!o||!o.length){return"";}var n,u,l,p=[],k=h.UI.ContainerTemplate,j,s=w==h.UI.BulletedContainerTemplate.LeftIconsContainerPostfix,t=x.displayType==h.UI.BulletedContainerTemplate.DisplayType.SingleLine,q=s?x.leftIconsPadding:x.rightIconsPadding,r=s?x.leftIconsSize:x.rightIconsSize;for(n=0,u=o.length;n<u;n++){l=o[n];if(t&&n>0){l.padding=l.padding||{};l.padding.left=(l.padding.left||0)+q;}p.push(h.UI.IconTemplate(l));}if(x.displayType==h.UI.BulletedContainerTemplate.DisplayType.SingleLine){j=h.Object.copy(x.attr);j.style=j.style||{};j.style["margin-top"]="-"+Math.round(r.height/2)+"px";if(v.iconsFixed){j.style.width=r.width+"px";}}else{j=x.attr;}return k({cssClass:"iconsContainer "+(s?"left":"right"),id:v.id?(v.id+w):null,attr:j,contentHTML:p.join("")});}function f(j){switch(j.toLowerCase()){case h.UI.BulletedContainerTemplate.DisplayType.SingleLine:return(" singleLine");case h.UI.BulletedContainerTemplate.DisplayType.MultiLine:return(" multiLine");case h.UI.BulletedContainerTemplate.DisplayType.ListItem:return(" listItem");default:}}})(window,WA);(function(d,c,b){if(!c.UI.BulletedList){c.UI.BulletedList=a;}function a(h,g){g=g||{};var l=this,n="WA.UI.BulletedList",o=h,k=g.parentComponent;l.toString=function(){return n;};l.RenderComplete=c.Tools.EventHandlers.createHandlers(l,{id:"RenderComplete"});l.Dispose=c.Tools.EventHandlers.createHandlers(l,{id:"Dispose"});var i=false;l.render=m;function m(){return c.UI.BulletedListTemplate(o);}function j(q,p){l.RenderComplete.fireHandlers();}function f(){k.RenderComplete.addHandler(j);k.Dispose.addHandler(e);}function e(){if(i){return;}l.Dispose.fireHandlers();k.RenderComplete.removeHandler(j);k.Dispose.removeHandler(e);o=null;k=null;l.RenderComplete=null;l.Dispose=null;i=true;}f();}})(window,WA);(function(d,c,b){if(!c.UI.BulletedListTemplate){c.UI.BulletedListTemplate=a;}function a(h){var e=[];var f,g;for(f=0,g=h.items.length;f<g;f++){e.push(c.UI.ContainerTemplate({cssClass:"bulletedListItem",contentHTML:c.UI.BulletedContainerTemplate(h.items[f])}));}h.cssClass="bulletedListContainer";h.layoutContentHTML=c.UI.ContainerTemplate({cssClass:"bulletedList",contentHTML:e.join("")});return c.UI.ControlLayoutTemplate(h);}})(window,WA);(function(c,b){if(!b.UI.Button){b.UI.Button=a;b.UI.Button.TypeName="WA.UI.Button";}function a(i,h){h=h||{};var m=this,p=i,l=h.parentComponent;m.toString=function(){return b.UI.Button.TypeName;};m.RenderComplete=b.Tools.EventHandlers.createHandlers(m,{id:"RenderComplete"});m.Dispose=b.Tools.EventHandlers.createHandlers(m,{id:"Dispose"});m.ButtonClick=b.Tools.EventHandlers.createHandlers(m,{id:"ButtonClick"});m.init=g;m.render=n;m.renderComplete=k;m.dispose=e;m.enable=f;m.disable=d;m.setText=o;function n(){return b.UI.ButtonTemplate(p);}function f(){var r=p.currentWindow||c,q=b.$(p.id,r);b.Dom.removeClassName(q,"Disabled");q.disabled=false;r=q=null;}function d(){var r=p.currentWindow||c,q=b.$(p.id,r);b.Dom.addClassName(q,"Disabled");q.disabled=true;r=q=null;}function o(r){var s=p.currentWindow||c,q=b.$(p.id,s);q.value=r;q.title=r;s=q=null;}function j(q){var r=b.getEventTags(q);m.ButtonClick.fireHandlers({eventTags:r});}function k(s,q){var t=p.currentWindow||c;var r=b.$(p.id,t);b.addHandler(r,"click",j);m.RenderComplete.fireHandlers();r=null;}function g(){l.RenderComplete.addHandler(k);l.Dispose.addHandler(e);}function e(){m.Dispose.fireHandlers();var q=b.$(p.id);if(q){b.removeHandler(q,"click",j);}q=null;l.RenderComplete.removeHandler(k);l.Dispose.removeHandler(e);p=null;l=null;m.RenderComplete=null;m.Dispose=null;m.ButtonClick=null;}}})(window,WA);(function(b,a){if(!a.UI.ButtonTemplate){a.UI.ButtonTemplate=function(e){var c=[],d=e.isDisabled!=undefined&&e.isDisabled===true;e.attr=e.attr||{};c.push('<input type="button"');if(e.id){c.push(' id="'+e.id+'"');}c.push(' class="typeButton');if(e.cssClass){c.push(" "+e.cssClass);}if(d){c.push(" Disabled");}c.push('"');if(e.value!=undefined){c.push(' value="'+a.encodeHtml(e.value)+'"');}if(e.title){c.push(' title="'+a.encodeHtml(e.title)+'"');}else{c.push(' title="'+a.encodeHtml(e.value)+'"');}if(d){c.push(' disabled="disabled"');}if(e.attr){c.push(a.UI.Helpers.ControlHelper.renderAttributes(e.attr));}c.push(a.UI.Helpers.ControlHelper.renderAttributes(e.attr));c.push(" />");return c.join("");};a.UI.ButtonTemplate.defaultEventTag="_button";}})(window,WA);(function(c,b){if(!b.UI.CalendarTextBox){b.UI.CalendarTextBox=a;b.UI.CalendarTextBox.TypeName="WA.UI.CalendarTextBox";b.UI.CalendarTextBox.DateFormat={Ticks:"ticks",String:"string"};b.UI.CalendarTextBox.DefaultDateMask=b.WaDate.DateFormat.ddMMMMyyyy;}function a(y,x,Q){x=x||{};var O=this,Y=b.UI.CalendarTextBox.TypeName,aa=y,M=x.parentComponent,B=aa.minDateRestriction,A=aa.maxDateRestriction,Z;O.toString=function(){return Y;};O.RenderComplete=b.Tools.EventHandlers.createHandlers(O,{id:"RenderComplete"});O.Dispose=b.Tools.EventHandlers.createHandlers(O,{id:"Dispose"});O.ValueChanged=b.Tools.EventHandlers.createHandlers(O,{id:"ValueChanged"});O.EditStarted=b.Tools.EventHandlers.createHandlers(O,{id:"EditStarted"});O.VisualStateChanged=b.Tools.EventHandlers.createHandlers(O,{id:"VisualStateChanged"});var W,d,e,k=aa.mask||b.UI.CalendarTextBox.DefaultDateMask,j="%e %B %Y",C=b.String.gtrim(k).charAt(0)=="m",f="Br/ / /T/r",g=0,h=2,u=false,z=false,i,V=x.hasOwnProperty("showValidationMessage")?x.showValidationMessage:true;O.dispose=n;O.render=P;O.getValue=t;O.getFormattedValue=s;O.setValue=U;O.setPostfix=T;O.setErrorState=S;O.getType=function(){return aa.layoutControlType;};O.parentSelected=N;O.isEnabled=function(){return !aa.disabled;};O.enable=o;O.disable=m;O.setCalendarSelection=R;function R(ab){if(!ab){throw new Error("ticks value is empty.");}e.moveTo(new Date(ab));e.selection.set(q(ab));}function q(ab){return b.Date.format(new Date(ab),"yyyymmdd",true);}function o(){W.enable();d.enableToolTip();d.enableIcon();aa.disabled=false;}function m(){W.disable();d.disableToolTip();d.disableIcon();aa.disabled=true;}function N(ab){b.UI.Helpers.ControlHelper.applyParentSelectedBehavior(O,aa.parentChangeBehaviour,ab);}function S(ab){W.setErrorState(ab);if(ab===true){b.Dom.addClassName(i,"error");return;}b.Dom.removeClassName(i,"error");}function T(ab){b.UI.Helpers.ControlHelper.setPostfix(aa.id,ab);}function U(ac,ab){var ad=ab==b.UI.CalendarTextBox.DateFormat.Ticks?ac:l(ac);Z.setValue(ad,"unixTicks");W.setValue(r(ad));}function r(ab){if(!ab){return"";}return b.Date.format(new Date(ab),k,true);}function t(){return{name:aa.attr.eventTags,value:Z.getValue("unixTicks")};}function s(){var ab=Z.getValue("unixTicks");return{name:aa.attr.eventTags,value:r(ab)};}function P(){return b.UI.CalendarTextBoxTemplate(aa);}function p(){if(u){O.ValueChanged.fireHandlers({controlId:aa.id,newValue:Z.getValue("unixTicks")});}u=false;z=false;}function F(ac,ab){p();}function E(ac,ab){var ad=l(ab.value[0]);Z.setValue(ad,"unixTicks");W.setValue(r(ad));u=true;p();v();}function H(ac,ab){i=b.$(aa.id+b.UI.ControlLayoutTemplate.IdControlLayoutPostfix);Q.events.contentScroll.addHandler(G);e=Calendar.setup({inputField:aa.id+b.UI.CalendarTextBoxTemplate.idTextBoxPostfix,trigger:aa.id+b.UI.CalendarTextBoxTemplate.FakeTriggerPostfix,anchor:aa.id+b.UI.CalendarTextBoxTemplate.idTextBoxPostfix+b.UI.ControlLayoutTemplate.IdControlContainerPostfix,offset:{x:g,y:h},bottomBar:true,fdow:0,selectionType:Calendar.SEL_SINGLE,weekNumbers:false,dateFormat:j,titleFormat:"%b %Y",showTime:false,timePos:"right",minuteStep:10,fixed:true,noScroll:true,min:B?X(B.unixTicks):null,max:A?X(A.unixTicks):null,align:"Br/ / /T/r",date:aa.calendarSelection?new Date(aa.calendarSelection):true,selection:aa.calendarSelection?q(aa.calendarSelection):[]});e.ValueChanged.addHandler(E);e.CloseCalendar.addHandler(F);O.RenderComplete.fireHandlers();}function X(ac){var ab=new Date(ac);return[ab.getUTCFullYear(),ab.getUTCMonth()+1,ab.getUTCDate()].join("-");}function G(ac,ab){v();}function J(ac,ab){b.UI.Helpers.ControlHelper.hideValidationMessages(aa.id);O.EditStarted.fireHandlers();}function L(ac,ab){O.VisualStateChanged.fireHandlers();}function l(ab){if(!ab){return null;}return b.Date.getDateOnlyUtcTicks(Calendar.parseDate(""+ab,C));}function I(ac,ab){if(ab.isValueChanged===false){return;}var ad=l(W.getValue());W.setValue(r(ad));Z.setValue(ad,"unixTicks");b.UI.Helpers.ControlHelper.hideValidationMessages(aa.id);O.ValueChanged.fireHandlers({controlId:aa.id,newValue:Z.getValue("unixTicks")});u=false;}function D(ab){if(z===true||aa.disabled){b.throttle(v,50);z=false;return;}e.showForField(aa.id+b.UI.CalendarTextBoxTemplate.TriggerPostfix,aa.id+b.UI.CalendarTextBoxTemplate.idTextBoxPostfix,aa.id+b.UI.CalendarTextBoxTemplate.idTextBoxPostfix+b.UI.ControlLayoutTemplate.IdControlContainerPostfix,j,f,{x:g,y:h});z=true;}function v(){e.hide();}function K(){var ab=Z.getErrors();if(ab.length>0&&V){b.UI.Helpers.ControlHelper.showValidationMessages(aa.id,ab);S(true);}}function w(){Z=b.UI.Helpers.ValueAccessorHelper.createValueAccessor(y,O);W=new b.UI.TextBox({id:aa.id+b.UI.CalendarTextBoxTemplate.idTextBoxPostfix,attr:{eventTags:aa.attr.eventTags+"_input"},value:r(Z.getValue("unixTicks")),disabled:aa.disabled},{parentComponent:O});W.ValueChanged.addHandler(J);W.TextBoxBlur.addHandler(I);W.VisualStateChanged.addHandler(L);d=new b.UI.Icon({id:aa.id+b.UI.CalendarTextBoxTemplate.TriggerPostfix,iconType:b.UI.IconType.CalendarIcon,iconSize:b.UI.IconTemplate.IconSize.Medium,iconToolTip:{toolTipText:"Select date"},disabled:aa.disabled},{parentComponent:O});d.IconClick.addHandler(D);M.RenderComplete.addHandler(H);M.Dispose.addHandler(n);if(M.ValidationFailed){M.ValidationFailed.addHandler(K);}}function n(){O.Dispose.fireHandlers();M.RenderComplete.removeHandler(H);M.Dispose.removeHandler(n);if(M.ValidationFailed){M.ValidationFailed.removeHandler(K);}if(e){e.ValueChanged.removeHandler(E);e.CloseCalendar.removeHandler(F);}Q.events.contentScroll.removeHandler(G);b.clearThrottle(v);aa=null;e=null;i=null;M=null;O.RenderComplete=null;O.ValueChanged=null;O.EditStarted=null;O.Dispose=null;O.VisualStateChanged=null;}w();}})(window,WA);(function(d,c){if(!c.UI.CalendarTextBoxTemplate){c.UI.CalendarTextBoxTemplate=a;c.UI.CalendarTextBoxTemplate.getWidthByDateFormat=b;c.UI.CalendarTextBoxTemplate.TriggerPostfix="_trigger";c.UI.CalendarTextBoxTemplate.FakeTriggerPostfix="_fakeTrigger";c.UI.CalendarTextBoxTemplate.idTextBoxPostfix="_textBox";c.UI.CalendarTextBoxTemplate.PostfixTextPostfix="_postfixText";}function a(h){var g=c.UI.ContainerTemplate,f=c.UI.ControlLayoutTemplate,e=h.controlContainerDisplayType?h.controlContainerDisplayType:c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible,i=h.width;if(h.fitToDate){e=c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed;i=b(h.mask);}h.controlContainerDisplayType=e;h.cssClass="calendarTextBox";h.layoutContentHTML=g({cssClass:"calendarTextBoxContainer",attr:(e!=c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible&&i!=undefined)?{style:"width: "+i+"px;"}:undefined,contentHTML:g({cssClass:"inputContainer",contentHTML:c.UI.TextBoxTemplate({id:h.id+c.UI.CalendarTextBoxTemplate.idTextBoxPostfix,disabled:h.disabled})+g({cssClass:"triggerButtonContainer",contentHTML:c.UI.IconTemplate({id:h.id+c.UI.CalendarTextBoxTemplate.TriggerPostfix,iconType:c.UI.IconType.CalendarIcon,iconSize:c.UI.IconTemplate.IconSize.Medium,iconToolTip:{toolTipText:"toolTipText"}})+g({cssClass:"fakeTriggerButton",id:h.id+c.UI.CalendarTextBoxTemplate.FakeTriggerPostfix})})})});return f(h);}c.UI.CalendarTextBoxTemplate.createSummary=function(e){if(e.hideInSummary||e.value==""){return"";}return c.UI.ContainerTemplate({cssClass:"controlSummary",contentHTML:c.UI.TextContainerTemplate({contentText:e.summaryTitle})});};function b(e){e=e||c.UI.CalendarTextBox.DefaultDateMask;var f=c.WaDate.DateFormat;switch(e){case f.MMddyyyySlash:case f.dMMyyyySlash:case f.ddMMyyyyDot:case f.ddMMyyyyHyphen:case f.yyyyMMddHyphen:return 105;case f.dMMMyyyySpace:case f.ddMMMyyyySpace:case f.ddMMMyyyyHyphen:return 110;case f.ddddMMMMddyyyy:return 230;case f.dddMMMMddyyyy:return 190;case f.MMMMddyyyy:return 155;case f.ddMMMMyyyy:return 151;default:throw new Error("Unsupported date format.");}}})(window,WA);(function(d,c,b){if(!c.UI.CancellationBehaviorEdit){c.UI.CancellationBehaviorEdit=a;}function a(o,n){n=n||{};var w=this,y="WA.UI.CancellationBehaviorEdit",A=o,z=A.valueAccessor,u=n.parentComponent;w.toString=function(){return y;};w.RenderComplete=c.Tools.EventHandlers.createHandlers(w,{id:"RenderComplete"});w.Dispose=c.Tools.EventHandlers.createHandlers(w,{id:"Dispose"});w.ValueChanged=c.Tools.EventHandlers.createHandlers(w,{id:"ValueChanged"});var p=false,j,e,k,f,g;w.render=x;w.enable=l;w.disable=h;w.parentSelected=v;function x(){return c.UI.CancellationBehaviorEditTemplate(A);}function l(){}function v(B){c.UI.Helpers.ControlHelper.applyParentSelectedBehavior(w,A.parentChangeBehaviour,B);}function h(){}function t(C,B){if(k.getValue()){g.disable();}w.RenderComplete.fireHandlers();}function m(){var D=0;var C=9999;g=new c.UI.NumberTextbox({id:A.id+c.UI.CancellationBehaviorEditTemplate.DaysBeforeEventIdPostfix,minValue:D,maxValue:C,valueAccessor:z.createChildValueAccessor("daysBeforeEvent",w)},{parentComponent:w});var E=A.id+c.UI.CancellationBehaviorEditTemplate.DoNotAllowRadioButtonIdPostfix;k=z.createChildValueAccessor("doNotAllow",w),j=new c.UI.RadioButton({id:E,value:z.getValue("doNotAllow"),valueAccessor:k,attr:{eventTags:E}},{parentComponent:w});j.ValueChanged.addHandler(s);var B=A.id+c.UI.CancellationBehaviorEditTemplate.AllowRadioButtonIdPostfix;f=z.createChildValueAccessor("allow",w),e=new c.UI.RadioButton({id:B,valueAccessor:f,attr:{eventTags:B}},{parentComponent:w});e.ValueChanged.addHandler(q);u.RenderComplete.addHandler(t);u.Dispose.addHandler(i);}function s(C,B){f.setValue(!C.getValue());r();}function q(C,B){k.setValue(!C.getValue());r();}function r(){if(f.getValue()&&!g.isEnabled()){g.enable();}if(!f.getValue()&&g.isEnabled()){g.disable();}}function i(){if(p){return;}w.Dispose.fireHandlers();u.RenderComplete.removeHandler(t);u.Dispose.removeHandler(i);A=null;u=null;z=null;j=null;e=null;k=null;f=null;g=null;w.ValueChanged=null;w.RenderComplete=null;w.Dispose=null;p=true;}m();}})(window,WA);(function(i,h,g){if(!h.UI.CancellationBehaviorEditTemplate){h.UI.CancellationBehaviorEditTemplate=a;h.UI.CancellationBehaviorEditTemplate.DaysBeforeEventIdPostfix="_daysBeforeEvent";h.UI.CancellationBehaviorEditTemplate.DoNotAllowRadioButtonIdPostfix="_doNotAllowRadioButton";h.UI.CancellationBehaviorEditTemplate.AllowRadioButtonIdPostfix="_allowRadioButton";h.UI.CancellationBehaviorEditTemplate.CancellationRadioButtonGroup="cancellationGroup";}function a(k){var j=h.UI.ContainerTemplate;k.cssClass="cancellationBehaviorEditContainer";k.layoutContentHTML=j({cssClass:"cancellationBehaviorEdit",contentHTML:e(k)+b(k)});return h.UI.ControlLayoutTemplate(k);}function e(j){return h.UI.ContainerTemplate({cssClass:"doNotAllowCancellationContainer",contentHTML:f(j)});}function f(j){return h.UI.RadioButtonTemplate({id:j.id+h.UI.CancellationBehaviorEditTemplate.DoNotAllowRadioButtonIdPostfix,name:h.UI.CancellationBehaviorEditTemplate.CancellationRadioButtonGroup,contentText:j.resources.doNotAllowCancellationLabel});}function b(j){return h.UI.ContainerTemplate({cssClass:"allowCancellationContainer",contentHTML:c(j)+d(j)});}function c(j){return h.UI.RadioButtonTemplate({id:j.id+h.UI.CancellationBehaviorEditTemplate.AllowRadioButtonIdPostfix,name:h.UI.CancellationBehaviorEditTemplate.CancellationRadioButtonGroup,cssClass:"allowCancellationRadioButton",contentText:j.resources.allowUpToPeriodBeforeDaysEditorLabel});}function d(j){return h.UI.NumberTextboxTemplate({id:j.id+h.UI.CancellationBehaviorEditTemplate.DaysBeforeEventIdPostfix,cssClass:"allowCancellationDaysBeforeEvent",controlContainerDisplayType:h.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed,postfix:j.resources.allowUpToPeriodExplanationLabel,width:50});}})(window,WA);(function(c,b){if(!b.UI.CanvasPageHeaderTemplate){b.UI.CanvasPageHeaderTemplate=a;}function a(d){d=d||{};d.contentText=d.contentText||"";d.cssClass=d.cssClass||"";return b.UI.ContainerTemplate({id:d.id,cssClass:"PageHeaderContainer xcontainer",contentHTML:b.UI.ContainerTemplate({cssClass:"PageHeader",contentHTML:b.UI.TextContainerTemplate({cssClass:"PageHeaderMainText "+d.cssClass,contentText:d.contentText})})});}})(window,WA);(function(d,c,b){if(!c.UI.CheckBox){c.UI.CheckBox=a;c.UI.CheckBox.TypeName="WA.UI.CheckBox";}function a(r,q,L){q=q||{};var I=this,O=c.UI.CheckBox.TypeName,l={},Q=r,P,G=q.parentComponent,s=Q.id,x;Q.attr=Q.attr||{eventTags:Q.id};I.toString=function(){return O;};var w=null,u=false,t,g,h=s+c.UI.ControlLayoutTemplate.IdControlLayoutPostfix,e,K,v=true,f=q.childElementEventHandlers||{ValueChanged:A,VisualStateChanged:F};I.ValueChanged=c.Tools.EventHandlers.createHandlers(I,{id:"ValueChanged"});I.ValidationFailed=c.Tools.EventHandlers.createHandlers(I,{id:"ValidationFailed"});I.Dispose=c.Tools.EventHandlers.createHandlers(I,{id:"Dispose"});I.RenderComplete=c.Tools.EventHandlers.createHandlers(I,{id:"RenderComplete"});I.VisualStateChanged=c.Tools.EventHandlers.createHandlers(I,{id:"VisualStateChanged"});I.isEnabled=function(){return v;};I.dispose=j;I.render=J;I.renderComplete=D;I.enable=k;I.disable=i;I.getId=function(){return s;};I.getContainerId=function(){return h;};I.setValue=M;I.parentSelected=H;I.isChecked=function(){return Q.checked;};I.isDisposed=function(){return u;};I.getValue=n;I.getType=function(){return Q.layoutControlType;};I.getContainer=function(){return g;};I.getModel=function(){return Q;};I.getKey=function(){return Q.attr.eventTags;};I.hide=o;I.show=N;I.isFirst=function(){return Q.isFirst;};function n(){return Q.checked?P.getValue():null;}function o(){g.style.display="none";}function N(){g.style.display="";}function H(R){if(R===false){return;}}function A(S,R){I.ValueChanged.fireHandlers(R);}function J(){return c.UI.CheckBoxTemplate(Q);}function D(S,R){var U=Q.frameWindow||d;t=c.$(s,U);g=c.$(h,U);if(!g){throw new Error("containerElem was not found!");}var T=P.getValue();if(T===b){P.setValue(t.checked);}else{if(c.getTypeString(T)=="boolean"){t.checked=T;}}l[s]={click:y};c.Tools.applyEventModel(l,Q.frameWindow);if(Q.linkedControlContainerType==c.UI.ControlLayoutTemplate.LinkedControlContainerType.Parent){x=c.$(Q.linkedControlContainerId);x.innerHTML=c.UI.Helpers.ControlHelper.createLinkedControlHtml(Q);}if(Q.disabled===true){i();}else{k();}if(Q.hidden===true){o();}Q.checked=t.checked;I.RenderComplete.fireHandlers(R);if(w){w.parentSelected(P.getValue());}U=null;}function E(R){c.UI.Helpers.ValidationHelper.updateValidationMessages({controlId:Q.id,messages:P.getErrors(),isEditInProgress:R.isEditInProgress});I.ValidationFailed.fireHandlers();}function y(R){if(c.getTypeString(P.getValue())=="boolean"){P.setValue(Boolean(t.checked));}Q.checked=t.checked;m();}function M(R,S){if(c.getTypeString(P.getValue())=="boolean"){P.setValue(Boolean(R));}Q.checked=R;if(t){t.checked=R;}if(!S){return;}m();}function m(){var R=P.getValue();if(w){w.parentSelected(R);}I.ValueChanged.fireHandlers({eventTags:Q.attr.eventTags,newValue:R,checkedState:Q.checked});}function z(S,R){switch(R.state){case true:k();break;case false:i();break;}}function F(){I.VisualStateChanged.fireHandlers();}function C(){e.disableToolTip();if(K){K.disableToolTip();}}function B(){e.enableToolTip();if(K){K.enableToolTip();}}function k(){c.Dom.removeClassName(g,"disabled");t.disabled=false;v=true;}function i(){c.Dom.addClassName(g,"disabled");t.disabled=true;v=false;}function p(){w=c.UI.Helpers.ControlHelper.createLinkedControl(Q,{parentComponent:I},L,f);G.Dispose.addHandler(j);if(G.RenderComplete){G.RenderComplete.addHandler(D);}if(G.ChildCheckBoxDragStart){G.ChildCheckBoxDragStart.addHandler(C);}if(G.ChildCheckBoxDragEnd){G.ChildCheckBoxDragEnd.addHandler(B);}if(G.ValidationFailed){G.ValidationFailed.addHandler(E);}if(G.EnabledStateChanged){G.EnabledStateChanged.addHandler(z);}if(r.value===b){r.value=r.checked;}if(r.valueAccessor==b&&r.value==b){}P=c.UI.Helpers.ValueAccessorHelper.createValueAccessor(r,I);e=new c.UI.BulletedContainer({id:(Q.id||c.getRandomId())+c.UI.CheckBoxTemplate.LabelPostfix,contentText:Q.contentText,contentHTML:Q.contentHTML,leftIcons:Q.leftIcons,rightIcons:Q.rightIcons,fadeMode:Q.fadeMode!==b?Q.fadeMode:true,displayType:Q.displayType||c.UI.BulletedContainerTemplate.DisplayType.SingleLine},{parentComponent:I});if(Q.rightColumnText){K=c.Object.create(c.UI.TextContainer,[{id:Q.id+c.UI.CheckBoxTemplate.LabelRightColumntPostfix,contentText:Q.rightColumnText,fadeMode:false,displayType:Q.displayType||c.UI.BulletedContainerTemplate.DisplayType.SingleLine},{parentComponent:I}]);}if(q.htmlReady){D();}}function j(){if(u){return;}I.Dispose.fireHandlers();G.Dispose.removeHandler(j);if(G.RenderComplete){G.RenderComplete.removeHandler(D);}if(G.ChildCheckBoxDragStart){G.ChildCheckBoxDragStart.removeHandler(C);}if(G.ChildCheckBoxDragEnd){G.ChildCheckBoxDragEnd.removeHandler(B);}if(G.ValidationFailed){G.ValidationFailed.removeHandler(E);}if(G.EnabledStateChanged){G.EnabledStateChanged.removeHandler(z);}c.Tools.disposeEventModel(l,Q.frameWindow);Q=null;e=null;K=null;I.RenderComplete=null;I.Dispose=null;I.ValueChanged=null;I.ValidationFailed=null;I.VisualStateChanged=null;t=null;g=null;P=null;x=null;u=true;}p();}})(window,WA);(function(d,c,b){if(!c.UI.CheckBoxAvatarTemplate){c.UI.CheckBoxAvatarTemplate=a;c.UI.CheckBoxAvatarTemplate.AvatarPostfix="_checkboxAvatar";}function a(f){var e=c.Object.copy(f);e.id=e.id+c.UI.CheckBoxAvatarTemplate.AvatarPostfix;return c.UI.CheckBoxTemplate(e);}})(window,WA);(function(g,f,e){if(!f.UI.CheckBoxTemplate){f.UI.CheckBoxTemplate=a;f.UI.CheckBoxTemplate.LabelPostfix="_checkboxLabel";f.UI.CheckBoxTemplate.LabelRightColumntPostfix="_checkboxLabelRightColumn";f.UI.CheckBoxTemplate.IdValidationContainerPostfix="_checkBoxValidationContainer";f.UI.CheckBoxTemplate.CheckBoxClassName="checkBox";f.UI.CheckBoxTemplate.FirstCheckBoxClassName="first";f.UI.CheckBoxTemplate.NoDragClassName="dragDisabled";}function a(n){n.id=n.id||f.getRandomId();var h=b(n);var k=c(n);var i=f.UI.ControlLayoutTemplate,j=f.UI.ContainerTemplate,l={};l.id=n.id;l.attr=n.attr;l.title=n.title;l.titleWidth=n.titleWidth;l.description=n.description;l.fadeMode=n.fadeMode;l.width=n.width;l.titlePosition=n.titlePosition;l.linkedControl=n.linkedControl;l.linkedControlPosition=n.linkedControlPosition;l.linkedControlContainerType=n.linkedControlContainerType;l.linkedControlContainerDisplayType=n.linkedControlContainerDisplayType||f.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed;l.controlContainerDisplayType=n.controlContainerDisplayType?n.controlContainerDisplayType:f.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;l.cssClass=f.UI.CheckBoxTemplate.CheckBoxClassName+(n.cssClass?" "+n.cssClass:"")+(n.isFirst?(" "+f.UI.CheckBoxTemplate.FirstCheckBoxClassName):"");l.layoutContentHTML=j({cssClass:"checkboxContainer"+d(n.displayType||f.UI.BulletedContainerTemplate.DisplayType.SingleLine),contentHTML:j({cssClass:"inputContainer",contentHTML:h})+k});return i(l);}function b(j){var h=[],k=(j.value!=e&&j.value.value!=e)?j.value.value:false,i=j.checked;if(i==e){if(f.getTypeString(k)=="boolean"){i=k;}else{i=false;}}h.push('<input type="checkbox" class="checkboxInput dragDisabled');h.push('"');if(j.id){h.push(' id="'+j.id+'"');}if(j.attr){h.push(f.UI.Helpers.ControlHelper.renderAttributes(j.attr));}if(j.value!=e&&j.value.name!=e){h.push(' value="'+j.value.name+'"');}if(j.name){h.push(' name="'+j.name+'"');}if(j.checked){h.push(' checked="checked"');}if(j.disabled){h.push(' disabled="disabled"');}h.push(" />");return h.join("");}function d(h){switch(h.toLowerCase()){case f.UI.BulletedContainerTemplate.DisplayType.SingleLine:return(" singleLine");case f.UI.BulletedContainerTemplate.DisplayType.MultiLine:return(" multiLine");case f.UI.BulletedContainerTemplate.DisplayType.ListItem:return(" listItem");default:}}function c(l){var h=[],j=l.displayType||f.UI.BulletedContainerTemplate.DisplayType.SingleLine,i=f.UI.BulletedContainerTemplate({id:l.id+f.UI.CheckBoxTemplate.LabelPostfix,fadeMode:l.fadeMode!==e?l.fadeMode:true,displayType:j,attr:l.attr,contentText:l.contentText,contentHTML:l.contentHTML,rightIcons:l.rightIcons,leftIcons:l.leftIcons}),n=l.rightColumnText?f.UI.TextContainerTemplate({id:l.id+f.UI.CheckBoxTemplate.LabelRightColumntPostfix,contentText:l.rightColumnText,fadeMode:false,displayType:j}):"",k=j==f.UI.BulletedContainerTemplate.DisplayType.SingleLine?f.UI.ContainerTemplate({contentHTML:i+n}):i+n;h.push('<label onselectstart="return false;"');if(l.id){h.push(' for="'+l.id+'"');}if(l.attr){h.push(f.UI.Helpers.ControlHelper.renderAttributes(l.attr));}h.push(">");h.push(k);h.push("</label>");return h.join("");}})(window,WA);(function(c,b){if(!b.UI.CheckBoxList){b.UI.CheckBoxList=a;b.UI.CheckBoxList.TypeName="WA.UI.CheckBoxList";b.UI.CheckBoxList.PlaceHolderDropType={Before:"before",After:"after"};}function a(P,O,at){O=O||{};var ak=this,aw=b.UI.CheckBoxList.TypeName,ay=P,V,f,ai=O.parentComponent;ay.attr=ay.attr||{eventTags:ay.id};ak.toString=function(){return aw;};var j={},ar,h,k=22,x,p,q=ay.id+b.UI.ControlLayoutTemplate.IdControlLayoutPostfix,l,m=ay.id+b.UI.CheckBoxListTemplate.IdContainerPostfix,n,o=ay.id+b.UI.CheckBoxListTemplate.IdContentContainerPostfix,ao,U=ay.fadeMode,g=ay.bindings,Q=false,S=false,T,J=ay.groupOperationsDisabled,ap=ay.scrolling||{enabled:false,maxHeight:250},R=ay.groupOperationsTop!=undefined,K;ap.maxHeight=ap.maxHeight||250;ak.ValueChanged=b.Tools.EventHandlers.createHandlers(ak,{id:"ValueChanged"});ak.ValidationFailed=b.Tools.EventHandlers.createHandlers(ak,{id:"ValidationFailed"});ak.RenderComplete=b.Tools.EventHandlers.createHandlers(ak,{id:"RenderComplete"});ak.EnabledStateChanged=b.Tools.EventHandlers.createHandlers(ak,{id:"EnabledStateChanged"});ak.Dispose=b.Tools.EventHandlers.createHandlers(ak,{id:"Dispose"});ak.VisualStateChanged=b.Tools.EventHandlers.createHandlers(ak,{id:"VisualStateChanged"});ak.ChildCheckBoxDragStart=b.Tools.EventHandlers.createHandlers(ak,{id:"ChildCheckBoxDragStart"});ak.ChildCheckBoxDragEnd=b.Tools.EventHandlers.createHandlers(ak,{id:"ChildCheckBoxDragEnd"});ak.render=al;ak.enableManualSorting=E;ak.disableManualSorting=z;ak.applyNewModel=e;ak.renderComplete=ac;ak.dispose=B;ak.disable=y;ak.enable=D;ak.show=au;ak.hide=L;ak.disableUnselectedItems=A;ak.enableUnselectedItems=F;ak.selectAll=aq;ak.deselectAll=w;ak.parentSelected=aj;ak.getValue=function(){return V.getValue();};ak.getType=function(){return ay.layoutControlType;};function z(){if(T){T.dispose();}S=false;}function E(){if(ay.items.length<=1){return;}T=new b.UI.CheckBoxListDragDrop({controlLayoutContainerId:q,items:ay.items,boundsBuilder:i},{parentComponent:ak});T.CheckBoxDrop.addHandler(Z);T.CheckBoxDragStart.addHandler(Y);if(ap.enabled){T.BoundReached.addHandler(X);T.SoftBoundReached.addHandler(ae);T.BoundLeave.addHandler(W);}S=true;}function i(){return H();}function H(){if(ap.enabled){h=ao.getContainerRect();}else{h=b.Dimensions.getElementRect(l);}h.bottom=h.bottom-k;return h;}function X(aA,az){if(az.bounds.top){ao.startAutoScroll({scrollDirection:b.UI.ScrollablePanelV2.ScrollDirection.Up,scrollSpeed:b.UI.ScrollablePanelV2.ScrollSpeed.Fast});return;}if(az.bounds.bottom){ao.startAutoScroll({scrollDirection:b.UI.ScrollablePanelV2.ScrollDirection.Down,scrollSpeed:b.UI.ScrollablePanelV2.ScrollSpeed.Fast});}}function ae(aA,az){if(az.bounds.softTop){ao.startAutoScroll({scrollDirection:b.UI.ScrollablePanelV2.ScrollDirection.Up,scrollSpeed:b.UI.ScrollablePanelV2.ScrollSpeed.Slow});return;}if(az.bounds.softBottom){ao.startAutoScroll({scrollDirection:b.UI.ScrollablePanelV2.ScrollDirection.Down,scrollSpeed:b.UI.ScrollablePanelV2.ScrollSpeed.Slow});}}function W(){ao.stopAutoScroll();}function Y(aA,az){ak.ChildCheckBoxDragStart.fireHandlers();}function Z(aB,az){var aA=az.dropCommand;if(ap.enabled){ao.stopAutoScroll();}an(aA);ak.ChildCheckBoxDragEnd.fireHandlers();}function an(aC){var aD,aG,aF,az,aH,aA;for(aD=0,aG=ay.items.length;aD<aG;aD++){aF=ay.items[aD];if(aF.attr.eventTags==aC.draggingId){az=aD;aA=(aH==undefined);}if(aF.attr.eventTags==aC.pointId){aH=aD;}if(az!=undefined&&aH!=undefined){break;}}var aB=ay.items.splice(az,1)[0],aE;if(aC.place==b.UI.CheckBoxListDragDrop.Place.After){aE=aA?aH:aH+1;}if(aC.place==b.UI.CheckBoxListDragDrop.Place.Before){aE=aA?aH-1:aH;}ay.items.splice(aE,0,aB);v();ak.ValueChanged.fireHandlers({sortOrder:true,orderedItems:ay.items});}function e(){C();s();am();if(ap.enabled){ao.calculate();}if(!P.valueAccessor){v();}}function F(){var aA,az;for(aA in j){if(j.hasOwnProperty(aA)){az=j[aA];az.checkBox.enable();}}}function A(){var aA,az;for(aA in j){if(j.hasOwnProperty(aA)){az=j[aA];if(!az.checkBox.getValue()){az.checkBox.disable();}}}}function aj(aA){b.UI.Helpers.ControlHelper.applyParentSelectedBehavior(ak,ay.parentChangeBehaviour,aA);var az;for(az in j){if(j.hasOwnProperty(az)){j[az].checkBox.parentSelected(aA);}}}function au(){b.Dom.removeClassName(p,"hidden");ak.VisualStateChanged.fireHandlers();}function L(){b.Dom.addClassName(p,"hidden");ak.VisualStateChanged.fireHandlers();}function y(){M();ak.EnabledStateChanged.fireHandlers({state:false});}function D(){ak.EnabledStateChanged.fireHandlers({state:true});}function al(){return b.UI.CheckBoxListTemplate(ay);}function ac(aA,az){p=b.$(q);l=b.$(m);n=b.$(o);if(ai.ValidationFailed){ai.ValidationFailed.addHandler(ag);}ak.RenderComplete.fireHandlers(az);if(ap.enabled){ao.calculate();}d();}function ag(aA,az){b.UI.Helpers.ValidationHelper.updateValidationMessages({controlId:ay.id,messages:V.getErrors(),isEditInProgress:az.isEditInProgress,showValidationCallback:av,hideValidationCallback:M});ak.ValidationFailed.fireHandlers(az);}function av(az){if(!p||az.length===0){return;}b.UI.Helpers.ControlHelper.showValidationMessages(ay.id,az);}function M(){if(!p){return;}b.UI.Helpers.ControlHelper.hideValidationMessages(ay.id);}function aa(aC,az){var aA=az.eventTags,aB;if(aA!=undefined){if(R&&(az.checkedState===false)){K.unCheckAllSelectedBox();}aB=ax(aA);d(aA);}G({checkBoxCheckedState:az.checkedState,newValues:aB});}function I(){var aB=[],aA;for(var az in j){if(j.hasOwnProperty(az)){aA=j[az];if(aA.checkBox.isChecked()){aB.push(aA.checkBox.getValue());}}}return aB;}function ax(aA){var aB,az;if(aA!=undefined&&j[aA]){az=j[aA];if(!V.getValue()){V.setValue([]);}aB=V.getValue();if(az.checkBox.getValue()!==null){if(aB.indexOf(az.value)<0){aB.push(az.value);}}else{if(aB.indexOf(az.value)>=0){aB.splice(aB.indexOf(az.value),1);}}}return aB;}function G(az){var aA=az.newValues;if(aA!=undefined){V.setValue(aA);}ak.ValueChanged.fireHandlers({checkBoxCheckedState:az.checkBoxCheckedState});av(V.getErrors());}function ah(aA,az){ak.VisualStateChanged.fireHandlers();}function d(aA){if(!g){return;}var aB,aC,az;for(aB=0,aC=g.length;aB<aC;aB++){az=g[aB];if(!!aA&&az.from!=aA){continue;}b.UI.Helpers.ControlHelper.applyParentSelectedBehavior(j[az.to].checkBox,az.action,j[az.from].checkBox.getValue());}}function ad(){aq();}function ab(){w();}function af(aA,az){if(az.newValue===true){aq();return;}w();}function aq(az){var aB,aC,aA=false,aD=V.getValue();for(aB in j){if(j.hasOwnProperty(aB)){aC=j[aB];if(az||(aC.checkBox.isEnabled()&&!aC.checkBox.isChecked())){aC.checkBox.setValue(true);var aE=aC.checkBox.getValue();if(aD.indexOf(aE)<0){aD.push(aE);}aA=true;}}}if(aA){G({checkBoxCheckedState:true,newValues:aD});}}function w(){var aA,aB,az=false,aC=V.getValue();for(aA in j){if(j.hasOwnProperty(aA)){aB=j[aA];if(aB.checkBox.isEnabled()&&aB.checkBox.isChecked()){aB.checkBox.setValue(false);aC.splice(aC.indexOf(aB.value),1);az=true;}}}if(az){G({checkBoxCheckedState:false,newValues:aC});}}function r(aB,aC,az){if(aB.linkedControl&&aB.linkedControlContainerType==b.UI.ControlLayoutTemplate.LinkedControlContainerType.Parent){aB.linkedControlContainerId=ay.id+b.UI.ControlLayoutTemplate.IdNestedLinkedControlsContainerPostfix+"_"+aB.id;}var aA=new b.UI.CheckBox(aB,{parentComponent:ak},at);if(!ay.simpleMode){aA.setValue(az||(aC.indexOf(aB.value)>=0));aB.fadeMode=aB.fadeMode!==undefined?aB.fadeMode:U;}aA.ValueChanged.addHandler(aa);aA.VisualStateChanged.addHandler(ah);if(at&&at.controlList){at.controlList[aB.id]=aA;}j[aA.getKey()]={checkBox:aA,value:aB.value};return aA;}function s(){var aB,aC,aA,aD=V.getValue(),az=false;for(aB=0,aC=ay.items.length;aB<aC;aB++){aA=ay.items[aB];aA.id=aA.id||(ay.id+aB);if(R&&(f.getValue()["allSelected"]==true)){az=true;}r(aA,aD,az);}}function C(){var aA,az;for(aA in j){if(j.hasOwnProperty(aA)){az=j[aA].checkBox;az.dispose();}}j={};}function am(){var aA,az;n.innerHTML=b.UI.CheckBoxListTemplate.CreateCheckboxList(ay);for(aA in j){if(j.hasOwnProperty(aA)){az=j[aA].checkBox;az.renderComplete();}}}function t(){if(!ap.enabled){return;}ao=new b.UI.ScrollablePanelV2({id:ay.id+b.UI.CheckBoxListTemplate.ScrollablePanelPostfix},{parentComponent:ak});}function u(){if(ay.groupOperationsTop==undefined){return;}ay.groupOperationsTop.id=ay.id+b.UI.CheckBoxListTopGroupOperationsTemplate.IdPostfix;ay.groupOperationsTop.valueAccessor=f.createChildValueAccessor("allSelected",ak);K=new b.UI.CheckBoxListTopGroupOperations(ay.groupOperationsTop,{parentComponent:ak});K.ValueChanged.addHandler(af);}function v(){if(P.valueAccessor!=undefined||P.value!=undefined){P.valueAccessor=b.UI.Helpers.ValueAccessorHelper.createValueAccessor(P,ak);}f=P.valueAccessor;if(P.valueAccessor){V=P.valueAccessor;if(R){V=V.createChildValueAccessor("items",ak);}}else{if(V){V.dispose();}var aA=[];for(var az=0,aC=ay.items.length;az<aC;az++){var aB=ay.items[az];if(aB.checked){aA.push(aB.value);}}V=new b.SimpleAccessor({value:aA},{parentComponent:ai});}}function N(){ai.RenderComplete.addHandler(ac);ai.Dispose.addHandler(B);if(ai.ValidationFailed){ai.ValidationFailed.addHandler(ag);}v();u();t();s();if(R){var az=f.getValue()["allSelected"];if(az){aq(true);}}if(J!==true){ar=new b.UI.Link({id:ay.id+b.UI.CheckBoxListTemplate.SelectTag},{parentComponent:ak});ar.ButtonClick.addHandler(ad);x=new b.UI.Link({id:ay.id+b.UI.CheckBoxListTemplate.DeSelectTag},{parentComponent:ak});x.ButtonClick.addHandler(ab);}if(O.htmlReady){ac();}}function B(){ak.Dispose.fireHandlers();ai.RenderComplete.removeHandler(ac);ai.Dispose.removeHandler(B);if(ai.ValidationFailed){ai.ValidationFailed.removeHandler(ag);}ak.ValueChanged=null;ak.RenderComplete=null;ak.EnabledStateChanged=null;ak.Dispose=null;ak.ValidationFailed=null;ak.VisualStateChanged=null;ak.ChildCheckBoxDragStart=null;ak.ChildCheckBoxDragEnd=null;T=null;ar=null;x=null;V=null;j=null;ay=null;p=null;ao=null;K=null;Q=true;}N();}})(window,WA);(function(d,c,b){if(!c.UI.CheckBoxListDragDrop){c.UI.CheckBoxListDragDrop=a;c.UI.CheckBoxListDragDrop.Place={Before:"before",After:"after"};}function a(s,r){r=r||{};var E=this,F="WA.UI.CheckBoxListDragDrop",G=s,B=r.parentComponent;E.toString=function(){return F;};E.Dispose=c.Tools.EventHandlers.createHandlers(E,{id:"Dispose"});E.CheckBoxDragStart=c.Tools.EventHandlers.createHandlers(E,{id:"CheckBoxDragStart"});E.CheckBoxDrop=c.Tools.EventHandlers.createHandlers(E,{id:"CheckBoxDrop"});E.BoundReached=c.Tools.EventHandlers.createHandlers(E,{id:"BoundReached"});E.SoftBoundReached=c.Tools.EventHandlers.createHandlers(E,{id:"SoftBoundReached"});E.BoundLeave=c.Tools.EventHandlers.createHandlers(E,{id:"BoundLeave"});E.BoundsChanged=c.Tools.EventHandlers.createHandlers(E,{id:"BoundsChanged"});var t=false,l,u={},D,n,o,m,f=100;E.dispose=j;function y(I,H){n=c.jq$(H.dragItemDomElement);m=n.attr(c.eventTagsAttribute);if(!m){throw new Error("draggingId was not set as eventTags attribute");}D=c.jq$(C());n.after(D);n[0].parentNode.removeChild(n[0]);n.hide();E.CheckBoxDragStart.fireHandlers({draggingId:m});}function z(N,H){var M=H.pointDomElement?H.pointDomElement.getAttribute(c.eventTagsAttribute,0):null;if(!M){return;}u[M].jqControl=u[M].jqControl||c.jq$(H.pointDomElement);u[M].heightCache=u[M].heightCache||u[M].jqControl.height();u[M].offsetTopCache=u[M].offsetTopCache||u[M].jqControl.offset().top;var K=u[M].jqControl,L=u[M].heightCache/2,J=u[M].offsetTopCache+L,I=H.mouse.Y<J;o={draggingId:m,pointId:M};if(I){o.place=c.UI.CheckBoxListDragDrop.Place.Before;K.before(D);}else{o.place=c.UI.CheckBoxListDragDrop.Place.After;K.after(D);}}function x(I,H){D.replaceWith(n);n.show();if(o){E.CheckBoxDrop.fireHandlers({dropCommand:o});o=null;}g();h();}function w(I,H){E.BoundReached.fireHandlers(H);}function A(I,H){E.SoftBoundReached.fireHandlers(H);}function v(I,H){E.BoundLeave.fireHandlers(H);}function k(){E.BoundsChanged.fireHandlers();}function p(){h();c.throttle(k,f);}function e(H){var J,L,K,M=H.eventTags,I={};for(J=0,L=G.items.length;J<L;J++){K=G.items[J];if(K.value==M){I.avatarHTML=c.UI.CheckBoxAvatarTemplate(K);I.id=K.id+c.UI.CheckBoxAvatarTemplate.AvatarPostfix;return I;}}throw new Error("Could not find checkbox with value: "+M);}function C(){return'<div class="checkBoxPlaceHolder"></div>';}function i(){var H,J,I;u={};for(H=0,J=G.items.length;H<J;H++){I=G.items[H];u[I.attr.eventTags]={checkBoxItem:I};}}function h(){for(var H in u){if(u.hasOwnProperty(H)){u[H].heightCache=null;u[H].offsetTopCache=null;}}}function g(){c.clearThrottle(k);}function q(){B.Dispose.addHandler(j);if(c.AdminPanel){c.AdminPanel.LeftSidePanelScroll.addHandler(p);}i();l=new c.UI.DragDrop({ddContainerId:G.controlLayoutContainerId,handleClassName:c.UI.CheckBoxTemplate.CheckBoxClassName,targetClassName:c.UI.CheckBoxTemplate.CheckBoxClassName,noDragClassName:c.UI.CheckBoxTemplate.NoDragClassName,avatarBuilder:e,placeHolderBuilder:C,boundsBuilder:G.boundsBuilder,softBounds:{top:20,bottom:20},moveRestrictions:{disableX:true}},{parentComponent:E});l.DragStart.addHandler(y);l.DragVertical.addHandler(z);l.DragEnd.addHandler(x);l.DragEnd.addHandler(x);l.BoundReached.addHandler(w);l.SoftBoundReached.addHandler(A);l.BoundLeave.addHandler(v);}function j(){if(t){return;}g();E.Dispose.fireHandlers();B.Dispose.removeHandler(j);if(c.AdminPanel){c.AdminPanel.LeftSidePanelScroll.removeHandler(p);}u=null;G=null;B=null;o=null;E.Dispose=null;E.CheckBoxDrop=null;E.CheckBoxDragStart=null;E.SoftBoundReached=null;E.BoundReached=null;E.BoundLeave=null;E.BoundsChanged=null;t=true;}q();}})(window,WA);(function(k,j,i){if(!j.UI.CheckBoxListTemplate){j.UI.CheckBoxListTemplate=a;j.UI.CheckBoxListTemplate.IdContainerPostfix="_chbList";j.UI.CheckBoxListTemplate.IdContentContainerPostfix="_chbListContent";j.UI.CheckBoxListTemplate.IdActionButtonsPostfix="_actionButtons";j.UI.CheckBoxListTemplate.SelectTag="selectButton";j.UI.CheckBoxListTemplate.DeSelectTag="deSelectButton";j.UI.CheckBoxListTemplate.ScrollablePanelPostfix="_scrollablePanel";j.UI.CheckBoxListTemplate.CreateCheckboxList=b;j.UI.CheckBoxListTemplate.RepeatType={Horizontal:"horizontal",Vertical:"vertical"};}function a(o){var l=j.UI.ControlLayoutTemplate,n={};if(o.groupOperationsDisabled!==true){if(j.AdminPanel&&j.AdminPanel.Resources&&j.AdminPanel.Resources.Text){o.selectAllTitle=j.AdminPanel.Resources.Text.LinkButton_SelectAllTitle;o.deSelectAllTitle=j.AdminPanel.Resources.Text.LinkButton_DeSelectAllTitle;}else{o.selectAllTitle="Select all";o.deSelectAllTitle="Deselect all";}}n.id=o.id;n.title=o.title;n.titlePosition=o.titlePosition;n.titleWidth=o.titleWidth;n.controlContainerDisplayType=o.controlContainerDisplayType?o.controlContainerDisplayType:j.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;n.cssClass="checkBoxList"+(o.cssClass?" "+o.cssClass:"")+(o.isFirst?" first":"");n.linkedControlContainerHtml=f(o);n.width=o.width;n.layoutContentHTML=h(o,o.groupOperationsTop)+c(o);return l(n);}function f(r){var l=j.UI.ContainerTemplate,n=[];var o,q,p;for(o=0,q=r.items.length;o<q;o++){p=r.items[o];if(!p.linkedControl||p.linkedControlContainerType!=j.UI.ControlLayoutTemplate.LinkedControlContainerType.Parent){continue;}n.push(l({id:r.id+j.UI.ControlLayoutTemplate.IdNestedLinkedControlsContainerPostfix+"_"+p.id,cssClass:"nestedLinkedControlContainerElem"}));}return n.join("");}function c(l){var n={};n.attr=l.attr||{};n.attr.isHidden=l.isHidden||false;if(l.scrolling&&l.scrolling.enabled&&l.scrolling.maxHeight!=i){n.attr.style="max-height:"+l.scrolling.maxHeight+"px";}return j.UI.ContainerTemplate({id:l.id+j.UI.CheckBoxListTemplate.IdContainerPostfix,cssClass:l.repeatType==j.UI.CheckBoxListTemplate.RepeatType.Horizontal?"checkBoxListHorizontalContainer":("checkBoxListVerticalContainer"+(l.isWordWrap?"":" nowrap"))+(l.scrolling&&l.scrolling.enabled==true?" scrollable":""),attr:j.UI.Helpers.ControlHelper.createContainerAttributes(n),contentHTML:d(l)});}function d(l){var n=j.UI.ScrollablePanelV2Template;if(l.scrolling&&l.scrolling.enabled){return n({id:l.id+j.UI.CheckBoxListTemplate.ScrollablePanelPostfix,contentHTML:j.UI.ContainerTemplate({id:l.id+j.UI.CheckBoxListTemplate.IdContentContainerPostfix,cssClass:"checkBoxListContentContainer",contentHTML:(l.items&&l.items.length>0)?b(l):e(l)})});}return j.UI.ContainerTemplate({id:l.id+j.UI.CheckBoxListTemplate.IdContentContainerPostfix,cssClass:"checkBoxListContentContainer",contentHTML:(l.items&&l.items.length>0)?b(l):e(l)});}function h(l,n){if(n==i){return"";}n.id=n.id||l.id+j.UI.CheckBoxListTopGroupOperationsTemplate.IdPostfix;return j.UI.CheckBoxListTopGroupOperationsTemplate(n);}function b(t){var n=j.UI.CheckBoxTemplate,o,s,q,l=[],p=t.id,r=t.items;for(o=0,s=r.length;o<s;o++){q=r[o];if(!q.id){q.id=p+o;}if(o===0){q.isFirst=true;}l.push(n(q));}if(t.groupOperationsDisabled!==true){l.push(g(t));}return l.join("");}function g(l){return j.UI.ContainerTemplate({cssClass:"checkBoxListSelectButtons",id:l.id+j.UI.CheckBoxListTemplate.IdActionButtonsPostfix,contentHTML:j.UI.LinkTemplate({id:l.id+j.UI.CheckBoxListTemplate.SelectTag,cssClass:"jsAction textSmall",contentText:l.selectAllTitle})+j.UI.TextContainerTemplate({cssClass:"textSmall",contentHTML:"&nbsp;/&nbsp;"})+j.UI.LinkTemplate({id:l.id+j.UI.CheckBoxListTemplate.DeSelectTag,cssClass:"jsAction textSmall",contentText:l.deSelectAllTitle})});}function e(l){return j.UI.ContainerTemplate({cssClass:"emptyListDescription",contentHTML:l.emptyListDescription!=i?l.emptyListDescription:l.resources.defaultEmptyListDescription});}j.UI.CheckBoxListTemplate.createSummary=function(t){if(t.hideInSummary){return"";}var n=j.UI.IndentTemplate,o,s,r=t.items,q,l=[],u=", ",p=false;if(!r||r.length<=0){return"";}for(o=0,s=r.length;o<s;o++){q=r[o];if(q.checked){l.push(j.UI.TextContainerTemplate({contentText:q.contentText}));l.push(j.UI.TextContainerTemplate({contentText:u}));p=true;}}l.splice(l.length-1,1);if(!p){l.push(j.UI.Helpers.ControlHelper.createNoValueMessage(t));}return n({cssClass:"controlSummary",contentHTML:j.UI.Helpers.ControlHelper.createControlSummaryTitle(t)+l.join("")});};})(window,WA);(function(d,c,b){if(!c.UI.CheckBoxListTopGroupOperations){c.UI.CheckBoxListTopGroupOperations=a;}function a(i,h){h=h||{};var n=this,p="WA.UI.CheckBoxListTopGroupOperations",r=i,m=h.parentComponent;n.toString=function(){return p;};n.ValueChanged=c.Tools.EventHandlers.createHandlers(n,{id:"ValueChanged"});n.RenderComplete=c.Tools.EventHandlers.createHandlers(n,{id:"RenderComplete"});n.Dispose=c.Tools.EventHandlers.createHandlers(n,{id:"Dispose"});var j=false,e;n.render=o;n.unCheckAllSelectedBox=q;function q(){e.setValue(null,false);}function o(){return c.UI.CheckBoxListTopGroupOperationsTemplate(r);}function k(t,s){n.ValueChanged.fireHandlers(s);}function l(t,s){e=new c.UI.CheckBox({id:r.id+c.UI.CheckBoxListTopGroupOperationsTemplate.IdCheckBoxPostfix,valueAccessor:r.valueAccessor,fadeMode:false},{parentComponent:n});e.ValueChanged.addHandler(k);n.RenderComplete.fireHandlers();}function g(){m.RenderComplete.addHandler(l);m.Dispose.addHandler(f);}function f(){if(j){return;}n.Dispose.fireHandlers();m.RenderComplete.removeHandler(l);m.Dispose.removeHandler(f);r=null;m=null;e=null;n.ValueChanged=null;n.RenderComplete=null;n.Dispose=null;j=true;}g();}})(window,WA);(function(e,d,c){if(!d.UI.CheckBoxListTopGroupOperationsTemplate){d.UI.CheckBoxListTopGroupOperationsTemplate=a;d.UI.CheckBoxListTopGroupOperationsTemplate.IdPostfix="_groupOperations";d.UI.CheckBoxListTopGroupOperationsTemplate.IdCheckBoxPostfix="_groupOperationsCheckbox";}function a(f){return d.UI.ContainerTemplate({id:f.id,cssClass:"groupedCheckboxListHeadContainer",contentHTML:b(f)});}function b(h){var f=d.UI.CheckBoxTemplate,i=d.UI.TextContainerTemplate,g=d.UI.ContainerTemplate;return g({cssClass:"titleAndAnyOptionSelector",contentHTML:(h.Title!=c?g({cssClass:"titleContainer",contentHTML:i({contentText:h.Title!=c?h.Title:""})}):"")+g({cssClass:"anyOptionSelectorContainer",contentHTML:f({id:h.id+d.UI.CheckBoxListTopGroupOperationsTemplate.IdCheckBoxPostfix,cssClass:"anyOptionSelectorCheckbox",controlContainerDisplayType:d.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed,contentText:h.CheckBox.contentText,fadeMode:false})})});}})(window,WA);(function(c,b){if(!b.UI.ColorPicker){b.UI.ColorPicker=a;b.UI.ColorPicker.TypeName="WA.UI.ColorPicker";}function a(t,f){f=f||{};var F=this,T=b.UI.ColorPicker.TypeName,U=t,H=U.resources,E=f.parentComponent;F.toString=function(){return T;};F.ValueChanged=b.Tools.EventHandlers.createHandlers(F,{id:"ValueChanged"});F.RenderComplete=b.Tools.EventHandlers.createHandlers(F,{id:"RenderComplete"});F.Dispose=b.Tools.EventHandlers.createHandlers(F,{id:"Dispose"});F.render=G;F.dispose=n;F.setCustomColors=L;F.setColorPickerValue=J;F.render=G;var g,q=b.String.format(b.UI.ColorPickerTemplate.HexColorTextBoxIdTemplate,U.id),p,l,m,I,K,u,S,P=H.themeColors,Q,R,e,o=P&&P.length&&P.length>0,d=U.automaticValue||b.UI.ColorPickerTemplate.AutomaticColor;U.value=U.value||d;function h(){e={};e.behaviors=[];e.behaviors.push({type:"mask",value:"^[A-Fa-f0-9]*$"});e.behaviors.push({type:"maxLength",value:6});if(U.defaultValue!=undefined){e.behaviors.push({type:"defaultValue",value:U.defaultValue});}}function G(){return b.UI.ColorPickerTemplate(U);}function B(){g=b.$(U.id);m=b.$(l);Q=b.$(U.id+b.UI.ColorPickerTemplate.ThemeColorsContainerPostfix);R=b.$(U.id+b.UI.ColorPickerTemplate.ThemeColorsContentContainerPostfix);F.RenderComplete.fireHandlers();N(U.value);}function L(V){if(S){S.dispose();}P=V;o=P&&P.length&&P.length>0;if(!o){b.Dom.addClassName(Q,"hidden");R.innerHTML="";return;}k();R.innerHTML=S.render();S.renderComplete();b.Dom.removeClassName(Q,"hidden");}function J(V){var W=V.value||"";O(W.replace(/#/i,""),true);}function z(W,V){b.Tools.KeyboardWatcher.Enter.addHandler(M);}function y(W,V){b.Tools.KeyboardWatcher.Enter.removeHandler(M);}function A(V){N(p.getValue());}function C(){O(d);p.setValue("");r(v(d));}function D(){M();}function M(){var V=v(p.getValue());r(V);F.ValueChanged.fireHandlers({value:V,id:U.id});}function v(X){if(X.toLowerCase()==b.UI.ColorPickerTemplate.TransparentColor.toLowerCase()){return X.toLowerCase();}if(X.toLowerCase()==b.UI.ColorPickerTemplate.AutomaticColor.toLowerCase()){return X.toLowerCase();}var W=new RegExp("[a-fA-F0-9]{6}","g"),V;if(X.length&&X.length==3){X=X[0]+X[0]+X[1]+X[1]+X[2]+X[2];}V=X.match(W);if(!V){return d;}return b.UI.ColorPickerTemplate.HexPoundSign+V[0].toUpperCase();}function O(W,V){W=W||d;W=v(W);if(!V){F.ValueChanged.fireHandlers({value:W,id:U.id});}N(W);p.setValue(w(W));}function w(V){if(V==undefined||V.toLowerCase()==b.UI.ColorPickerTemplate.TransparentValue.toLowerCase()||V.toLowerCase()==b.UI.ColorPickerTemplate.AutomaticColor.toLowerCase()){return"";}return V.replace(b.UI.ColorPickerTemplate.HexPoundSign,"").toUpperCase();}function r(V){if(o){S.setSelectedValue(V);}if(!o||S.getValue()==undefined){u.setSelectedValue(V);}}function N(V){if(V==undefined||V.toLowerCase()==b.UI.ColorPickerTemplate.TransparentValue.toLowerCase()||V.toLowerCase()==b.UI.ColorPickerTemplate.AutomaticColor.toLowerCase()){m.style.backgroundColor="";return;}m.style.backgroundColor=b.UI.ColorPickerTemplate.HexPoundSign+V.replace(b.UI.ColorPickerTemplate.HexPoundSign,"");}function x(W,V){O(V.value);switch(V.listName){case U.id+b.UI.ColorPickerTemplate.MainColorTableContainerPostfix:if(o){S.resetSelectedValue();}break;case U.id+b.UI.ColorPickerTemplate.ThemeColorTableContainerPostfix:u.resetSelectedValue();break;default:u.resetSelectedValue();if(o){S.resetSelectedValue();}throw new Error("undefined list name");}}function k(){if(!o){return;}S=new b.UI.ListControl({id:U.id+b.UI.ColorPickerTemplate.ThemeColorTableContainerPostfix,items:i(P,b.UI.ColorPickerTemplate.ThemeColorPostfixId),selectedValue:U.value,listName:U.id+b.UI.ColorPickerTemplate.ThemeColorTableContainerPostfix},{parentComponent:F});S.ValueChanged.addHandler(x);}function j(){k();u=new b.UI.ListControl({id:U.id+b.UI.ColorPickerTemplate.MainColorTableContainerPostfix,items:i(b.UI.ColorPickerTemplate.Colors(),b.UI.ColorPickerTemplate.ColorPostfixId),selectedValue:(o&&S.getValue()!=undefined)?null:U.value,listName:U.id+b.UI.ColorPickerTemplate.MainColorTableContainerPostfix},{parentComponent:F});u.ValueChanged.addHandler(x);}function i(W,aa){var Y=[];var X,Z,V;for(X=0,Z=W.length;X<Z;X++){V=W[X];Y.push({id:U.id+aa+"_"+V,value:V,contentHTML:b.UI.ColorPickerTemplate.createColorItem({colorCode:V})});}return Y;}function s(){E.RenderComplete.addHandler(B);E.Dispose.addHandler(n);h();p=new b.UI.TextBox({id:q,frameWindow:U.frameWindow,behaviorModel:e,value:w(U.value).toUpperCase()},{parentComponent:F});p.ValueChanged.addHandler(A);p.TextBoxFocus.addHandler(z);p.TextBoxBlur.addHandler(y);I=new b.UI.WaButton({id:b.String.format(b.UI.ColorPickerTemplate.SetAutomaticColorButtonClickId,U.id)},{parentComponent:F});I.WaButtonClick.addHandler(C);K=new b.UI.WaButton({id:b.String.format(b.UI.ColorPickerTemplate.SetCustomColorButtonTemplate,U.id)},{parentComponent:F});K.WaButtonClick.addHandler(D);l=U.id+b.UI.ColorPickerTemplate.DemoColorContainerPostfix;j();}function n(){F.Dispose.fireHandlers();E.RenderComplete.removeHandler(B);E.Dispose.removeHandler(n);b.Tools.KeyboardWatcher.Enter.removeHandler(M);b.Tools.KeyboardWatcher.Esc.removeHandler(M);m=null;g=null;U=null;I=null;K=null;u=null;S=null;P=null;Q=null;R=null;F.ValueChanged=F.RenderComplete=F.Dispose=null;}s();}})(window,WA);(function(h,g,f){if(!g.UI.ColorPickerTemplate){g.UI.ColorPickerTemplate=a;g.UI.ColorPickerTemplate.Colors=b;g.UI.ColorPickerTemplate.createColorItem=c;g.UI.ColorPickerTemplate.TransparentValue="transparent";g.UI.ColorPickerTemplate.SetAutomaticColorButtonClickId="id{0}_SetAutomaticColorButton";g.UI.ColorPickerTemplate.SetCustomColorButtonTemplate="id{0}_SetCustomColorButton";g.UI.ColorPickerTemplate.HexColorTextBoxIdTemplate="id{0}_HexColorTextBox";g.UI.ColorPickerTemplate.MainColorTableContainerPostfix="_MainColorTableContainer";g.UI.ColorPickerTemplate.ThemeColorTableContainerPostfix="_ThemeColorTableContainer";g.UI.ColorPickerTemplate.ThemeColorsContainerPostfix="_ThemeColorsContainer";g.UI.ColorPickerTemplate.ThemeColorsContentContainerPostfix="_ThemeColorsContentContainer";g.UI.ColorPickerTemplate.ColorTableItemIdTemplate="id_{0}_Color_{1}";g.UI.ColorPickerTemplate.DemoColorContainerPostfix="_DemoColorContainer";g.UI.ColorPickerTemplate.ColorPostfixId="_color";g.UI.ColorPickerTemplate.ThemeColorPostfixId="_themeColor";g.UI.ColorPickerTemplate.HexPoundSign="#";g.UI.ColorPickerTemplate.ColorAttributeName="color";g.UI.ColorPickerTemplate.TransparentColor="transparent";g.UI.ColorPickerTemplate.AutomaticColor="Automatic";}function a(p){var l=g.UI.ContainerTemplate,r=g.UI.TextBoxTemplate,u=g.UI.WaButtonTemplate,n=g.UI.ListControlTemplate,q=p.resources,s=12,o=d(p,b(),"mainColors",g.UI.ColorPickerTemplate.MainColorTableContainerPostfix,g.UI.ColorPickerTemplate.ColorPostfixId);q.themeColors=q.themeColors||[];var i=[],j=n(o),t,k;t=e(p,q,s);k=l({cssClass:"controlsContainer",contentHTML:u({id:g.String.format(g.UI.ColorPickerTemplate.SetAutomaticColorButtonClickId,p.id),name:q.setAutomaticColorLabel},{color:g.UI.WaButton.ButtonColor.Grey,size:g.UI.WaButton.ButtonSize.Small})+l({cssClass:"hexCodeContainer",contentHTML:r({prefix:q.enterHexColorLabel,id:g.String.format(g.UI.ColorPickerTemplate.HexColorTextBoxIdTemplate,p.id),controlContainerDisplayType:g.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed,width:60},{size:g.UI.TextBox.TextBoxSize.Small})})+l({cssClass:"demoContainer",contentHTML:l({id:p.id+g.UI.ColorPickerTemplate.DemoColorContainerPostfix,cssClass:"demo"})})+u({cssClass:"setCustomColorButton",id:g.String.format(g.UI.ColorPickerTemplate.SetCustomColorButtonTemplate,p.id),name:q.customColorLabel},{color:g.UI.WaButton.ButtonColor.Grey,size:g.UI.WaButton.ButtonSize.Small})});i.push(t);i.push(j);i.push(k);return l({id:p.id,cssClass:"colorPickerContainer"+(p.disabled?" Disabled":""),contentHTML:i.join("")});}function e(l,n,o){var i=g.UI.ContainerTemplate,j=g.UI.ListControlTemplate,k=d(l,n.themeColors,"themeColors",g.UI.ColorPickerTemplate.ThemeColorTableContainerPostfix,g.UI.ColorPickerTemplate.ThemeColorPostfixId,o);return i({id:l.id+g.UI.ColorPickerTemplate.ThemeColorsContainerPostfix,cssClass:"themeColorsContainer"+(n.themeColors.length?"":" hidden"),contentHTML:i({cssClass:"themeColorsContainerTitle",contentHTML:n.themeColorsLabel})+i({id:l.id+g.UI.ColorPickerTemplate.ThemeColorsContentContainerPostfix,cssClass:"themeColorsContainerContent",contentHTML:j(k)})});}function d(t,j,r,s,q,n){var p={};p.id=t.id+s;p.items=[];p.itemsMetadata={};p.cssClass=r;if(n&&n>j.length){n=j.length;}var k,o,l;for(k=0,o=n||j.length;k<o;k++){l=j[k];p.items.push({value:l,id:t.id+q+"_"+l,contentHTML:c({colorCode:l})});}return p;}function c(k){var j=g.UI.ContainerTemplate,i={},l={};i.style="background-color:"+k.colorCode+";";i.onselectstart="return false;";i[g.eventTagsAttribute]=g.UI.ListControlTemplate.SelectItemEventTagPrefix+k.colorCode;l[g.eventTagsAttribute]=g.UI.ListControlTemplate.SelectItemEventTagPrefix+k.colorCode;l.onselectstart="return false;";return j({cssClass:"background"+(k.colorCode==g.UI.ColorPickerTemplate.TransparentColor?" transparent":""),attr:i,contentHTML:j({cssClass:"backgroundShade",attr:l})});}function b(){return["transparent","#ffffff","#e6e6e6","#cccccc","#b3b3b3","#999999","#808080","#666666","#4d4d4d","#333333","#1a1a1a","#000000","#ff0000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#c7b299","#c69c6e","#f7977a","#f9ad81","#fdc68a","#fff79a","#c4df9b","#a2d39c","#82ca9d","#7bcdc8","#6ecff6","#7ea7d8","#8493ca","#8882be","#a187be","#bc8dbf","#f49ac2","#f6989d","#998675","#a67c52","#f26c4f","#f68e55","#fbaf5c","#fff467","#acd372","#7cc576","#3bb878","#1abbb4","#00bff3","#438cca","#5574b9","#605ca8","#855fa8","#a763a8","#f06ea9","#f26d7d","#736357","#8c6239","#ed1c24","#f26522","#f7941d","#fff200","#8dc73f","#39b54a","#00a651","#00a99d","#00aeef","#0072bc","#0054a6","#2e3192","#662d91","#92278f","#ec008c","#ed145b","#534741","#754c24","#9e0b0f","#a0410d","#a36209","#aba000","#598527","#1a7b30","#007236","#00746b","#0076a3","#004b80","#003471","#1b1464","#440e62","#630460","#9e005d","#9e0039","#37302d","#603913","#790000","#7b2e00","#7d4900","#827b00","#406618","#005e20","#005826","#005952","#005b7f","#003663","#002157","#0d004c","#32004b","#4b0049","#7b0046","#7a0026"];}})(window,WA);(function(d,c,b){if(!c.UI.ColorPickerCompact){c.UI.ColorPickerCompact=a;c.UI.ColorPickerCompact.OptionKeys={ColorPicker:"ColorPicker"};}function a(m){var r=this,w="WA.UI.ColorPickerCompact",y=m,x=y.valueAccessor,q=y.parentComponent;r.toString=function(){return w;};r.RenderComplete=c.Tools.EventHandlers.createHandlers(r,{id:"RenderComplete"});r.Dispose=c.Tools.EventHandlers.createHandlers(r,{id:"Dispose"});r.ValueChanged=c.Tools.EventHandlers.createHandlers(r,{id:"ValueChanged"});var n=false,t,g={mapping:{},list:[]},e;r.render=s;r.hide=k;r.disable=h;r.enable=j;r.setCustomColors=u;function u(z){g.list[0].setCustomColors(z);}function s(){return c.UI.ColorPickerCompactTemplate(y);}function h(){e.disableButton();}function j(){e.enableButton();}function k(){e.hideDropDownOptions();}function o(A,z){v();r.ValueChanged.fireHandlers();}function p(A,z){t=c.$(y.id+c.UI.ColorPickerCompactTemplate.SelectedColorIdPostfix);v();r.RenderComplete.fireHandlers();}function f(){g.mapping[c.UI.ColorPickerCompact.OptionKeys.ColorPicker]=new c.UI.ColorPickerCompactDropDownOption({id:y.id+"_"+c.UI.ColorPickerCompact.OptionKeys.ColorPicker,eventTags:c.UI.ColorPickerCompact.OptionKeys.ColorPicker,valueAccessor:x,resources:y.resources,parentComponent:r});g.list.push(g.mapping[c.UI.ColorPickerCompact.OptionKeys.ColorPicker]);g.mapping[c.UI.ColorPickerCompact.OptionKeys.ColorPicker].ValueChanged.addHandler(o);}function v(){if(x.getValue()==b||x.getValue()==c.UI.ColorPickerTemplate.TransparentColor){c.Dom.addClassName(t,"transparent");t.style.backgroundColor="transparent";}else{c.Dom.removeClassName(t,"transparent");t.style.backgroundColor=x.getValue();}}function l(){q.RenderComplete.addHandler(p);q.Dispose.addHandler(i);f();e=new c.UI.WaButton({id:y.id+c.UI.ColorPickerCompactTemplate.ButtonIdPostfix,dropDownOnly:true,dropDownsHolderId:y.dropDownsHolderId,optionComponents:g.list},{parentComponent:r});}function i(){if(n){return;}r.Dispose.fireHandlers();q.RenderComplete.removeHandler(p);q.Dispose.removeHandler(i);y=null;q=null;e=null;r.RenderComplete=null;r.Dispose=null;r.ValueChanged=null;n=true;}l();}})(window,WA);(function(d,c,b){if(!c.UI.ColorPickerCompactDropDownOption){c.UI.ColorPickerCompactDropDownOption=a;}function a(h){var m=this,p="WA.UI.ColorPickerCompactDropDownOption",q=h,l=q.parentComponent;m.toString=function(){return p;};m.RenderComplete=c.Tools.EventHandlers.createHandlers(m,{id:"RenderComplete"});m.Dispose=c.Tools.EventHandlers.createHandlers(m,{id:"Dispose"});m.ValueChanged=c.Tools.EventHandlers.createHandlers(m,{id:"ValueChanged"});m.OptionClick=c.Tools.EventHandlers.createHandlers(m,{id:"OptionClick"});var i=false,e;m.render=n;m.setCustomColors=o;function o(r){e.setCustomColors(r);}function n(){return c.UI.ColorPickerCompactDropDownOptionTemplate(q);}function k(s,r){m.RenderComplete.fireHandlers();}function j(s,r){if(!r||!r.value){}if(r.value==c.ColorTable.TransparentColor){q.valueAccessor.setValue(null);}else{q.valueAccessor.setValue(r.value);}m.ValueChanged.fireHandlers();m.OptionClick.fireHandlers();}function g(){l.RenderComplete.addHandler(k);l.Dispose.addHandler(f);e=new c.UI.ColorPickerDropdownOption({id:q.id+c.UI.ColorPickerCompactDropDownOptionTemplate.OptionIdPostfix,eventTags:q.eventTags,value:q.valueAccessor.getValue()||c.ColorTable.TransparentColor,resources:q.resources,automaticValue:c.ColorTable.TransparentColor},{parentComponent:m});e.init();e.ValueChanged.addHandler(j);}function f(){if(i){return;}m.Dispose.fireHandlers();l.RenderComplete.removeHandler(k);l.Dispose.removeHandler(f);q=null;e=null;l=null;m.RenderComplete=null;m.Dispose=null;m.ValueChanged=null;m.OptionClick=null;i=true;}g();}})(window,WA);(function(d,c,b){if(!c.UI.ColorPickerCompactDropDownOptionTemplate){c.UI.ColorPickerCompactDropDownOptionTemplate=a;c.UI.ColorPickerCompactDropDownOptionTemplate.OptionIdPostfix="_colorPicker";}function a(g){var f=c.UI.ContainerTemplate,e=c.UI.ColorPickerDropdownOptionTemplate;return f({id:g.id,cssClass:g.cssClass?"colorPickerCompactDropDownOption "+g.cssClass:"colorPickerCompactDropDownOption",eventTags:g.eventTags,contentHTML:e({id:g.id+c.UI.ColorPickerCompactDropDownOptionTemplate.OptionIdPostfix,eventTags:g.eventTags,resources:g.resources})});}})(window,WA);(function(d,c,b){if(!c.UI.ColorPickerCompactTemplate){c.UI.ColorPickerCompactTemplate=a;c.UI.ColorPickerCompactTemplate.ButtonIdPostfix="_button";c.UI.ColorPickerCompactTemplate.SelectedColorIdPostfix="_colorField";}function a(h){var g=c.UI.ContainerTemplate,e=c.UI.WaButtonTemplate,f=c.UI.ControlLayoutTemplate;h.controlContainerDisplayType=h.controlContainerDisplayType?h.controlContainerDisplayType:c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;h.layoutContentHTML=g({id:h.id,cssClass:"colorPickerCompact"+(h.cssClass?" "+h.cssClass:""),contentHTML:e({id:h.id+c.UI.ColorPickerCompactTemplate.ButtonIdPostfix,cssClass:"colorPickerCompactButton",hasOptions:true,dropDownOnly:true,contentHTML:g({id:h.id+c.UI.ColorPickerCompactTemplate.SelectedColorIdPostfix,cssClass:"selectedColor"})},{color:c.UI.WaButton.ButtonColor.Grey,size:c.UI.WaButton.ButtonSize.Small})});return f(h);}})(window,WA);(function(d,c,b){if(!c.UI.ToolBarColorPickerTemplate){c.UI.ToolBarColorPickerTemplate=a;c.UI.ToolBarColorPickerTemplate.ButtonIdPostfix="_button";c.UI.ToolBarColorPickerTemplate.SelectedColorIdPostfix="_colorField";}function a(g){var f=c.UI.ContainerTemplate,e=c.UI.FloatingToolBarButtonTemplate;return f({id:g.id,cssClass:"toolBarColorPicker"+(g.cssClass?" "+g.cssClass:""),contentHTML:e({id:g.id+c.UI.ToolBarColorPickerTemplate.ButtonIdPostfix,cssClass:"toolBarColorPickerButton",hasArrow:true,contentHTML:f({id:g.id+c.UI.ToolBarColorPickerTemplate.SelectedColorIdPostfix,cssClass:"selectedColor"})})});}})(window,WA);(function(d,c,b){if(!c.UI.ConfirmationDialog){c.UI.ConfirmationDialog=a;}function a(m,l){l=l||{};var q=this,v="WA.UI.ConfirmationDialog",w=m,p=l.parentComponent,r=w.resources;q.toString=function(){return v;};q.RenderComplete=c.Tools.EventHandlers.createHandlers(q,{id:"RenderComplete"});q.Dispose=c.Tools.EventHandlers.createHandlers(q,{id:"Dispose"});q.ConfirmClick=c.Tools.EventHandlers.createHandlers(q,{id:"ConfirmClick"});q.CancelClick=c.Tools.EventHandlers.createHandlers(q,{id:"CancelClick"});var n=false,h,f=w.id+"_confirmButton",e=w.id+"_cancelButton";q.dispose=i;q.show=u;q.hide=j;q.setWaitingState=t;q.setNormalState=s;function s(){h.setNormalState();}function t(){h.setWaitingState();}function u(){h.show();}function j(){h.hide();}function g(){h=new c.UI.WaDialogV2({id:w.id,cssClass:"waConfirmationDialog"},{windowResizeWatcherEnabled:true,contentHTML:c.UI.ConfirmationDialogTemplate({title:r.Title,contentHTML:r.ContentHTML}),buttons:[{model:{id:f,name:r.ConfirmButtonLabel},args:{color:c.UI.WaButton.ButtonColor.Grey}},{model:{id:e,name:r.CancelButtonLabel},args:{color:c.UI.WaButton.ButtonColor.Grey}}],tabs:[],showTitle:false,showTabs:false,parentComponent:q,minHeight:10});h.Cancel.addHandler(o);h.ActionButtonClick.addHandler(o);h.renderComplete();}function o(y,x){x=x||{};switch(x.id){case f:q.ConfirmClick.fireHandlers();break;default:q.CancelClick.fireHandlers();break;}}function k(){p.Dispose.addHandler(i);g();}function i(){if(n){return;}q.Dispose.fireHandlers();p.Dispose.removeHandler(i);w=null;p=null;h=null;q.RenderComplete=null;q.Dispose=null;q.ConfirmClick=null;q.CancelClick=null;n=true;}k();}})(window,WA);(function(d,c,b){if(!c.UI.ConfirmationDialogTemplate){c.UI.ConfirmationDialogTemplate=a;}function a(e){return(e.title?'<p class="waConfirmationDialogTitle">'+c.encodeHtml(e.title)+"</p>":"")+'<p class="waConfirmationDialogContent">'+e.contentHTML+"</p>";}})(window,WA);(function(b,a){if(!a.UI.ContainerTemplate){a.UI.ContainerTemplate=function(e){var f={id:"id",cssClass:"class",cssStyle:"style",eventTags:"eventTags",parseTags:"parseTags",title:"title"},d,c=[];c.push("<div");for(d in f){if(f.hasOwnProperty(d)&&d in e){if(e[d]!=undefined&&e[d]!=""){c.push(" "+f[d]+'="'+e[d]+'"');}}}if(e.attr!=undefined){c.push(a.UI.Helpers.ControlHelper.renderAttributes(e.attr));}c.push(">");if(a.getTypeString(e.elements)=="array"&&e.elements.length>0){e.contentHTML=a.UI.Helpers.ControlHelper.createElementsHtml(e);}if(e.contentHTML!=undefined){c.push(e.contentHTML);}if(e.contentText!=undefined){c.push(a.encodeHtml(e.contentText+""));}c.push("</div>");return c.join("");};}})(window,WA);(function(d,c,b){if(!c.UI.ContainerMask){c.UI.ContainerMask=a;c.UI.ContainerMask.CssClass="waContainerMask";}function a(n,m){m=m||{};var s=this,v="WA.UI.ContainerMask",w=n,q=m.parentComponent,h=m.cssClass||"",x=m.zIndex||"",r=m.parentContainer;s.toString=function(){return v;};s.Dispose=c.Tools.EventHandlers.createHandlers(s,{id:"Dispose"});s.ContainerMaskClick=c.Tools.EventHandlers.createHandlers(s,{id:"ContainerMaskClick"});var o=false,k=w.id,f;s.dispose=i;s.show=u;s.hide=j;s.addCssClass=e;s.removeCssClass=t;function e(y){c.Dom.addClassName(f,y);}function t(y){c.Dom.removeClassName(f,y);}function u(){f.style.display="block";}function j(){f.style.display="none";}function p(){s.ContainerMaskClick.fireHandlers();}function g(){f=document.createElement("div");c.Dom.addClassName(f,c.UI.ContainerMask.CssClass);if(h){c.Dom.addClassName(f,h);}if(x){f.style.zIndex=x;}if(k){f.id=k;}r.appendChild(f);c.addHandler(f,"click",p);}function l(){if(typeof r=="string"){r=c.$(r);}if(q.Dispose){q.Dispose.addHandler(i);}g();}function i(){if(o){return;}s.Dispose.fireHandlers();if(q.Dispose){q.Dispose.removeHandler(i);}c.removeHandler(f,"click",p);r.removeChild(f);w=null;q=null;r=null;f=null;s.Dispose=null;s.ContainerMaskClick=null;o=true;}l();}})(window,WA);(function(c,b){if(!b.UI.ContextDialog){b.UI.ContextDialog=a;b.UI.ContextDialog.Prefixes={DomId:"idContextDialog",Css:"ContextDialog"};b.UI.ContextDialog.EventTags={Close:"close"};}function a(h,s){var A=this,H="WA.UI.ContextDialog",z=s.parentComponent;A.toString=function(){return H;};A.Dispose=b.Tools.EventHandlers.createHandlers(A,{id:"Dispose"});A.ContextDialogMouseOver=b.Tools.EventHandlers.createHandlers(A,{id:"ContextDialogMouseOver"});A.ContextDialogMouseOut=b.Tools.EventHandlers.createHandlers(A,{id:"ContextDialogMouseOut"});A.ContextDialogClick=b.Tools.EventHandlers.createHandlers(A,{id:"ContextDialogClick"});var k=s.currentWindow||c,g,u,i,j="idSystemContextsHolder",e,f=32,q=s.hideCloseButton,d=s.bounds||{},D=300,t=null,B=s.relativeContainerDelegate,G=s.startTopPositionOffset||10,F=0;d.width=d.width!=undefined?d.width:"auto";d.maxWidth=d.maxWidth!=undefined?d.maxWidth:500;A.dispose=l;A.setPosition=C;A.getHeight=m;A.show=E;A.hide=p;A.getMainContainer=function(){return u;};A.getContentContainer=function(){return g;};A.setContent=function(I){g.innerHTML=I;};function m(){if(!t&&u){t=u.offsetHeight;}return t||0;}function y(){F=null;b.throttle(C,D);}function C(){var I=n();if(u){u.style.left=o()+"px";u.style.top=I+d.top+"px";}}function n(){if(B){var I=B();if(I&&I.height!=undefined){F=I.height+G;}}return F;}function o(){return b.Dimensions.getElementRect(k.document.body).widthCenter-(((d.width=="auto"?g.clientWidth:d.width)+f)/2);}function E(){if(u){u.style.visibility="visible";C();b.addHandler(k,"resize",y);}}function p(){b.clearThrottle(C);b.removeHandler(k,"resize",y);if(u){if(g){b.removeHandler(u,"click",v);b.removeHandler(u,"mouseout",w);b.removeHandler(u,"mouseover",x);}i.removeChild(u);}g=null;u=null;i=null;e=null;}function v(I){var J=b.getEventTags(I);if(J==b.UI.ContextDialog.EventTags.Close){p();return;}if(J){A.ContextDialogClick.fireHandlers({eventTags:J});}}function w(){A.ContextDialogMouseOut.fireHandlers();}function x(){A.ContextDialogMouseOver.fireHandlers();}function r(){z.Dispose.addHandler(l);var I=k.document;i=b.$(j);u=I.createElement("DIV");u.id=h;if(s.z){u.zIndex=s.z;}if(d.maxWidth){u.style.maxWidth=d.maxWidth+"px";}u.style.width=d.width+(d.width!=="auto"?"px":"");var M=I.createElement("DIV");M.className="contextDialogContainer";if(b.getTypeString(s.cssClasses)=="array"){for(var K=0,L=s.cssClasses.length;K<L;K++){b.Dom.addClassName(M,s.cssClasses[K]);}}g=I.createElement("DIV");g.id=h+"_contentContainer";if(s.content){g.innerHTML=s.content;}b.Dom.addClassName(g,"contextDialogTextContainer");b.Dom.addClassName(u,"contextDialogMainContainer");if(s.cssClass!=undefined){b.Dom.addClassName(u,s.cssClass);}try{M.appendChild(g);if(!q){e=I.createElement("DIV");e.className="closeButtonContainer";e.style.width=f+"px";e.innerHTML=b.UI.ImageButtonTemplate({attr:{eventTags:b.UI.ContextDialog.EventTags.Close},cssClass:"crossOrange"});M.appendChild(e);}u.appendChild(M);i.appendChild(u);}catch(J){}b.addHandler(u,"click",v);b.addHandler(u,"mouseout",w);b.addHandler(u,"mouseover",x);}function l(){A.Dispose.fireHandlers();z.Dispose.removeHandler(l);p();A.ContextDialogMouseOver=null;A.ContextDialogMouseOut=null;A.ContextDialogClick=null;A.Dispose=null;}r();}})(window,WA);(function(d,c,b){if(!c.UI.ControlFactory){c.UI.ControlFactory=new a();}function a(){var k=this,q="WA.UI.ControlFactory",o,p,i;k.toString=function(){return q;};k.createControl=e;k.createTemplate=f;k.setResources=m;k.setThemeResources=n;k.setFileSystemResources=l;var g;function m(r){o=r.textResources;p=r.themeResources;i=r.fileSystemResources;}function n(r){p=r;}function l(r){i=r;}function e(u,s,r,t){t=t||{};t.controlList=t.controlList||{};s.resources=s.resources||{};if(t.dataSource){t.dataSource(s);}if(!t.controlFactory){t.controlFactory=k;}if(t.modelAccessor&&s.attr&&s.attr.eventTags!=b){switch(u){case c.UI.ControlType.SettingDialog:case c.UI.ControlType.EditHtmlDialog:case c.UI.ControlType.AjaxFileBrowserDialog:if(!s.simpleMode){s.modelAccessor=s.modelAccessor||t.modelAccessor.createChildModelAccessor(r.parentComponent);}break;default:if(!s.simpleMode){s.valueAccessor=s.valueAccessor||t.modelAccessor.createValueAccessor(s.attr.eventTags+".value",r.parentComponent);}}}if(s.metadataType&&r&&r.globalMetadataResourceManager){s.metadataResources=r.globalMetadataResourceManager.getResourcesByKey(s.metadataType);}switch(u){case c.UI.ControlType.DropDownList:case c.UI.ControlType.WaDropDownList:g=new c.UI.WaDropdownList(s,r,t);t.controlList[s.id]=g;return g;case c.UI.ControlType.CheckBoxList:g=new c.UI.CheckBoxList(s,r,t);t.controlList[s.id]=g;return g;case c.UI.ControlType.GroupedCheckBoxList:s.resources={defaultAllSelectedOptionTitle:o.GroupedCheckBoxList.DefaultAllSelectedOptionTitle,defaultEmptyListDescription:o.GroupedCheckBoxList.DefaultEmptyListDescription};g=new c.UI.GroupedCheckBoxList(s,r,t);t.controlList[s.id]=g;return g;case c.UI.ControlType.TextBox:case c.UI.ControlType.TextArea:g=new c.UI.TextBox(s,r);t.controlList[s.id]=g;return g;case c.UI.ControlType.EditHtmlTextArea:case c.UI.ControlType.HtmlTextArea:g=new c.UI.EditHtmlTextArea(s,r);t.controlList[s.id]=g;return g;case c.UI.ControlType.RadioButtonList:g=new c.UI.RadioButtonList(s,r,t);t.controlList[s.id]=g;return g;case c.UI.ControlType.RadioButton:g=new c.UI.RadioButton(s,r,t);t.controlList[s.id]=g;return g;case c.UI.ControlType.CheckBox:g=new c.UI.CheckBox(s,r,t);t.controlList[s.id]=g;return g;case c.UI.ControlType.ListOfRadioButtonList:g=new c.UI.ListOfRadioButtonList(s,r);t.controlList[s.id]=g;return g;case c.UI.ControlType.Section:case c.UI.ControlType.Indent:g=new c.UI.Section(s,r,t);t.controlList[s.id]=g;return g;case c.UI.ControlType.TextControl:g=new c.UI.TextControl(s,r);t.controlList[s.id]=g;return g;case c.UI.ControlType.Number:s.resources={intMinValue:o.TextBoxCounter.IntMinValue,intMaxValue:o.TextBoxCounter.IntMaxValue};g=new c.UI.NumberTextbox(s,r);t.controlList[s.id]=g;return g;case c.UI.ControlType.SettingDialog:g=new c.UI.SettingDialog(s,r,t);t.controlList[s.id]=g;return g;case c.UI.ControlType.Background:s.resources=o.BackgroundPicker;s.resources.libraries=s.metadataResources.libraries;g=new c.UI.BackgroundImagePicker(s,r,t);if(s.id){t.controlList[s.id]=g;}return g;case c.UI.ControlType.BackgroundImagePickerDialog:s.resources=o.BackgroundPickerDialog;g=new c.Admin.Cms.UI.Dialogs.BackgroundImagePickerDialog(s,r,t);if(s.id){t.controlList[s.id]=g;}return g;case c.UI.ControlType.BackgroundsList:s.resources=o.BackgroundsList;s.resources.libraries=s.metadataResources.libraries;s.resources.urlTemplates=s.metadataResources.urlTemplates;g=new c.Admin.Cms.BackgroundsList(s,r,t);if(s.id){t.controlList[s.id]=g;}return g;case c.UI.ControlType.TagSelector:g=new c.UI.TagSelector(s,r);t.controlList[s.id]=g;return g;case c.UI.ControlType.DateRangePicker:s.resources={startDate:s.resources.startDate||o.DateRangePicker.StartDate,endDate:s.resources.endDate||o.DateRangePicker.EndDate};g=new c.UI.DateRangePicker(s,r,t);t.controlList[s.id]=g;return g;case c.UI.ControlType.CalendarTextBox:g=new c.UI.CalendarTextBox(s,r,t);t.controlList[s.id]=g;return g;case c.UI.ControlType.SearchResultLayout:s.resources={textBoxCounter:{intMinValue:o.TextBoxCounter.IntMinValue,intMaxValue:o.TextBoxCounter.IntMaxValue}};g=new c.UI.SearchResultLayout(s,r);t.controlList[s.id]=g;return g;case c.UI.ControlType.ControlList:g=new c.UI.ControlList(s,r,t);if(s.id){t.controlList[s.id]=g;}return g;case c.UI.ControlType.BackgroundStyleSelector:s.resources={backgroundPicker:o.BackgroundPicker,backgroundPickerDialog:o.BackgroundPickerDialog,backgroundStyleSelector:o.BackgroundStyleSelector,backgroundsList:o.BackgroundsList,colorPicker:o.ColorPicker};s.resources.colorPicker.themeColors=p.colors;g=new c.UI.BackgroundStyleSelector(s,r,t);t.controlList[s.id]=g;return g;case c.UI.ControlType.GadgetCssOffsetValueSelector:g=new c.UI.GadgetCssOffsetValueSelector(s,r,t);t.controlList[s.id]=g;return g;case c.UI.ControlType.SizeSelector:s.resources={sizeSelector:o.SizeSelector};g=new c.UI.SizeSelector(s,r,t);t.controlList[s.id]=g;return g;case c.UI.ControlType.AjaxFileBrowser:s.resources={ajaxFileBrowserUrl:s.metadataResources.ajaxFileBrowserUrl};g=new c.Admin.UI.AjaxFileBrowser(s,r,t);t.controlList[s.id]=g;return g;case c.UI.ControlType.AjaxFileBrowserDialog:s.resources={dialogTitle:o.AjaxFileBrowserDialog.DialogTitle,openDialogButtonChange:o.AjaxFileBrowserDialog.OpenDialogButtonChange,openDialogButtonSelect:o.AjaxFileBrowserDialog.OpenDialogButtonSelect,saveButton:o.AjaxFileBrowserDialog.SaveButton,cancelButton:o.AjaxFileBrowserDialog.CancelButton};g=new c.UI.AjaxFileBrowserDialog(s,r,t);t.controlList[s.id]=g;return g;case c.UI.ControlType.StyleSelector:g=new c.UI.StyleSelector(s,r,t);t.controlList[s.id]=g;return g;case c.UI.ControlType.Link:g=new c.UI.Link(s,r);t.controlList[s.id]=g;return g;case c.UI.ControlType.LinkedDropDownListsControl:g=new c.UI.LinkedDropDownListsControl(s,r,t);t.controlList[s.id]=g;return g;case c.UI.ControlType.GadgetPanelIcon:g=new c.Admin.Cms.UI.Panels.GadgetPanelIcon(s,r);t.controlList[s.id]=g;return g;case c.UI.ControlType.CustomLayoutChunksControl:s.resources={editHtmlDialog:o.CustomLayoutChunksControl.EditHtmlDialog,placeHolderAutomaticallyAddedMessage:o.CustomLayoutChunksControl.PlaceHolderAutomaticallyAddedMessage};g=new c.UI.CustomLayoutChunksControl(s,r,t);t.controlList[s.id]=g;return g;case c.UI.ControlType.EditHtmlDialog:s.resources={dialogTitle:o.EditHtmlDialog.DialogTitle,openDialogButtonTitle:o.EditHtmlDialog.OpenDialogButtonTitle,htmlErrorMessage:o.EditHtmlDialog.HtmlErrorMessage};g=new c.UI.EditHtmlDialog(s,r,t);t.controlList[s.id]=g;return g;case c.UI.ControlType.Label:g=new c.UI.LabelControl(s,r);if(s.id){t.controlList[s.id]=g;}return g;case c.UI.ControlType.LabelContainer:g=new c.UI.LabelContainer(s,r,t);if(s.id){t.controlList[s.id]=g;}return g;case c.UI.ControlType.ResourceManagement:s.resources={fileSystemResources:i,resourceManagementResources:o.ResourceManagement};g=new c.Admin.Cms.ResourceManagement(s,r,t);if(s.id){t.controlList[s.id]=g;}return g;case c.UI.ControlType.MessageBox:g=new c.UI.MessageBox(s,r,t);if(s.id){t.controlList[s.id]=g;}return g;case c.UI.ControlType.BulletedList:g=new c.UI.BulletedList(s,r,t);if(s.id){t.controlList[s.id]=g;}return g;case c.UI.ControlType.RegistrationCodeGenerator:g=new c.UI.RegistrationCodeGenerator(s,r,t);if(s.id){t.controlList[s.id]=g;}return g;case c.UI.ControlType.DialogListControl:g=c.UI.DialogListControlFactory(s,r,t);if(s.id){t.controlList[s.id]=g;}return g;case c.UI.ControlType.PageHeader:g=new c.UI.PageHeader(s,r,t);if(s.id){t.controlList[s.id]=g;}return g;case c.UI.ControlType.ListControl:g=new c.UI.ListControl(s,r,t);if(s.id){t.controlList[s.id]=g;}return g;case c.UI.ControlType.MembershipLevelsControl:g=new c.UI.MembershipLevelsControl(s,r,t);if(s.id){t.controlList[s.id]=g;}return g;case c.UI.ControlType.EditableList:g=new c.UI.EditableList(s,r,t);if(s.id){t.controlList[s.id]=g;}return g;case c.UI.ControlType.DateTimeRangePicker:g=new c.UI.DateTimeRangePicker(s,r,t);if(s.id){t.controlList[s.id]=g;}return g;case c.UI.ControlType.TimeRangePicker:g=new c.UI.TimeRangePicker(s,r,t);if(s.id){t.controlList[s.id]=g;}return g;case c.UI.ControlType.WeekDaysSelector:g=new c.UI.WeekDaysSelector(s,r,t);if(s.id){t.controlList[s.id]=g;}return g;case c.UI.ControlType.ScheduleSummary:g=new c.UI.ScheduleSummary(s,r,t);if(s.id){t.controlList[s.id]=g;}return g;case c.UI.ControlType.ScheduleSessionTimePicker:g=new c.UI.ScheduleSessionTimePicker(s,r,t);if(s.id){t.controlList[s.id]=g;}return g;case c.UI.ControlType.OffsetSelector:g=new c.UI.OffsetSelector(s,r,t);if(s.id){t.controlList[s.id]=g;}return g;case c.UI.ControlType.DropDownColorPicker:g=new c.UI.DropdownColorPicker(s,r,t);if(s.id){t.controlList[s.id]=g;}return g;case c.UI.ControlType.BackgroundImageControl:g=new c.UI.BackgroundImageControl(s,r,t);if(s.id){t.controlList[s.id]=g;}return g;case c.UI.ControlType.BordersControl:g=new c.UI.BordersControl(s,r,t);if(s.id){t.controlList[s.id]=g;}return g;case c.UI.ControlType.ImageLinker:g=new c.UI.ImageLinker(s,r,t);if(s.id){t.controlList[s.id]=g;}return g;case c.UI.ControlType.CancellationBehaviorEdit:g=new c.UI.CancellationBehaviorEdit(s,r,t);if(s.id){t.controlList[s.id]=g;}return g;default:}}function f(r){switch(r){case c.UI.ControlType.DropDownList:case c.UI.ControlType.WaDropDownList:return c.UI.WaDropdownListTemplate;case c.UI.ControlType.CheckBoxList:return c.UI.CheckBoxListTemplate;case c.UI.ControlType.GroupedCheckBoxList:return c.UI.GroupedCheckBoxListTemplate;case c.UI.ControlType.TextBox:return c.UI.TextBoxTemplate;case c.UI.ControlType.TextArea:return c.UI.MultilineTextBoxTemplate;case c.UI.ControlType.EditHtmlTextArea:return c.UI.EditHtmlTextAreaTemplate;case c.UI.ControlType.RadioButtonList:return c.UI.RadioButtonListTemplate;case c.UI.ControlType.RadioButton:return c.UI.RadioButtonTemplate;case c.UI.ControlType.CheckBox:return c.UI.CheckBoxTemplate;case c.UI.ControlType.ListOfRadioButtonList:return c.UI.ListOfRadioButtonListTemplate;case c.UI.ControlType.Section:return c.UI.SectionTemplate;case c.UI.ControlType.TextControl:return c.UI.TextControlTemplate;case c.UI.ControlType.Number:return c.UI.NumberTextboxTemplate;case c.UI.ControlType.SettingDialog:return c.UI.SettingDialogSummaryTemplate;case c.UI.ControlType.Row:return c.UI.RowTemplate;case c.UI.ControlType.Indent:return c.UI.IndentTemplate;case c.UI.ControlType.Background:return c.UI.BackgroundImagePickerTemplate;case c.UI.ControlType.TagSelector:return c.UI.TagSelectorTemplate;case c.UI.ControlType.DateRangePicker:return c.UI.DateRangePickerTemplate;case c.UI.ControlType.CalendarTextBox:return c.UI.CalendarTextBoxTemplate;case c.UI.ControlType.SearchResultLayout:return c.UI.SearchResultLayoutTemplate;case c.UI.ControlType.ControlList:return c.UI.ControlListTemplate;case c.UI.ControlType.BackgroundStyleSelector:return c.UI.BackgroundStyleSelectorTemplate;case c.UI.ControlType.GadgetCssOffsetValueSelector:return c.UI.GadgetCssOffsetValueSelectorTemplate;case c.UI.ControlType.SizeSelector:return c.UI.SizeSelectorTemplate;case c.UI.ControlType.AjaxFileBrowser:return c.Admin.UI.AjaxFileBrowserTemplate;case c.UI.ControlType.AjaxFileBrowserDialog:return c.UI.AjaxFileBrowserDialogTemplate;case c.UI.ControlType.StyleSelector:return c.UI.StyleSelectorTemplate;case c.UI.ControlType.Link:return c.UI.LinkTemplate;case c.UI.ControlType.LinkedDropDownListsControl:return c.UI.LinkedDropDownListsControlTemplate;case c.UI.ControlType.GadgetPanelIcon:return c.Admin.Cms.UI.Panels.GadgetPanelIconTemplate;case c.UI.ControlType.CustomLayoutChunksControl:return c.UI.CustomLayoutChunksControlTemplate;case c.UI.ControlType.EditHtmlDialog:return c.UI.EditHtmlDialogTemplate;case c.UI.ControlType.HtmlTextArea:return c.UI.EditHtmlTextAreaTemplate;case c.UI.ControlType.Label:return c.UI.LabelControlTemplate;case c.UI.ControlType.LabelContainer:return c.UI.LabelContainerTemplate;case c.UI.ControlType.MessageBox:return c.UI.MessageBoxTemplate;case c.UI.ControlType.RegistrationCodeGenerator:return c.UI.RegistrationCodeGeneratorTemplate;case c.UI.ControlType.BulletedList:return c.UI.BulletedListTemplate;case c.UI.ControlType.DialogListControl:return c.UI.DialogListControlTemplate;case c.UI.ControlType.PageHeader:return c.UI.PageHeaderTemplate;case c.UI.ControlType.ListControl:return c.UI.ListControlTemplate;case c.UI.ControlType.MembershipLevelsControl:return c.UI.MembershipLevelsControlTemplate;case c.UI.ControlType.Container:return c.UI.ContainerTemplate;case c.UI.ControlType.Paragraph:return c.UI.ParagraphTemplate;case c.UI.ControlType.EditableList:return c.UI.EditableListTemplate;case c.UI.ControlType.DateTimeRangePicker:return c.UI.DateTimeRangePickerTemplate;case c.UI.ControlType.TimeRangePicker:return c.UI.TimeRangePickerTemplate;case c.UI.ControlType.WeekDaysSelector:return c.UI.WeekDaysSelectorTemplate;case c.UI.ControlType.ScheduleSummary:return c.UI.ScheduleSummaryTemplate;case c.UI.ControlType.ScheduleSessionTimePicker:return c.UI.ScheduleSessionTimePickerTemplate;case c.UI.ControlType.OffsetSelector:return c.UI.OffsetSelectorTemplate;case c.UI.ControlType.DropDownColorPicker:return c.UI.DropdownColorPickerTemplate;case c.UI.ControlType.BackgroundImageControl:return c.UI.BackgroundImageControlTemplate;case c.UI.ControlType.BordersControl:return c.UI.BordersControlTemplate;case c.UI.ControlType.ImageLinker:return c.UI.ImageLinkerTemplate;case c.UI.ControlType.CancellationBehaviorEdit:return c.UI.CancellationBehaviorEditTemplate;default:}}function j(){}function h(){}}})(window,WA);(function(c,b,a){if(b.UI.ControlType){return;}b.UI.ControlType={Undefined:"Undefined",DropDownList:"DropDownList",WaDropDownList:"WaDropDownList",GroupedCheckBoxList:"GroupedCheckBoxList",CheckBoxList:"CheckBoxList",CheckBox:"CheckBox",RadioButtonList:"RadioButtonList",RadioButton:"RadioButton",TextBox:"TextBox",TextArea:"TextArea",EditHtmlTextArea:"EditHtmlTextArea",HtmlTextArea:"HtmlTextArea",ListOfRadioButtonList:"ListOfRadioButtonList",Section:"Section",TextControl:"TextContainer",Number:"Number",SettingDialog:"SettingDialog",Background:"Background",BackgroundImagePickerDialog:"BackgroundImagePickerDialog",BackgroundsList:"BackgroundsList",Indent:"Indent",TagSelector:"TagSelector",DateRangePicker:"DateRangePicker",CalendarTextBox:"CalendarTextBox",SearchResultLayout:"SearchResultLayout",ControlList:"ControlList",BackgroundStyleSelector:"BackgroundStyleSelector",GadgetCssOffsetValueSelector:"GadgetCssOffsetValueSelector",SizeSelector:"CssValue",AjaxFileBrowser:"AjaxFileBrowser",AjaxFileBrowserDialog:"AjaxFileBrowserDialog",StyleSelector:"StyleSelector",Link:"HyperLink",LinkedDropDownListsControl:"LinkedDropDownListsControl",CustomLayoutChunksControl:"CustomLayoutChunksControl",GadgetPanelIcon:"GadgetPanelIcon",EditHtmlDialog:"HtmlDialog",Label:"Label",LabelContainer:"LabelContainer",DropDownListOptionSeparator:"DropDownListOptionSeparator",ResourceManagement:"ResourceManagement",MessageBox:"MessageBox",RegistrationCodeGenerator:"RegistrationCodeGenerator",BulletedList:"BulletedList",DialogListControl:"DialogListControl",PageHeader:"PageHeader",MembershipLevelsControl:"MembershipLevelsControl",ListControl:"ListControl",Container:"Container",Paragraph:"Paragraph",EditableList:"EditableList",DateTimeRangePicker:"DateTimeRangePicker",WeekDaysSelector:"WeekDaysSelector",TimeRangePicker:"TimeRangePicker",Crumb:"Crumb",CrumbDivider:"CrumbDivider",ScheduleSummary:"ScheduleSummary",ScheduleSessionTimePicker:"ScheduleSessionTimePicker",OffsetSelector:"OffsetSelector",DropDownColorPicker:"DropDownColorPicker",BackgroundImageSettings:"BackgroundImageSettings",BackgroundImageControl:"BackgroundImageControl",BordersControl:"BordersControl",ImageLinker:"ImageLinker",CancellationBehaviorEdit:"CancellationBehaviorEdit"};})(window,WA);(function(d,c,b){if(!c.UI.ControlGroupTemplate){c.UI.ControlGroupTemplate=a;}function a(e){e.cssClass=e.cssClass||"";e.cssClass="controlGroup "+e.cssClass;return c.UI.ContainerTemplate(e);}})(window,WA);(function(q,p,o){if(!p.UI.ControlLayoutTemplate){p.UI.ControlLayoutTemplate=a;p.UI.ControlLayoutTemplate.createTitleHTML=j;p.UI.ControlLayoutTemplate.ControlContainerDisplayType={Flexible:"flexible",Fixed:"fixed"};p.UI.ControlLayoutTemplate.ErrorCssClass="error";p.UI.ControlLayoutTemplate.HiddenDescriptionCssClass="hidden";p.UI.ControlLayoutTemplate.DefaultValueCssClass="defaultValue";p.UI.ControlLayoutTemplate.FlexibleCssClass="flexible";p.UI.ControlLayoutTemplate.FixedCssClass="fixed";p.UI.ControlLayoutTemplate.DisabledCssClass="disabled";p.UI.ControlLayoutTemplate.LinkedControlPosition={Horizontal:"horizontal",Vertical:"vertical"};p.UI.ControlLayoutTemplate.LinkedControlContainerType={Parent:"parent",Self:"self"};p.UI.ControlLayoutTemplate.TitlePosition={Top:"top",Left:"left"};p.UI.ControlLayoutTemplate.PostfixColor={Black:"Black",Grey:"Grey"};p.UI.ControlLayoutTemplate.IdControlContainerPostfix="_controlContainer";p.UI.ControlLayoutTemplate.IdContainerTitlePostfix="_controlTitleContainer";p.UI.ControlLayoutTemplate.IdTitlePostfix="_controlTitle";p.UI.ControlLayoutTemplate.IdTitleTextPostfix="_controlTitleText";p.UI.ControlLayoutTemplate.IdTitleDescriptionTextPostfix="_controlTitleDescriptionText";p.UI.ControlLayoutTemplate.IdValidationContainerPostfix="_controlValidationMessage";p.UI.ControlLayoutTemplate.IdContainerDescriptionPostfix="_controlDescriptionContainer";p.UI.ControlLayoutTemplate.IdControlLayoutPostfix="_controlLayout";p.UI.ControlLayoutTemplate.IdLinkedControlPostfix="_linkedControl";p.UI.ControlLayoutTemplate.IdNestedLinkedControlsContainerPostfix="_nestedLinkedControlsContainer";p.UI.ControlLayoutTemplate.IdBaseLinkedControlsContainerPostfix="_baseLinkedControlsContainer";p.UI.ControlLayoutTemplate.PostfixPostfix="_controlPostfix";}var l=p.UI.ContainerTemplate;function a(t,r){r=r||{};var s=!!t.linkedControl&&t.linkedControlPosition==p.UI.ControlLayoutTemplate.LinkedControlPosition.Horizontal;t.linkedControlContainerDisplayType=!!t.linkedControlContainerDisplayType?t.linkedControlContainerDisplayType:p.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;t.linkedControlContainerDisplayTypeCssClass=m(t.linkedControlContainerDisplayType);if(t.linkedControl&&s){t.controlContainerDisplayType=p.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed;}t.idControlContainerPostfix=t.idControlContainerPostfix?t.idControlContainerPostfix:p.UI.ControlLayoutTemplate.IdControlContainerPostfix;t.idValidationContainerPostfix=!!t.idValidationContainerPostfix?t.idValidationContainerPostfix:p.UI.ControlLayoutTemplate.IdValidationContainerPostfix;return l({attr:t.attr,cssClass:"waControlLayout "+m(t.controlContainerDisplayType)+(t.cssClass?" "+t.cssClass:"")+(s?" horizontalLinkedControlPosition":"")+(t.disabled===true?" "+p.UI.ControlLayoutTemplate.DisabledCssClass:""),id:t.id?t.id+p.UI.ControlLayoutTemplate.IdControlLayoutPostfix:"",contentHTML:i(t)+l({cssClass:"waControlWrapperContainer",contentHTML:c(t)+d(t)+k(t)+(s?"":f(t,r))+e(t)})+(s?f(t,r):"")});}function c(r){return l({cssClass:"waControlWrapper",contentHTML:l({cssClass:"waControlPrefix"+(r.prefix?"":" hidden"),attr:(r.prefixWidth!=o)?{style:"width: "+r.prefixWidth+"px;"}:o,contentHTML:h(r.prefix)})+l({cssClass:"waControlContainer "+m(r.controlContainerDisplayType),attr:(r.controlContainerDisplayType!=p.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible&&r.width!=o)?{style:"width: "+r.width+"px;"}:o,id:(r.id?r.id+r.idControlContainerPostfix:""),contentHTML:r.layoutContentHTML})+l({id:r.id?r.id+p.UI.ControlLayoutTemplate.PostfixPostfix:"",cssClass:"waControlPostfix "+n(r.postfixColor),contentHTML:p.UI.Helpers.ControlHelper.createPostfix(r.postfix,r.postfixHTML)})});}function n(r){if(r==p.UI.ControlLayoutTemplate.PostfixColor.Grey){return"grey";}return"";}function k(r){return l({id:(r.id?r.id+r.idValidationContainerPostfix:""),cssClass:"waControlValidation"});}function f(s,r){r=r||{};if(s.valueAccessor){r.parentModel=s;}return l({cssClass:"linkedControl "+s.linkedControlContainerDisplayTypeCssClass,id:s.id+p.UI.ControlLayoutTemplate.IdLinkedControlPostfix,contentHTML:(s.linkedControlContainerHtml!=o&&s.linkedControlContainerHtml!=""?g(s):"")+(s.linkedControl&&s.linkedControlContainerType!=p.UI.ControlLayoutTemplate.LinkedControlContainerType.Parent?b(s,r):"")});}function b(s,r){r=r||{};return l({cssClass:"baseLinkedControlsContainer",contentHTML:p.UI.Helpers.ControlHelper.createLinkedControlHtml(s,r),id:s.id+p.UI.ControlLayoutTemplate.IdBaseLinkedControlsContainerPostfix});}function g(r){return l({cssClass:"nestedLinkedControlsContainer",contentHTML:r.linkedControlContainerHtml,id:(r.id||p.getRandomId())+p.UI.ControlLayoutTemplate.IdNestedLinkedControlsContainerPostfix});}function m(r){switch(r){case p.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible:return p.UI.ControlLayoutTemplate.FlexibleCssClass;case p.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed:return p.UI.ControlLayoutTemplate.FixedCssClass;default:return p.UI.ControlLayoutTemplate.FixedCssClass;}}function i(s){if(s.title==o){return"";}var r={};if(s.titleWidth){r.style="width:"+s.titleWidth+"px;";}return l({id:s.id+p.UI.ControlLayoutTemplate.IdContainerTitlePostfix,cssClass:"waControlTitle"+(s.titlePosition==p.UI.ControlLayoutTemplate.TitlePosition.Left?" positionLeft":""),attr:r,contentHTML:j(s.title,s.titleDescription)});}function j(r,s){if(r==o){return"";}return p.UI.TextContainerTemplate({contentText:r,cssClass:"titleText"})+(s?p.UI.TextContainerTemplate({contentText:s,cssClass:"titleDescriptionText"}):"");}function h(r){if(!r){return"";}return l({cssClass:"waControlPrefixText",contentText:r});}function d(r){if(!r.description){return"";}return l({cssClass:"waControlDescription",id:r.id?(r.id+(r.idContainerDescriptionPostfix?r.idContainerDescriptionPostfix:p.UI.ControlLayoutTemplate.IdContainerDescriptionPostfix)):"",contentHTML:r.description});}function e(r){if(r.externalDescription==o&&r.externalDescription==""){return"";}return l({cssClass:"waControlDescription external"+(r.externalDescription?"":" "+p.UI.ControlLayoutTemplate.HiddenDescriptionCssClass),id:r.id?(r.id+(r.idContainerDescriptionPostfix?r.idContainerDescriptionPostfix:p.UI.ControlLayoutTemplate.IdContainerDescriptionPostfix)):"",contentHTML:r.externalDescription});}})(window,WA);(function(c,b){if(!b.UI.ControlList){b.UI.ControlList=a;b.UI.ControlList.TypeName="WA.UI.ControlList";}function a(m,l,v){l=l||{};l.currentWindow=l.currentWindow||c;var t=this,x=b.UI.ControlList.TypeName,r=l.parentComponent,y=m,d=l.childElementEventHandlers||{ValueChanged:n,VisualStateChanged:q};t.toString=function(){return x;};t.ValueChanged=b.Tools.EventHandlers.createHandlers(t,{id:"ValueChanged"});t.RenderComplete=b.Tools.EventHandlers.createHandlers(t,{id:"RenderComplete"});t.ValidationFailed=b.Tools.EventHandlers.createHandlers(t,{id:"ValidationFailed"});t.Dispose=b.Tools.EventHandlers.createHandlers(t,{id:"Dispose"});t.VisualStateChanged=b.Tools.EventHandlers.createHandlers(t,{id:"VisualStateChanged"});t.render=u;t.getId=i;t.getContainerId=function(){return y.id+b.UI.ControlListTemplate.IdContainerPostfix;};t.dispose=g;t.parentSelected=s;t.getType=function(){return y.layoutControlType;};t.show=w;t.hide=j;t.enable=h;t.disable=f;var e;function w(){b.Dom.removeClassName(e,"hidden");t.VisualStateChanged.fireHandlers();}function j(){b.Dom.addClassName(e,"hidden");t.VisualStateChanged.fireHandlers();}function h(){throw new Error("not implemented");}function f(){throw new Error("not implemented");}function s(z){b.UI.Helpers.ControlHelper.applyParentSelectedBehavior(t,y.parentChangeBehaviour,z);}function i(){return y.id;}function u(){return b.UI.ControlListTemplate(y);}function n(A,z){t.ValueChanged.fireHandlers(z);}function q(A,z){t.VisualStateChanged.fireHandlers();}function o(){e=b.$(y.id+b.UI.ControlListTemplate.IdContainerPostfix);t.RenderComplete.fireHandlers();}function p(){t.ValidationFailed.fireHandlers();}function k(){r.RenderComplete.addHandler(o);r.Dispose.addHandler(g);if(r.ValidationFailed){r.ValidationFailed.addHandler(p);}b.UI.Helpers.ControlHelper.createElements(y,{parentComponent:t,gadget:l.gadget},v,d);}function g(){t.Dispose.fireHandlers();r.RenderComplete.removeHandler(o);r.Dispose.removeHandler(g);if(r.ValidationFailed){r.ValidationFailed.removeHandler(p);}y=null;r=null;e=null;t.ValueChanged=null;t.RenderComplete=null;t.Dispose=null;t.ValidationFailed=null;t.VisualStateChanged=null;}k();}})(window,WA);(function(b,a){if(!a.UI.ControlListTemplate){a.UI.ControlListTemplate=function(e){var d=e.id,c=a.UI.IndentTemplate;if(a.getTypeString(e.elements)=="array"&&e.elements.length>0){e.contentHTML=a.UI.Helpers.ControlHelper.createElementsHtml(e);}return c({id:d+a.UI.ControlListTemplate.IdContainerPostfix,cssClass:"controlListMainContainer",contentHTML:e.contentHTML,attr:a.UI.Helpers.ControlHelper.createContainerAttributes(e)});};a.UI.ControlListTemplate.createSummary=function(e){if(e.hideInSummary){return"";}var c=[],d=e.elements;if(!d||d.length<=0){return"";}c.push(a.UI.Helpers.ControlHelper.createElementsSummary(d));return c.join("");};a.UI.ControlListTemplate.IdContainerPostfix="_controlListContainer";}})(window,WA);(function(d,c,b){if(!c.UI.CustomLayoutChunksControl){c.UI.CustomLayoutChunksControl=a;c.UI.CustomLayoutChunksControl.PlaceHolderMarker={Prefix:"##placeholder",Delimiter:":",Postfix:"##"};}function a(p,o,B){o=o||{};var y=this,C="WA.UI.CustomLayoutChunksControl",E=p,u=o.parentComponent,D,A=E.resources,l=o.gadget;y.toString=function(){return C;};y.RenderComplete=c.Tools.EventHandlers.createHandlers(y,{id:"RenderComplete"});y.Dispose=c.Tools.EventHandlers.createHandlers(y,{id:"Dispose"});y.ValueChanged=c.Tools.EventHandlers.createHandlers(y,{id:"ValueChanged"});y.ValidationFailed=c.Tools.EventHandlers.createHandlers(y,{id:"ValidationFailed"});y.render=z;y.getType=function(){return E.layoutControlType;};E.innerControlId=c.UI.Helpers.ControlHelper.createElementId(E.id,0);var v=c.UI.CustomLayoutChunksControl.PlaceHolderMarker,h,g,j=null,k,x=new RegExp("("+v.Prefix+"(?:"+v.Delimiter+"[\\w]+)?"+v.Postfix+")"),w=new RegExp(v.Prefix+"("+v.Delimiter+"[\\w]+)"+v.Postfix);function z(){return c.UI.CustomLayoutChunksControlTemplate(E);}function r(G,F){y.RenderComplete.fireHandlers();}function s(){var I=D.getErrors(),F=[];if(I.length>0){var G,H;for(G=0,H=I.length;G<H;G++){F.push({ValuePath:E.attr.eventTags+".value",ErrorMessage:I[G]});}h.setValidationErrors(F);}y.ValidationFailed.fireHandlers();}function f(F){return v.Prefix+v.Delimiter+F+v.Postfix;}function m(){var H=D.getValue(),F=[],I,J,G;for(I=0,J=H.length;I<J;I++){G=H[I];if(G.placeHolder){F.push(f(G.placeHolder.id));continue;}F.push(G.content);}return F.join("");}function q(){D.resetChanges();}function t(){var V=g[E.attr.eventTags].value,F=V.split(x),K,L,U,H=[],P,G,J=null,I={},O=l.getLockedItemsData(),Q="~",R=Q.length,T,N,M,S=false;if(O){T=Q+O.lockedPlaceHoldersId.join(Q)+Q;}for(K=0,L=F.length;K<L;K++){if(x.test(F[K])){U=w.exec(F[K]);P=null;if(U&&U.length==2){P=U[1].replace(v.Delimiter,"");if(I.hasOwnProperty(P)){P=null;}}if(O&&P){T=T.replace(Q+P+Q,Q);}G=l.getPlaceHolderChunkModel(P);if(!J){J=G;}I[G.placeHolder.id]=true;}else{if(!F[K]){continue;}G=l.getContentChunkModel(F[K]);}H.push(G);}if(!J){G=l.getPlaceHolderChunkModel(null);H.unshift(G);J=G;S=true;}if(O&&T.length>2*R){N=O.itemsData;for(K=0,L=N.length;K<L;K++){M=N[K];if(T.indexOf(Q+M.placeHolderId+Q)!=-1){l.addItemToPlaceHolderChunkModel(J,M.itemModel);}}}D.setValue(H);h.resetValidationErrors();h.setValue(E.attr.eventTags+".value",m());h.applyChanges();if(S){alert(E.resources.placeHolderAutomaticallyAddedMessage);}y.ValueChanged.fireHandlers();}function e(){k={attr:{eventTags:E.attr.eventTags},layoutControlType:c.UI.ControlType.HtmlTextArea};}function n(){u.RenderComplete.addHandler(r);u.Dispose.addHandler(i);if(u.ValidationFailed){u.ValidationFailed.addHandler(s);}D=c.UI.Helpers.ValueAccessorHelper.createValueAccessor(p,y);g={};g[E.attr.eventTags]={value:m()};h=new c.ModelAccessor({model:g},{parentComponent:y});e();j=new c.UI.EditHtmlDialog({id:E.id,attr:{eventTags:E.attr.eventTags},modelAccessor:h,elements:[k],resources:{dialogTitle:A.editHtmlDialog.DialogTitle,openDialogButtonTitle:A.editHtmlDialog.OpenDialogButtonTitle,htmlErrorMessage:A.editHtmlDialog.HtmlErrorMessage}},{parentComponent:y},B);j.ValueChanged.addHandler(t);j.ChangeCancel.addHandler(q);}function i(){y.Dispose.fireHandlers();u.RenderComplete.removeHandler(r);u.Dispose.removeHandler(i);if(u.ValidationFailed){u.ValidationFailed.removeHandler(s);}E=null;u=null;D=null;v=null;h=null;g=null;x=null;l=null;w=null;k=null;j=null;y.RenderComplete=null;y.Dispose=null;y.ValueChanged=null;y.ValidationFailed=null;}n();}})(window,WA);(function(d,c,b){if(!c.UI.CustomLayoutChunksControlTemplate){c.UI.CustomLayoutChunksControlTemplate=a;c.UI.CustomLayoutChunksControlTemplate.ButtonPostfix="_button";}function a(f){var e=c.UI.EditHtmlDialogTemplate;return e({id:f.id,attr:{eventTags:f.attr.eventTags+c.UI.EditHtmlDialogTemplate.IdEditHtmlDialogPostfix},resources:{openDialogButtonTitle:f.resources.editHtmlDialog.OpenDialogButtonTitle}});}})(window,WA);(function(d,c,b){if(!c.UI.DateRangePicker){c.UI.DateRangePicker=a;c.UI.DateRangePicker.TypeName="WA.UI.DateRangePicker";}function a(o,n,y){n=n||{};var w=this,G=c.UI.DateRangePicker.TypeName,I=o,e=n||{},v=n.parentComponent,H;w.toString=function(){return G;};w.RenderComplete=c.Tools.EventHandlers.createHandlers(w,{id:"RenderComplete"});w.Dispose=c.Tools.EventHandlers.createHandlers(w,{id:"Dispose"});w.ValueChanged=c.Tools.EventHandlers.createHandlers(w,{id:"ValueChanged"});w.VisualStateChanged=c.Tools.EventHandlers.createHandlers(w,{id:"VisualStateChanged"});var D=e.showValidationMessage!=b?e.showValidationMessage:true,E,j,F,k,h,g=I.id+c.UI.ControlLayoutTemplate.IdControlLayoutPostfix;w.dispose=i;w.render=x;w.setValue=C;w.getValue=l;w.setStartCalendarPostfix=B;w.setEndCalendarPostfix=z;w.getType=function(){return I.layoutControlType;};w.getId=function(){return I.id;};w.renderComplete=r;function C(J){if(J.start!=b&&J.end!=b){F.setValue(J.start.unixTicks,"unixTicks");E.setValue(J.start.unixTicks,c.UI.CalendarTextBox.DateFormat.Ticks);k.setValue(J.end.unixTicks,"unixTicks");j.setValue(J.end.unixTicks,c.UI.CalendarTextBox.DateFormat.Ticks);return;}if(J.start!=b){F.setValue(J.start.unixTicks,"unixTicks");E.setValue(J.start.unixTicks,c.UI.CalendarTextBox.DateFormat.Ticks);f();return;}if(J.end!=b){k.setValue(J.end.unixTicks,"unixTicks");j.setValue(J.end.unixTicks,c.UI.CalendarTextBox.DateFormat.Ticks);return;}}function l(){return{start:F.getValue("unixTicks"),end:k.getValue("unixTicks")};}function x(){return c.UI.DateRangePickerTemplate(I);}function B(J){E.setPostfix(J);}function z(J){j.setPostfix(J);}function r(K,J){h=c.$(g);w.RenderComplete.fireHandlers();}function u(K,J){w.VisualStateChanged.fireHandlers();}function s(K,J){f();}function f(){A(false);if(F.getValue("unixTicks")&&k.getValue("unixTicks")&&F.getValue("unixTicks")>k.getValue("unixTicks")){j.setValue(null,c.UI.CalendarTextBox.DateFormat.Ticks);}w.ValueChanged.fireHandlers();}function q(K,J){A(false);w.ValueChanged.fireHandlers();}function t(){var J=H.getErrors();if(J.length>0&&D){c.UI.Helpers.ControlHelper.showValidationMessages(I.id,J);A(true);return;}}function A(J){E.setErrorState(J);j.setErrorState(J);if(J===true){c.Dom.addClassName(h,"error");return;}c.Dom.removeClassName(h,"error");}function p(K,J){A(false);}function m(){H=c.UI.Helpers.ValueAccessorHelper.createValueAccessor(o,w);F=H.createChildValueAccessor("start",w);k=H.createChildValueAccessor("end",w);if(v.ValidationFailed){v.ValidationFailed.addHandler(t);}E=new c.UI.CalendarTextBox({id:I.id+c.UI.DateRangePickerTemplate.StartDatePostfix,attr:{eventTags:"startDate"},valueAccessor:F,minDateRestriction:I.minDateRestriction,maxDateRestriction:I.maxDateRestriction,mask:I.mask},{parentComponent:w},y);E.ValueChanged.addHandler(s);E.EditStarted.addHandler(p);E.VisualStateChanged.addHandler(u);j=new c.UI.CalendarTextBox({id:I.id+c.UI.DateRangePickerTemplate.EndDatePostfix,attr:{eventTags:"endDate"},valueAccessor:k,minDateRestriction:I.minDateRestriction,maxDateRestriction:I.maxDateRestriction,mask:I.mask},{parentComponent:w},y);j.ValueChanged.addHandler(q);j.EditStarted.addHandler(p);j.VisualStateChanged.addHandler(u);v.RenderComplete.addHandler(r);v.Dispose.addHandler(i);}function i(){w.Dispose.fireHandlers();if(v.ValidationFailed){v.ValidationFailed.removeHandler(t);}v.RenderComplete.removeHandler(r);v.Dispose.removeHandler(i);I=null;v=null;E=null;j=null;H=null;F=null;k=null;h=null;w.RenderComplete=null;w.Dispose=null;w.ValueChanged=null;w.VisualStateChanged=null;}m();}})(window,WA);(function(d,c){if(!c.UI.DateRangePickerTemplate){c.UI.DateRangePickerTemplate=b;c.UI.DateRangePickerTemplate.StartDatePostfix="_startDate";c.UI.DateRangePickerTemplate.EndDatePostfix="_endDate";c.UI.DateRangePickerTemplate.DefaultTitleWidth=75;c.UI.DateRangePickerTemplate.CalendarLayout={Horizontal:"horizontal",Vertical:"vertical"};}function b(f){var e=c.UI.ControlLayoutTemplate;f.controlContainerDisplayType=f.controlContainerDisplayType?f.controlContainerDisplayType:c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;f.cssClass="dateRangePicker"+(f.cssClass?" "+f.cssClass:"")+(f.isFirst?" first":"");f.layoutContentHTML=a(f);return e(f);}function a(h){var g=c.UI.ContainerTemplate,i=c.UI.CalendarTextBoxTemplate({id:h.id+c.UI.DateRangePickerTemplate.StartDatePostfix,title:h.resources.startDate,titlePosition:"left",titleWidth:h.calendarTitleWidth||c.UI.DateRangePickerTemplate.DefaultTitleWidth,controlContainerDisplayType:h.calendarContainerDisplayType,width:h.calendarWidth,cssClass:"startDate",postfixColor:h.calendarPostfixColor}),e=g({cssClass:"calendarTextBoxDivider"}),f=c.UI.CalendarTextBoxTemplate({id:h.id+c.UI.DateRangePickerTemplate.EndDatePostfix,title:h.resources.endDate,titlePosition:"left",titleWidth:h.calendarTitleWidth||c.UI.DateRangePickerTemplate.DefaultTitleWidth,controlContainerDisplayType:h.calendarContainerDisplayType,width:h.calendarWidth,cssClass:"endDate",postfixColor:h.calendarPostfixColor});return g({contentHTML:(h.calendarLayout==c.UI.DateRangePickerTemplate.CalendarLayout.Horizontal)?g({cssClass:"dateRangePickerHorizontal",contentHTML:g({contentHTML:i})+g({contentHTML:e})+g({contentHTML:f})}):i+e+f});}c.UI.DateRangePickerTemplate.createSummary=function(e){return"";};})(window,WA);Calendar=(function(){function H(P){P=P||{};this.args=P=J(P,{animation:!ad,cont:null,bottomBar:true,date:true,fdow:b("fdow"),min:null,max:null,reverseWheel:false,selection:[],selectionType:H.SEL_SINGLE,weekNumbers:false,align:"Br/ / /T/r",offset:null,inputField:null,trigger:null,anchor:null,dateFormat:"%Y-%m-%d",multiCtrl:true,fixed:false,opacity:ac?1:3,titleFormat:"%b %Y",showTime:false,timePos:"right",time:true,minuteStep:5,noScroll:false,disabled:ah,checkRange:false,dateInfo:ah,onChange:ah,onSelect:ah,onTimeChange:ah,onFocus:ah,onBlur:ah,onClose:ah});this.handlers={};var ar=this,at=new Date();P.min=al(P.min);P.max=al(P.max);if(P.date===true){P.date=at;}if(P.time===true){P.time=at.getHours()*100+Math.floor(at.getMinutes()/P.minuteStep)*P.minuteStep;}this.date=al(P.date);this.time=P.time;this.fdow=P.fdow;R("onChange onSelect onTimeChange onFocus onBlur onClose".split(/\s+/),function(au){var av=P[au];if(!(av instanceof Array)){av=[av];}ar.handlers[au]=av;});this.selection=new H.Selection(P.selection,P.selectionType,r,this);var D=j(this);if(P.cont){a(P.cont).appendChild(D);}if(P.trigger){this.manageFields(P.trigger,P.inputField,P.anchor,P.dateFormat,P.offset);}ar.ValueChanged=WA.Tools.EventHandlers.createHandlers(ar,{id:"ValueChanged"});ar.CloseCalendar=WA.Tools.EventHandlers.createHandlers(ar,{id:"CloseCalendar"});ar.showForField=aj.popupForField;ar.setMinDate=function(au){ar.args.min=au;};ar.setMaxDate=function(au){ar.args.max=au;};}var ap=navigator.userAgent,af=/opera/i.test(ap),ae=/Konqueror|Safari|KHTML/i.test(ap),ac=/msie/i.test(ap)&&!af&&!(/mac_powerpc/i.test(ap)),ad=ac&&/msie 6/i.test(ap),ab=/gecko/i.test(ap)&&!ae&&!af&&!ac,aj=H.prototype,Y=H.I18N={};H.SEL_NONE=0;H.SEL_SINGLE=1;H.SEL_MULTIPLE=2;H.SEL_WEEK=3;H.dateToInt=I;H.intToDate=aa;H.printDate=ak;H.formatString=S;H.i18n=b;H.LANG=function(D,ar,P){Y.__=Y[D]={name:ar,data:P};};H.setup=function(D){return new H(D);};aj.moveTo=function(au,D){var aF=this;au=al(au);var P=C(au,aF.date,true),at,aE=aF.args,aB=aE.min&&C(au,aE.min),aA=aE.max&&C(au,aE.max);if(!aE.animation){D=false;}E(aB!=null&&aB<=1,[aF.els.navPrevMonth,aF.els.navPrevYear],"DynarchCalendar-navDisabled");E(aA!=null&&aA>=-1,[aF.els.navNextMonth,aF.els.navNextYear],"DynarchCalendar-navDisabled");if(aB<-1){au=aE.min;at=1;P=0;}if(aA>1){au=aE.max;at=2;P=0;}aF.date=au;aF.refresh(!!D);aF.callHooks("onChange",aF,au,D);if(D&&!(P==0&&D==2)){if(aF._bodyAnim){aF._bodyAnim.stop();}var ar=aF.els.body,ax=B("div","DynarchCalendar-animBody-"+z[P],ar),aI=ar.firstChild,aC=ai(aI)||parseFloat("0.7"),az=at?N.brakes:P==0?N.shake:N.accel_ab2,aJ=P*P>4,aD=aJ?aI.offsetTop:aI.offsetLeft,aG=ax.style,av=aJ?ar.offsetHeight:ar.offsetWidth;if(P<0){av+=aD;}else{if(P>0){av=aD-av;}else{av=Math.round(av/7);if(at==2){av=-av;}}}if(!at&&P!=0){var ay=ax.cloneNode(true),aH=ay.style,aw=2*av;ay.appendChild(aI.cloneNode(true));aH[aJ?"marginTop":"marginLeft"]=av+"px";ar.appendChild(ay);}aI.style.visibility="hidden";ax.innerHTML=c(aF);aF._bodyAnim=y({onUpdate:function(aN,aM){var aK=az(aN);if(ay){var aL=aM(aK,av,aw)+"px";}if(at){aG[aJ?"marginTop":"marginLeft"]=aM(aK,av,0)+"px";}else{if(aJ||P==0){aG.marginTop=aM(P==0?az(aN*aN):aK,0,av)+"px";if(P!=0){aH.marginTop=aL;}}if(!aJ||P==0){aG.marginLeft=aM(aK,0,av)+"px";if(P!=0){aH.marginLeft=aL;}}}if(aF.args.opacity>2&&ay){ai(ay,1-aK);ai(ax,aK);}},onStop:function(aK){ar.innerHTML=c(aF,au);aF._bodyAnim=null;}});}aF._lastHoverDate=null;return aB>=-1&&aA<=1;};aj.isDisabled=function(D){var P=this.args;return(P.min&&C(D,P.min)<0)||(P.max&&C(D,P.max)>0)||P.disabled(D);};aj.toggleMenu=function(){k(this,!this._menuVisible);};aj.refresh=function(P){var D=this.els;if(!P){D.body.innerHTML=c(this);}D.title.innerHTML=i(this);D.yearInput.value=this.date.getFullYear();};aj.redraw=function(){var P=this,D=P.els;P.refresh();D.dayNames.innerHTML=e(P);D.menu.innerHTML=g(P);if(D.bottomBar){D.bottomBar.innerHTML=d(P);}aq(D.topCont,function(ar){var at=Z[ar.className];if(at){D[at]=ar;}if(ar.className=="DynarchCalendar-menu-year"){x(ar,P._focusEvents);D.yearInput=ar;}else{if(ac){ar.setAttribute("unselectable","on");}}});P.setTime(null,true);};aj.setLanguage=function(D){var P=H.setLanguage(D);if(P){this.fdow=P.data.fdow;this.redraw();}};H.setLanguage=function(D){var P=Y[D];if(P){Y.__=P;}return P;};aj.focus=function(){try{this.els[this._menuVisible?"yearInput":"focusLink"].focus();}catch(D){}u.call(this);};aj.blur=function(){this.els.focusLink.blur();this.els.yearInput.blur();s.call(this);};aj.showAt=function(aw,ax,D){if(this._showAnim){this._showAnim.stop();}D=D&&this.args.animation;var av=this.els.topCont,au=this,P=this.els.body.firstChild,ar=P.offsetHeight,at=av.style;at.position="absolute";at.left=aw+"px";at.top=ax+"px";at.zIndex=WA.UI.DefaultZIndex.Calendar;at.display="";if(D){P.style.marginTop=-ar+"px";this.args.opacity>1&&ai(av,0);this._showAnim=y({onUpdate:function(az,ay){P.style.marginTop=-ay(N.accel_b(az),ar,0)+"px";au.args.opacity>1&&ai(av,az);},onStop:function(){au.args.opacity>1&&ai(av,"");au._showAnim=null;}});}};aj.hide=function(){this.callHooks("onClose",this);var aw=this.els.topCont,av=this,D=this.els.body.firstChild,at=D.offsetHeight,au=V(aw).y,P=this.CloseCalendar;if(this.args.animation){if(this._showAnim){this._showAnim.stop();}this._showAnim=y({onUpdate:function(ay,ax){av.args.opacity>1&&ai(aw,1-ay);D.style.marginTop=-ax(N.accel_b(ay),0,at)+"px";aw.style.top=ax(N.accel_ab(ay),au,au-10)+"px";},onStop:function(){aw.style.display="none";D.style.marginTop="";av.args.opacity>1&&ai(aw,"");av._showAnim=null;}});}else{aw.style.display="none";}this.inputField=null;setTimeout(ar,150);function ar(){P.fireHandlers();}};aj.popup=function(at,D,ar,av){at=ar?a(ar):a(at);av=av||{};av.x=av.x||0;av.y=av.y||0;if(!D){D=this.args.align;}D=D.split(/\x2f/);var P=V(at),az=this.els.topCont,ax=az.style,ay,aA=W();ax.visibility="hidden";ax.display="";this.showAt(0,0);document.body.appendChild(az);ay={x:az.offsetWidth,y:az.offsetHeight};function au(aB){var aC={x:aw.x,y:aw.y};if(!aB){return aC;}if(/B/.test(aB)){aC.y+=av.y+at.offsetHeight+5;}if(/b/.test(aB)){aC.y+=at.offsetHeight-ay.y;}if(/T/.test(aB)){aC.y-=ay.y;}if(/l/.test(aB)){aC.x-=ay.x-at.offsetWidth;}if(/L/.test(aB)){aC.x-=ay.x;}if(/R/.test(aB)){aC.x+=at.offsetWidth;}if(/c/i.test(aB)){aC.x+=(at.offsetWidth-ay.x)/2;}if(/m/i.test(aB)){aC.y+=(at.offsetHeight-ay.y)/2;}return aC;}var aw=P;aw=au(D[0]);if(aw.y<aA.y){aw.y=P.y;aw=au(D[1]);}if(aw.x+ay.x>aA.x+aA.w){aw.x=P.x;aw=au(D[2]);}if(aw.y+ay.y>aA.y+aA.h){aw.y=P.y;aw=au(D[3]);}if(aw.x<aA.x){aw.x=P.x;aw=au(D[4]);}this.showAt(aw.x,aw.y,true);ax.visibility="";this.focus();};aj.popupForField=function(az,at,P,ar,D,ax){var ay=this;at=a(at);az=a(az);ay.inputField=at;ay.dateFormat=ar;if(ay.selection.type==H.SEL_SINGLE){var aA,av,au,aw;aA=/input|textarea/i.test(at.tagName)?at.value:(at.innerText||at.textContent);if(aA){av=/(^|[^%])%[bBmo]/.exec(ar);au=/(^|[^%])%[de]/.exec(ar);if(av&&au){aw=av.index<au.index;}aA=Calendar.parseDate(aA,aw);if(aA){ay.selection.set(aA,false,true);if(ay.args.showTime){ay.setHours(aA.getHours());ay.setMinutes(aA.getMinutes());}ay.moveTo(aA);}}}ay.popup(az,D,P,ax);};aj.manageFields=function(av,ar,D,P,at){var au=this;ar=a(ar);av=a(av);D=a(D);if(/^button$/i.test(av.tagName)){av.setAttribute("type","button");}x(av,"click",function(aw){au.popupForField(av,ar,D,P,null,at);return an(aw);});};aj.callHooks=function(P){var at=A(arguments,1),D=this.handlers[P],ar=0;for(;ar<D.length;++ar){D[ar].apply(this,at);}};aj.addEventListener=function(D,P){this.handlers[D].push(P);};aj.removeEventListener=function(P,ar){var D=this.handlers[P],at=D.length;while(--at>=0){if(D[at]===ar){D.splice(at,1);}}};aj.getTime=function(){return this.time;};aj.setTime=function(aw,au){if(this.args.showTime){aw=aw!=null?aw:this.time;this.time=aw;var P=this.getHours(),at=this.getMinutes(),D=P<12;if(this.args.showTime==12){if(P==0){P=12;}if(P>12){P-=12;}this.els.timeAM.innerHTML=b(D?"AM":"PM");}if(P<10){P="0"+P;}if(at<10){at="0"+at;}this.els.timeHour.innerHTML=P;this.els.timeMinute.innerHTML=at;if(!au){this.callHooks("onTimeChange",this,aw);var ar=this.inputField,av=this.selection;if(ar){var ax=av.print(this.dateFormat);(/input|textarea/i.test(ar.tagName))?ar.value=ax:ar.innerHTML=ax;}}}};aj.getHours=function(){return Math.floor(this.time/100);};aj.getMinutes=function(){return this.time%100;};aj.setHours=function(D){if(D<0){D+=24;}this.setTime(100*(D%24)+this.time%100);};aj.setMinutes=function(D){if(D<0){D+=60;}D=Math.floor(D/this.args.minuteStep)*this.args.minuteStep;this.setTime(100*this.getHours()+(D%60));};aj._getInputYear=function(){var D=parseInt(this.els.yearInput.value,10);if(isNaN(D)){D=this.date.getFullYear();}return D;};aj._showTooltip=function(D){var P="",ar,at=this.els.tooltip;if(D){D=aa(D);ar=this.args.dateInfo(D);if(ar&&ar.tooltip){P="<div class='DynarchCalendar-tooltipCont'>"+ak(D,ar.tooltip)+"</div>";}}at.innerHTML=P;};var ao=" align='center' cellspacing='0' cellpadding='0'";function e(at){var P=["<table",ao,"><tr>"],ar=0;if(at.args.weekNumbers){P.push("<td><div class='DynarchCalendar-weekNumber'>",b("wk"),"</div></td>");}while(ar<7){var D=(ar+++at.fdow)%7;P.push("<td><div",b("weekend").indexOf(D)>=0?" class='DynarchCalendar-weekend'>":">",b("sdn")[D],"</div></td>");}P.push("</tr></table>");return P.join("");}function c(aD,ar,av){ar=ar||aD.date;av=av||aD.fdow;ar=new Date(ar.getFullYear(),ar.getMonth(),ar.getDate(),12,0,0,0);var aC=ar.getMonth(),aw=[],aA=0,aI=aD.args.weekNumbers;ar.setDate(1);var at=(ar.getDay()-av)%7;if(at<0){at+=7;}ar.setDate(0-at);ar.setDate(ar.getDate()+1);var aE=new Date(),aF=aE.getDate(),aG=aE.getMonth(),aH=aE.getFullYear();aw[aA++]="<table class='DynarchCalendar-bodyTable'"+ao+">";for(var ax=0;ax<6;++ax){aw[aA++]="<tr class='DynarchCalendar-week";if(ax==0){aw[aA++]=" DynarchCalendar-first-row";}if(ax==5){aw[aA++]=" DynarchCalendar-last-row";}aw[aA++]="'>";if(aI){aw[aA++]="<td class='DynarchCalendar-first-col'><div class='DynarchCalendar-weekNumber'>"+X(ar)+"</div></td>";}for(var az=0;az<7;++az){var P=ar.getDate(),aB=ar.getMonth(),aJ=ar.getFullYear(),D=10000*aJ+100*(aB+1)+P,ay=aD.selection.isSelected(D),au=aD.isDisabled(ar);aw[aA++]="<td class='";if(az==0&&!aI){aw[aA++]=" DynarchCalendar-first-col";}if(az==0&&ax==0){aD._firstDateVisible=D;}if(az==6){aw[aA++]=" DynarchCalendar-last-col";if(ax==5){aD._lastDateVisible=D;}}if(ay){aw[aA++]=" DynarchCalendar-td-selected";}aw[aA++]="'><div dyc-type='date' unselectable='on' dyc-date='"+D+"' ";if(au){aw[aA++]="disabled='1' ";}aw[aA++]="class='DynarchCalendar-day";if(b("weekend").indexOf(ar.getDay())>=0){aw[aA++]=" DynarchCalendar-weekend";}if(aB!=aC){aw[aA++]=" DynarchCalendar-day-othermonth";}if(P==aF&&aB==aG&&aJ==aH){aw[aA++]=" DynarchCalendar-day-today";}if(au){aw[aA++]=" DynarchCalendar-day-disabled";}if(ay){aw[aA++]=" DynarchCalendar-day-selected";}au=aD.args.dateInfo(ar);if(au&&au.klass){aw[aA++]=" "+au.klass;}aw[aA++]="'>"+P+"</div></td>";ar=new Date(aJ,aB,P+1,12,0,0,0);}aw[aA++]="</tr>";}aw[aA++]="</table>";return aw.join("");}function f(P){var D=["<table class='DynarchCalendar-topCont'",ao,"><tr><td>","<div class='DynarchCalendar'>",!ac?"<button class='DynarchCalendar-focusLink'></button>":"<a class='DynarchCalendar-focusLink' href='#'></a>","<div class='DynarchCalendar-topBar'>","<div dyc-type='nav' dyc-btn='-Y' dyc-cls='hover-navBtn,pressed-navBtn' ","class='DynarchCalendar-navBtn DynarchCalendar-prevYear'><div></div></div>","<div dyc-type='nav' dyc-btn='+Y' dyc-cls='hover-navBtn,pressed-navBtn' ","class='DynarchCalendar-navBtn DynarchCalendar-nextYear'><div></div></div>","<div dyc-type='nav' dyc-btn='-M' dyc-cls='hover-navBtn,pressed-navBtn' ","class='DynarchCalendar-navBtn DynarchCalendar-prevMonth'><div></div></div>","<div dyc-type='nav' dyc-btn='+M' dyc-cls='hover-navBtn,pressed-navBtn' ","class='DynarchCalendar-navBtn DynarchCalendar-nextMonth'><div></div></div>","<table class='DynarchCalendar-titleCont'",ao,"><tr><td>","<div dyc-type='title' dyc-btn='menu' dyc-cls='hover-title,pressed-title' class='DynarchCalendar-title'>",i(P),"</div></td></tr></table>","<div class='DynarchCalendar-dayNames'>",e(P),"</div>","</div>","<div class='DynarchCalendar-body'></div>"];if(P.args.bottomBar||P.args.showTime){D.push("<div class='DynarchCalendar-bottomBar'>",d(P),"</div>");}D.push("<div class='DynarchCalendar-menu' style='display: none'>",g(P),"</div>","<div class='DynarchCalendar-tooltip'></div>","</div>","</td></tr></table>");return D.join("");}function i(D){return"<div unselectable='on'>"+ak(D.date,D.args.titleFormat)+"</div>";}function g(av){var D=["<table height='100%'",ao,"><tr><td>","<table style='margin-top: 1.5em'",ao,">","<tr><td colspan='3'><input dyc-btn='year' class='DynarchCalendar-menu-year' size='6' value='",av.date.getFullYear(),"' /></td></tr>","<tr><td><div dyc-type='menubtn' dyc-cls='hover-navBtn,pressed-navBtn' dyc-btn='today'>",b("goToday"),"</div></td></tr>","</table>","<p class='DynarchCalendar-menu-sep'>&nbsp;</p>","<table class='DynarchCalendar-menu-mtable'",ao,">"],au=b("smn"),P=0,at=D.length,ar;while(P<12){D[at++]="<tr>";for(ar=4;--ar>0;){D[at++]="<td><div dyc-type='menubtn' dyc-cls='hover-navBtn,pressed-navBtn' dyc-btn='m"+P+"' class='DynarchCalendar-menu-month'>"+au[P++]+"</div></td>";}D[at++]="</tr>";}D[at++]="</table></td></tr></table>";return D.join("");}function h(P,D){D.push("<table class='DynarchCalendar-time'"+ao+"><tr>","<td rowspan='2'><div dyc-type='time-hour' dyc-cls='hover-time,pressed-time' class='DynarchCalendar-time-hour'></div></td>","<td dyc-type='time-hour+' dyc-cls='hover-time,pressed-time' class='DynarchCalendar-time-up'></td>","<td rowspan='2' class='DynarchCalendar-time-sep'></td>","<td rowspan='2'><div dyc-type='time-min' dyc-cls='hover-time,pressed-time' class='DynarchCalendar-time-minute'></div></td>","<td dyc-type='time-min+' dyc-cls='hover-time,pressed-time' class='DynarchCalendar-time-up'></td>");if(P.args.showTime==12){D.push("<td rowspan='2' class='DynarchCalendar-time-sep'></td>","<td rowspan='2'><div class='DynarchCalendar-time-am' dyc-type='time-am' dyc-cls='hover-time,pressed-time'></div></td>");}D.push("</tr><tr>","<td dyc-type='time-hour-' dyc-cls='hover-time,pressed-time' class='DynarchCalendar-time-down'></td>","<td dyc-type='time-min-' dyc-cls='hover-time,pressed-time' class='DynarchCalendar-time-down'></td>","</tr></table>");}function d(ar){var P=[],D=ar.args;P.push("<table",ao," style='width:100%'><tr>");function at(){if(D.showTime){P.push("<td>");h(ar,P);P.push("</td>");}}if(D.timePos=="left"){at();}if(D.bottomBar){P.push("<td>");P.push("<table",ao,"><tr><td>","<div dyc-btn='today' dyc-cls='hover-bottomBar-today,pressed-bottomBar-today' dyc-type='bottomBar-today' ","class='DynarchCalendar-bottomBar-today'>",b("today"),"</div>","</td></tr></table>");P.push("</td>");}if(D.timePos=="right"){at();}P.push("</tr></table>");return P.join("");}var Z={"DynarchCalendar-topCont":"topCont","DynarchCalendar-focusLink":"focusLink",DynarchCalendar:"main","DynarchCalendar-topBar":"topBar","DynarchCalendar-title":"title","DynarchCalendar-dayNames":"dayNames","DynarchCalendar-body":"body","DynarchCalendar-menu":"menu","DynarchCalendar-menu-year":"yearInput","DynarchCalendar-bottomBar":"bottomBar","DynarchCalendar-tooltip":"tooltip","DynarchCalendar-time-hour":"timeHour","DynarchCalendar-time-minute":"timeMinute","DynarchCalendar-time-am":"timeAM","DynarchCalendar-navBtn DynarchCalendar-prevYear":"navPrevYear","DynarchCalendar-navBtn DynarchCalendar-nextYear":"navNextYear","DynarchCalendar-navBtn DynarchCalendar-prevMonth":"navPrevMonth","DynarchCalendar-navBtn DynarchCalendar-nextMonth":"navNextMonth"};function j(at){var D=B("div"),P=at.els={},ar={mousedown:G(o,at,true),mouseup:G(o,at,false),mouseover:G(p,at,true),mouseout:G(p,at,false),keypress:G(n,at)};if(!at.args.noScroll){ar[ab?"DOMMouseScroll":"mousewheel"]=G(q,at);}if(ac){ar.dblclick=ar.mousedown;ar.keydown=ar.keypress;}D.innerHTML=f(at);aq(D.firstChild,function(au){var av=Z[au.className];if(av){P[av]=au;}if(ac){au.setAttribute("unselectable","on");}});x(P.main,ar);x([P.focusLink,P.yearInput],at._focusEvents={focus:G(u,at),blur:G(t,at)});at.moveTo(at.date,false);at.setTime(null,true);return P.topCont;}function u(){if(this._bluringTimeout){clearTimeout(this._bluringTimeout);}this.focused=true;w(this.els.main,"DynarchCalendar-focused");this.callHooks("onFocus",this);}function s(){this.focused=false;K(this.els.main,"DynarchCalendar-focused");if(this._menuVisible){k(this,false);}if(!this.args.cont){this.hide();}this.callHooks("onBlur",this);}function t(){this._bluringTimeout=setTimeout(G(s,this),50);}function v(D){switch(D){case"time-hour+":this.setHours(this.getHours()+1);break;case"time-hour-":this.setHours(this.getHours()-1);break;case"time-min+":this.setMinutes(this.getMinutes()+this.args.minuteStep);break;case"time-min-":this.setMinutes(this.getMinutes()-this.args.minuteStep);break;default:return;}}var z={"-3":"backYear","-2":"back","0":"now","2":"fwd","3":"fwdYear"};function m(at,P,ar){if(this._bodyAnim){this._bodyAnim.stop();}var D;if(P!=0){D=new Date(at.date);D.setDate(1);switch(P){case"-Y":case -2:D.setFullYear(D.getFullYear()-1);break;case"+Y":case 2:D.setFullYear(D.getFullYear()+1);break;case"-M":case -1:D.setMonth(D.getMonth()-1);break;case"+M":case 1:D.setMonth(D.getMonth()+1);break;}}else{D=new Date();}return at.moveTo(D,!ar);}function k(ar,at){ar._menuVisible=at;E(at,ar.els.title,"DynarchCalendar-pressed-title");var P=ar.els.menu;if(ad){P.style.height=ar.els.main.offsetHeight+"px";}if(!ar.args.animation){L(P,at);if(ar.focused){ar.focus();}}else{if(ar._menuAnim){ar._menuAnim.stop();}var D=ar.els.main.offsetHeight;if(ad){P.style.width=ar.els.topBar.offsetWidth+"px";}if(at){P.firstChild.style.marginTop=-D+"px";ar.args.opacity>0&&ai(P,0);L(P,true);}ar._menuAnim=y({onUpdate:function(av,au){P.firstChild.style.marginTop=au(N.accel_b(av),-D,0,!at)+"px";ar.args.opacity>0&&ai(P,au(N.accel_b(av),0,parseFloat("0.85"),!at));},onStop:function(){ar.args.opacity>0&&ai(P,parseFloat("0.85"));P.firstChild.style.marginTop="";ar._menuAnim=null;if(!at){L(P,false);if(ar.focused){ar.focus();}}}});}}function o(at,av){av=av||window.event;var au=U(av);if(au&&!au.getAttribute("disabled")){var ax=au.getAttribute("dyc-btn"),aA=au.getAttribute("dyc-type"),ar=au.getAttribute("dyc-date"),ay=this.selection,az,D={mouseover:an,mousemove:an,mouseup:function(aC){var aB=au.getAttribute("dyc-cls");if(aB){K(au,M(aB,1));}clearTimeout(az);am(document,D,true);D=null;}};if(at){setTimeout(G(this.focus,this),1);var P=au.getAttribute("dyc-cls");if(P){w(au,M(P,1));}if("menu"==ax){this.toggleMenu();}else{if(au&&/^[+-][MY]$/.test(ax)){if(m(this,ax)){var aw=G(function(){if(m(this,ax,true)){az=setTimeout(aw,40);}else{D.mouseup();m(this,ax);}},this);az=setTimeout(aw,350);x(document,D,true);}else{D.mouseup();}}else{if("year"==ax){this.els.yearInput.focus();this.els.yearInput.select();}else{if(aA=="time-am"){x(document,D,true);}else{if(/^time/.test(aA)){var aw=G(function(aB){v.call(this,aB);az=setTimeout(aw,100);},this,aA);v.call(this,aA);az=setTimeout(aw,350);x(document,D,true);}else{if(ar&&ay.type){if(ay.type==H.SEL_MULTIPLE){if(av.shiftKey&&this._selRangeStart){ay.selectRange(this._selRangeStart,ar);}else{if(!av.ctrlKey&&!ay.isSelected(ar)&&this.args.multiCtrl){ay.clear(true);}ay.set(ar,true);this._selRangeStart=ar;}}else{ay.set(ar);this.moveTo(aa(ar),2);}au=this._getDateDiv(ar);p.call(this,true,{target:au});}x(document,D,true);}}}}}if(ac&&D&&/dbl/i.test(av.type)){D.mouseup();}if(!this.args.fixed&&/^(DynarchCalendar-(topBar|bottomBar|weekend|weekNumber|menu(-sep)?))?$/.test(au.className)&&!this.args.cont){D.mousemove=G(l,this);this._mouseDiff=O(av,V(this.els.topCont));x(document,D,true);}}else{if("today"==ax){if(!this._menuVisible&&ay.type==H.SEL_SINGLE){ay.set(new Date());}this.moveTo(new Date(),true);k(this,false);}else{if(/^m([0-9]+)/.test(ax)){var ar=new Date(this.date);ar.setDate(1);ar.setMonth(RegExp.$1);ar.setFullYear(this._getInputYear());this.moveTo(ar,true);k(this,false);}else{if(aA=="time-am"){this.setHours(this.getHours()+12);}}}}if(!ac){an(av);}}}function l(D){D=D||window.event;var ar=this.els.topCont.style,P=O(D,this._mouseDiff);ar.left=P.x+"px";ar.top=P.y+"px";}function U(P){var D=P.target||P.srcElement,ar=D;while(D&&D.getAttribute&&!D.getAttribute("dyc-type")){D=D.parentNode;}return D.getAttribute&&D||ar;}function M(D,P){return"DynarchCalendar-"+D.split(/,/)[P];}function p(ar,at){at=at||window.event;var P=U(at);if(P){var au=P.getAttribute("dyc-type");if(au&&!P.getAttribute("disabled")){if(!ar||!this._bodyAnim||au!="date"){var D=P.getAttribute("dyc-cls");D=D?M(D,0):"DynarchCalendar-hover-"+au;if(au!="date"||this.selection.type){E(ar,P,D);}if(au=="date"){E(ar,P.parentNode.parentNode,"DynarchCalendar-hover-week");this._showTooltip(P.getAttribute("dyc-date"));}if(/^time-hour/.test(au)){E(ar,this.els.timeHour,"DynarchCalendar-hover-time");}if(/^time-min/.test(au)){E(ar,this.els.timeMinute,"DynarchCalendar-hover-time");}K(this._getDateDiv(this._lastHoverDate),"DynarchCalendar-hover-date");this._lastHoverDate=null;}}}if(!ar){this._showTooltip();}}function q(ar){ar=ar||window.event;var P=U(ar);if(P){var at=P.getAttribute("dyc-btn"),au=P.getAttribute("dyc-type"),D=ar.wheelDelta?ar.wheelDelta/120:-ar.detail/3;D=D<0?-1:D>0?1:0;if(this.args.reverseWheel){D=-D;}if(/^(time-(hour|min))/.test(au)){switch(RegExp.$1){case"time-hour":this.setHours(this.getHours()+D);break;case"time-min":this.setMinutes(this.getMinutes()+this.args.minuteStep*D);break;}an(ar);}else{if(/Y/i.test(at)){D*=2;}m(this,-D);an(ar);}}}function r(){this.refresh();var D=this.inputField,P=this.selection;if(D){var ar=P.print(this.dateFormat);(/input|textarea/i.test(D.tagName))?D.value=ar:D.innerHTML=ar;this.ValueChanged.fireHandlers({value:ar});}this.callHooks("onSelect",this,P);}var F={37:-1,38:-2,39:1,40:2},ag={33:-1,34:1};function n(at){if(this._menuAnim){return;}at=at||window.event;var ar=at.target||at.srcElement,aC=ar.getAttribute("dyc-btn"),aw=at.keyCode,D=at.charCode||aw,az=F[aw];if("year"==aC&&aw==13){var P=new Date(this.date);P.setDate(1);P.setFullYear(this._getInputYear());this.moveTo(P,true);k(this,false);return an(at);}if(this._menuVisible){if(aw==27){k(this,false);return an(at);}}else{if(!at.ctrlKey){az=null;}if(az==null&&!at.ctrlKey){az=ag[aw];}if(aw==36){az=0;}if(az!=null){m(this,az);return an(at);}D=String.fromCharCode(D).toLowerCase();var aD=this.els.yearInput,aB=this.selection;if(D==" "){k(this,true);this.focus();aD.focus();aD.select();return an(at);}if(D>="0"&&D<="9"){k(this,true);this.focus();aD.value=D;aD.focus();return an(at);}var ay=b("mn"),au=at.shiftKey?-1:this.date.getMonth(),av=0,ax;while(++av<12){ax=ay[(au+av)%12].toLowerCase();if(ax.indexOf(D)==0){var P=new Date(this.date);P.setDate(1);P.setMonth((au+av)%12);this.moveTo(P,true);return an(at);}}if(aw>=37&&aw<=40){var P=this._lastHoverDate;if(!P&&!aB.isEmpty()){P=aw<39?aB.getFirstDate():aB.getLastDate();if(P<this._firstDateVisible||P>this._lastDateVisible){P=null;}}if(!P){P=aw<39?this._lastDateVisible:this._firstDateVisible;}else{var aA=P;P=aa(P);var au=100;while(au-->0){switch(aw){case 37:P.setDate(P.getDate()-1);break;case 38:P.setDate(P.getDate()-7);break;case 39:P.setDate(P.getDate()+1);break;case 40:P.setDate(P.getDate()+7);break;}if(!this.isDisabled(P)){break;}}P=I(P);if(P<this._firstDateVisible||P>this._lastDateVisible){this.moveTo(P);}}K(this._getDateDiv(aA),w(this._getDateDiv(P),"DynarchCalendar-hover-date"));this._lastHoverDate=P;return an(at);}if(aw==13){if(this._lastHoverDate){if(aB.type==H.SEL_MULTIPLE&&(at.shiftKey||at.ctrlKey)){if(at.shiftKey&&this._selRangeStart){aB.clear(true);aB.selectRange(this._selRangeStart,this._lastHoverDate);}if(at.ctrlKey){aB.set(this._selRangeStart=this._lastHoverDate,true);}}else{aB.reset(this._selRangeStart=this._lastHoverDate);}return an(at);}}if(aw==27&&!this.args.cont){this.hide();}}}aj._getDateDiv=function(D){var P=null;if(D){try{aq(this.els.body,function(at){if(at.getAttribute("dyc-date")==D){throw P=at;}});}catch(ar){}}return P;};function S(P,D){return P.replace(/\$\{([^:\}]+)(:[^\}]+)?\}/g,function(aw,au,av){var ar=D[au],at;if(av){at=av.substr(1).split(/\s*\|\s*/);ar=(ar>=at.length?at[at.length-1]:at[ar]).replace(/##?/g,function(ax){return ax.length==2?"#":ar;});}return ar;});}function b(D,P){var ar=Y.__.data[D];if(P&&typeof ar=="string"){ar=S(ar,P);}return ar;}(H.Selection=function(ar,at,P,D){this.type=at;this.sel=ar instanceof Array?ar:[ar];this.onChange=G(P,D);this.cal=D;}).prototype={get:function(){return this.type==H.SEL_SINGLE?this.sel[0]:this.sel;},isEmpty:function(){return this.sel.length==0;},set:function(D,at,P){var ar=this.type==H.SEL_SINGLE;if(D instanceof Array){this.sel=D;this.normalize();if(!P){this.onChange(this);}}else{D=I(D);if(ar||!this.isSelected(D)){ar?this.sel=[D]:this.sel.splice(this.findInsertPos(D),0,D);this.normalize();if(!P){this.onChange(this);}}else{if(at){this.unselect(D,P);}}}},reset:function(){this.sel=[];this.set.apply(this,arguments);},countDays:function(){var P=0,D=this.sel,au=D.length,av,ar,at;while(--au>=0){av=D[au];if(av instanceof Array){ar=aa(av[0]);at=aa(av[1]);P+=Math.round(Math.abs(at.getTime()-ar.getTime())/86400000);}++P;}return P;},unselect:function(at,aw){at=I(at);var P=false;for(var D=this.sel,au=D.length,ax;--au>=0;){ax=D[au];if(ax instanceof Array){if(at>=ax[0]&&at<=ax[1]){var ay=aa(at),ar=ay.getDate();if(at==ax[0]){ay.setDate(ar+1);ax[0]=I(ay);P=true;}else{if(at==ax[1]){ay.setDate(ar-1);ax[1]=I(ay);P=true;}else{var av=new Date(ay);av.setDate(ar+1);ay.setDate(ar-1);D.splice(au+1,0,[I(av),ax[1]]);ax[1]=I(ay);P=true;}}}}else{if(at==ax){D.splice(au,1);P=true;}}}if(P){this.normalize();if(!aw){this.onChange(this);}}},normalize:function(){this.sel=this.sel.sort(function(ax,ay){if(ax instanceof Array){ax=ax[0];}if(ay instanceof Array){ay=ay[0];}return ax-ay;});for(var D=this.sel,at=D.length,av,au;--at>=0;){av=D[at];if(av instanceof Array){if(av[0]>av[1]){D.splice(at,1);continue;}if(av[0]==av[1]){av=D[at]=av[0];}}if(au){var ar=au,P=av instanceof Array?av[1]:av;P=aa(P);P.setDate(P.getDate()+1);P=I(P);if(P>=ar){var aw=D[at+1];if(av instanceof Array&&aw instanceof Array){av[1]=aw[1];D.splice(at+1,1);}else{if(av instanceof Array){av[1]=au;D.splice(at+1,1);}else{if(aw instanceof Array){aw[0]=av;D.splice(at,1);}else{D[at]=[av,aw];D.splice(at+1,1);}}}}}au=av instanceof Array?av[0]:av;}},findInsertPos:function(P){for(var D=this.sel,ar=D.length,at;--ar>=0;){at=D[ar];if(at instanceof Array){at=at[0];}if(at<=P){break;}}return ar+1;},clear:function(D){this.sel=[];if(!D){this.onChange(this);}},selectRange:function(P,ar){P=I(P);ar=I(ar);if(P>ar){var au=P;P=ar;ar=au;}var D=this.cal.args.checkRange;if(!D){return this._do_selectRange(P,ar);}try{R(new H.Selection([[P,ar]],H.SEL_MULTIPLE,ah).getDates(),G(function(av){if(this.isDisabled(av)){if(D instanceof Function){D(av,this);}throw"OUT";}},this.cal));this._do_selectRange(P,ar);}catch(at){}},_do_selectRange:function(D,P){this.sel.push([D,P]);this.normalize();this.onChange(this);},isSelected:function(D){for(var P=this.sel.length,ar;--P>=0;){ar=this.sel[P];if(ar instanceof Array&&D>=ar[0]&&D<=ar[1]||D==ar){return true;}}return false;},getFirstDate:function(){var D=this.sel[0];if(D&&D instanceof Array){D=D[0];}return D;},getLastDate:function(){if(this.sel.length>0){var D=this.sel[this.sel.length-1];if(D&&D instanceof Array){D=D[1];}return D;}},print:function(P,aw){var D=[],at=0,av,ar=this.cal.getHours(),au=this.cal.getMinutes();if(!aw){aw=" -> ";}while(at<this.sel.length){av=this.sel[at++];if(av instanceof Array){D.push(ak(aa(av[0],ar,au),P)+aw+ak(aa(av[1],ar,au),P));}else{D.push(ak(aa(av,ar,au),P));}}return D;},getDates:function(ar){var D=[],at=0,P,au;while(at<this.sel.length){au=this.sel[at++];if(au instanceof Array){P=aa(au[0]);au=au[1];while(I(P)<au){D.push(ar?ak(P,ar):new Date(P));P.setDate(P.getDate()+1);}}else{P=aa(au);}D.push(ar?ak(P,ar):P);}return D;}};function X(D){D=new Date(D.getFullYear(),D.getMonth(),D.getDate(),12,0,0);var P=D.getDay();D.setDate(D.getDate()-(P+6)%7+3);var ar=D.valueOf();D.setMonth(0);D.setDate(4);return Math.round((ar-D.valueOf())/(7*86400000))+1;}function T(D){D=new Date(D.getFullYear(),D.getMonth(),D.getDate(),12,0,0);var P=new Date(D.getFullYear(),0,1,12,0,0);var ar=D-P;return Math.floor(ar/86400000);}function I(D){if(D instanceof Date){return 10000*D.getFullYear()+100*(D.getMonth()+1)+D.getDate();}if(typeof D=="string"){return parseInt(D,10);}return D;}function aa(D,P,at,av,au){if(!(D instanceof Date)){D=parseInt(D,10);var aw=Math.floor(D/10000);D=D%10000;var ar=Math.floor(D/100);D=D%100;D=new Date(aw,ar-1,D,P==null?12:P,at==null?0:at,av==null?0:av,au==null?0:au);}return D;}function C(D,P,aw){var ax=D.getFullYear(),au=D.getMonth(),ar=D.getDate(),ay=P.getFullYear(),av=P.getMonth(),at=P.getDate();return ax<ay?-3:ax>ay?3:au<av?-2:au>av?2:aw?0:ar<at?-1:ar>at?1:0;}function ak(P,aB){var av=P.getMonth(),D=P.getDate(),aE=P.getFullYear(),aD=X(P),aC=P.getDay(),at=P.getHours(),ax=(at>=12),au=(ax)?(at-12):at,ar=T(P),aw=P.getMinutes(),aA=P.getSeconds(),ay=/%./g,az;if(au===0){au=12;}az={"%a":b("sdn")[aC],"%A":b("dn")[aC],"%b":b("smn")[av],"%B":b("mn")[av],"%C":1+Math.floor(aE/100),"%d":D<10?"0"+D:D,"%e":D,"%H":at<10?"0"+at:at,"%I":au<10?"0"+au:au,"%j":ar<10?"00"+ar:ar<100?"0"+ar:ar,"%k":at,"%l":au,"%m":av<9?"0"+(1+av):1+av,"%o":1+av,"%M":aw<10?"0"+aw:aw,"%n":"\n","%p":ax?"PM":"AM","%P":ax?"pm":"am","%s":Math.floor(P.getTime()/1000),"%S":aA<10?"0"+aA:aA,"%t":"\t","%U":aD<10?"0"+aD:aD,"%W":aD<10?"0"+aD:aD,"%V":aD<10?"0"+aD:aD,"%u":aC+1,"%w":aC,"%y":(""+aE).substr(2,2),"%Y":aE,"%%":"%"};return aB.replace(ay,function(aF){return az.hasOwnProperty(aF)?az[aF]:aF;});}function al(P){if(P){if(typeof P=="number"){return aa(P);}if(!(P instanceof Date)){var D=P.split(/-/);return new Date(parseInt(D[0],10),parseInt(D[1],10)-1,parseInt(D[2],10),12,0,0,0);}}return P;}function Q(P){if(/\S/.test(P)){P=(""+P).toLowerCase();function D(ar){for(var at=ar.length;--at>=0;){if(ar[at].toLowerCase().indexOf(P)==0){return at+1;}}}return D(b("smn"))||D(b("mn"));}}H.isUnicodeLetter=function(D){return D.toUpperCase()!=D.toLowerCase();};H.parseDate=function(at,az,aB){if(!/\S/.test(at)){return"";}at=at.replace(/^\s+/,"").replace(/\s+$/,"");aB=aB||new Date();var aD=null,ax=null,ar=null,au=null,aw=null,aA=null;var P=at.match(/([0-9]{1,2}):([0-9]{1,2})(:[0-9]{1,2})?\s*(am|pm)?/i);if(P){au=parseInt(P[1],10);aw=parseInt(P[2],10);aA=P[3]?parseInt(P[3].substr(1),10):0;at=at.substring(0,P.index)+at.substr(P.index+P[0].length);if(P[4]){if(P[4].toLowerCase()=="pm"&&au<12){au+=12;}else{if(P[4].toLowerCase()=="am"&&au>=12){au-=12;}}}}var D=(function(){var aG=0,aM=[],aF;function aI(){return at.charAt(aG++);}function aJ(){return at.charAt(aG);}var aH=H.isUnicodeLetter;function aL(aN){while(aJ()&&aH(aJ())){aN+=aI();}return aN;}function aK(){var aN="";while(aJ()&&/[0-9]/.test(aJ())){aN+=aI();}if(aH(aJ())){return aL(aN);}return parseInt(aN,10);}function aE(aN){aM.push(aN);}while(aG<at.length){aF=aJ();if(aH(aF)){aE(aL(""));}else{if(/[0-9]/.test(aF)){aE(aK());}else{aI();}}}return aM;})();var ay=[];for(var av=0;av<D.length;++av){var aC=D[av];if(/^[0-9]{4}$/.test(aC)){aD=parseInt(aC,10);if(ax==null&&ar==null&&az==null){az=true;}}else{if(/^[0-9]{1,2}$/.test(aC)){aC=parseInt(aC,10);if(aC>=60){aD=aC;}else{if(aC>=0&&aC<=12){ay.push(aC);}else{if(aC>=1&&aC<=31){ar=aC;}}}}else{if(ax==null){ax=Q(aC);}}}}if(ay.length>=2){if(az){if(ax==null){ax=ay.shift();}if(ar==null){ar=ay.shift();}}else{if(ar==null){ar=ay.shift();}if(ax==null){ax=ay.shift();}}}else{if(ay.length==1){if(ar==null){ar=ay.shift();}else{if(ax==null){ax=ay.shift();}}}}if(aD==null){aD=ay.length>0?ay.shift():aB.getFullYear();}if(aD<30){aD+=2000;}else{if(aD<99){aD+=1900;}}if(ax==null){ax=aB.getMonth()+1;}return aD!=null&&ax!=null&&ar!=null?new Date(aD,ax-1,ar,au,aw,aA):null;};function J(D,P,ar,at){at={};for(ar in P){if(P.hasOwnProperty(ar)){at[ar]=P[ar];}}for(ar in D){if(D.hasOwnProperty(ar)){at[ar]=D[ar];}}return at;}function x(P,ar,at,D){if(P instanceof Array){for(var au=P.length;--au>=0;){x(P[au],ar,at,D);}}else{if(typeof ar=="object"){for(var au in ar){if(ar.hasOwnProperty(au)){x(P,au,ar[au],at);}}}else{if(P.addEventListener){P.addEventListener(ar,at,ac?true:!!D);}else{if(P.attachEvent){P.attachEvent("on"+ar,at);}else{P["on"+ar]=at;}}}}}function am(P,ar,at,D){if(P instanceof Array){for(var au=P.length;--au>=0;){am(P[au],ar,at);}}else{if(typeof ar=="object"){for(var au in ar){if(ar.hasOwnProperty(au)){am(P,au,ar[au],at);}}}else{if(P.removeEventListener){P.removeEventListener(ar,at,ac?true:!!D);}else{if(P.detachEvent){P.detachEvent("on"+ar,at);}else{P["on"+ar]=null;}}}}}function an(D){D=D||window.event;if(ac){D.cancelBubble=true;D.returnValue=false;}else{D.preventDefault();D.stopPropagation();}return false;}function K(au,ar,D){if(au){var at=au.className.replace(/^\s+|\s+$/,"").split(/\x20/),P=[],av;for(av=at.length;av>0;){if(at[--av]!=ar){P.push(at[av]);}}if(D){P.push(D);}au.className=P.join(" ");}return D;}function w(P,D){return K(P,D,D);}function E(P,ar,D){if(ar instanceof Array){for(var at=ar.length;--at>=0;){E(P,ar[at],D);}}else{K(ar,D,P?D:null);}return P;}function B(at,D,ar){var P=null;if(document.createElementNS){P=document.createElementNS("http://www.w3.org/1999/xhtml",at);}else{P=document.createElement(at);}if(D){P.className=D;}if(ar){ar.appendChild(P);}return P;}function A(au,av){if(av==null){av=0;}var D,ar,at;try{D=Array.prototype.slice.call(au,av);}catch(P){D=new Array(au.length-av);for(ar=av,at=0;ar<au.length;++ar,++at){D[at]=au[ar];}}return D;}function G(P,ar){var D=A(arguments,2);return(ar==undefined?function(){return P.apply(this,D.concat(A(arguments)));}:function(){return P.apply(ar,D.concat(A(arguments)));});}function aq(D,P){if(!P(D)){for(var ar=D.firstChild;ar;ar=ar.nextSibling){if(ar.nodeType==1){aq(ar,P);}}}}function y(D,av,P){D=J(D,{fps:50,len:15,onUpdate:ah,onStop:ah});if(ac){D.len=Math.round(D.len/2);}function ar(aA,ax,ay,az){return az?ay+aA*(ax-ay):ax+aA*(ay-ax);}function at(){if(av){au();}P=0;av=setInterval(aw,1000/D.fps);}function au(){if(av){clearInterval(av);av=null;}D.onStop(P/D.len,ar);}function aw(){var ax=D.len;D.onUpdate(P/ax,ar);if(P==ax){au();}++P;}at();return{start:at,stop:au,update:aw,args:D,map:ar};}var N={elastic_b:function(D){return 1-Math.cos(-D*parseFloat("5.5")*Math.PI)/Math.pow(2,7*D);},magnetic:function(D){return 1-Math.cos(D*D*D*parseFloat("10.5")*Math.PI)/Math.exp(4*D);},accel_b:function(D){D=1-D;return 1-D*D*D*D;},accel_a:function(D){return D*D*D;},accel_ab:function(D){D=1-D;return 1-Math.sin(D*D*Math.PI/2);},accel_ab2:function(D){return(D/=parseFloat("0.5"))<1?1/2*D*D:-1/2*((--D)*(D-2)-1);},brakes:function(D){D=1-D;return 1-Math.sin(D*D*Math.PI);},shake:function(D){return D<parseFloat("0.5")?-Math.cos(D*11*Math.PI)*D*D:(D=1-D,Math.cos(D*11*Math.PI)*D*D);}};function ai(D,P){if(P===""){ac?D.style.filter="":D.style.opacity="";}else{if(P!=null){ac?D.style.filter="alpha(opacity="+P*100+")":D.style.opacity=P;}else{if(!ac){P=parseFloat(D.style.opacity);}else{if(/alpha\(opacity=([0-9.])+\)/.test(D.style.opacity)){P=parseFloat(RegExp.$1)/100;}}}}return P;}function L(D,ar){var P=D.style;if(ar!=null){P.display=ar?"":"none";}return P.display!="none";}function O(P,D){var ar=ac?P.clientX+document.body.scrollLeft:P.pageX;var at=ac?P.clientY+document.body.scrollTop:P.pageY;if(D){ar-=D.x;at-=D.y;}return{x:ar,y:at};}function V(P){if(P.getBoundingClientRect){var D=P.getBoundingClientRect();return{x:D.left-document.documentElement.clientLeft,y:D.top-document.documentElement.clientTop};}else{var ar=0,at=0;do{ar+=P.offsetLeft-P.scrollLeft;at+=P.offsetTop-P.scrollTop;}while(P=P.offsetParent);return{x:ar,x:at};}}function W(){var P=document.documentElement,D=document.body;return{x:P.scrollLeft||D.scrollLeft,y:P.scrollTop||D.scrollTop,w:P.clientWidth||window.innerWidth||D.clientWidth,h:P.clientHeight||window.innerHeight||D.clientHeight};}function R(D,P,ar){for(ar=0;ar<D.length;++ar){P(D[ar]);}}var ah=new Function();function a(D){if(typeof D=="string"){D=document.getElementById(D);}return D;}return H;})();Calendar.isUnicodeLetter=(function(){var a=new RegExp("[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0523\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0621-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971\\u0972\\u097B-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D28\\u0D2A-\\u0D39\\u0D3D\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC\\u0EDD\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8B\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10D0-\\u10FA\\u10FC\\u1100-\\u1159\\u115F-\\u11A2\\u11A8-\\u11F9\\u1200-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u1676\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19A9\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u2094\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2C6F\\u2C71-\\u2C7D\\u2C80-\\u2CE4\\u2D00-\\u2D25\\u2D30-\\u2D65\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31B7\\u31F0-\\u31FF\\u3400\\u4DB5\\u4E00\\u9FC3\\uA000-\\uA48C\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA65F\\uA662-\\uA66E\\uA67F-\\uA697\\uA717-\\uA71F\\uA722-\\uA788\\uA78B\\uA78C\\uA7FB-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA90A-\\uA925\\uA930-\\uA946\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAC00\\uD7A3\\uF900-\\uFA2D\\uFA30-\\uFA6A\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]","i");return function(b){return a.test(b);};})();Calendar.LANG("en","English",{fdow:1,goToday:"Go Today",today:"Today",wk:"wk",weekend:"0,6",AM:"am",PM:"pm",mn:["January","February","March","April","May","June","July","August","September","October","November","December"],smn:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dn:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],sdn:["Su","Mo","Tu","We","Th","Fr","Sa","Su"]});(function(d,c,b){if(!c.UI.DateTimePicker){c.UI.DateTimePicker=a;}function a(l,k,v){k=k||{};var t=this,B="WA.UI.DateTimePicker",D=l,s=k.parentComponent;D.attr=D.attr||{eventTags:D.id};t.toString=function(){return B;};t.RenderComplete=c.Tools.EventHandlers.createHandlers(t,{id:"RenderComplete"});t.Dispose=c.Tools.EventHandlers.createHandlers(t,{id:"Dispose"});t.ValueChanged=c.Tools.EventHandlers.createHandlers(t,{id:"ValueChanged"});t.EditStarted=c.Tools.EventHandlers.createHandlers(t,{id:"EditStarted"});t.VisualStateChanged=c.Tools.EventHandlers.createHandlers(t,{id:"VisualStateChanged"});var m=false,z=k.hasOwnProperty("showValidationMessage")?k.showValidationMessage:true,C,g,A,f,e=D.id+c.UI.ControlLayoutTemplate.IdControlLayoutPostfix;t.dispose=h;t.render=u;t.getValue=i;t.setValue=y;t.setErrorState=x;t.getType=function(){return D.layoutControlType;};t.setDateCalendarSelection=w;function w(E){g.setCalendarSelection(E);}function y(E){E=E||{};g.setValue(E.date,c.UI.CalendarTextBox.DateFormat.Ticks);A.setValue(E.time);C.setValue(E);}function i(){return C.getValue();}function u(){return c.UI.DateTimePickerTemplate(D);}function o(F,E){f=c.$(e);if(!f){throw new Error("Unable to get controlElement.");}t.RenderComplete.fireHandlers();}function x(E){g.setErrorState(E);A.setErrorState(E);if(E===true){c.Dom.addClassName(f,"error");return;}c.Dom.removeClassName(f,"error");}function n(){x(false);t.EditStarted.fireHandlers();}function r(){t.VisualStateChanged.fireHandlers();}function p(){var E=C.getErrors();if(E.length>0&&z){c.UI.Helpers.ControlHelper.showValidationMessages(D.id,E);g.setErrorState(true);A.setErrorState(true);}}function q(){C.setValue(g.getValue().value,"date");C.setValue(A.getValue(),"time");t.ValueChanged.fireHandlers({newValue:C.getValue()});}function j(){C=c.UI.Helpers.ValueAccessorHelper.createValueAccessor(l,t);if(s.ValidationFailed){s.ValidationFailed.addHandler(p);}g=new c.UI.CalendarTextBox({id:D.id+c.UI.DateTimePickerTemplate.DatePostfix,attr:{eventTags:"date"},value:{unixTicks:C.getValue("date")},minDateRestriction:D.minDateRestriction,maxDateRestriction:D.maxDateRestriction,mask:D.dateMask,calendarSelection:D.dateCalendarSelection||null},{parentComponent:t},v);g.ValueChanged.addHandler(q);g.EditStarted.addHandler(n);g.VisualStateChanged.addHandler(r);A=new c.UI.TimePicker({id:D.id+c.UI.DateTimePickerTemplate.TimePostfix,attr:{eventTags:"time"},value:C.getValue("time"),format:D.timeFormat},{parentComponent:t});A.ValueChanged.addHandler(q);A.EditStarted.addHandler(n);A.VisualStateChanged.addHandler(r);s.RenderComplete.addHandler(o);s.Dispose.addHandler(h);}function h(){if(m){return;}t.Dispose.fireHandlers();s.RenderComplete.removeHandler(o);s.Dispose.removeHandler(h);if(s.ValidationFailed){s.ValidationFailed.removeHandler(p);}D=null;s=null;C=null;g=null;A=null;f=null;t.RenderComplete=null;t.Dispose=null;t.ValueChanged=null;t.EditStarted=null;t.VisualStateChanged=null;m=true;}j();}})(window,WA);(function(e,d,c){if(!d.UI.DateTimePickerTemplate){d.UI.DateTimePickerTemplate=b;d.UI.DateTimePickerTemplate.DatePostfix="_date";d.UI.DateTimePickerTemplate.TimePostfix="_time";d.UI.DateTimePickerTemplate.DefaultTitleWidth=75;d.UI.DateTimePickerTemplate.DefaultDateTimeSeparatorWidth=7;d.UI.DateTimePickerTemplate.TimePosition={Left:"left",Right:"right"};}function b(h){var g=d.UI.ControlLayoutTemplate,f=h.controlContainerDisplayType?h.controlContainerDisplayType:d.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;if(h.fitDatePickerToDate){f=d.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed;}h.controlContainerDisplayType=f;h.cssClass="waDateTimePicker"+(h.cssClass?" "+h.cssClass:"");h.layoutContentHTML=a(h);h.titleWidth=(d.getTypeString(h.titleWidth)=="number")?h.titleWidth:d.UI.DateTimePickerTemplate.DefaultTitleWidth;h.titlePosition=h.titlePosition||d.UI.ControlLayoutTemplate.TitlePosition.Left;return g(h);}function a(j){var k=j.dateTimeSeparatorWidth||d.UI.DateTimePickerTemplate.DefaultDateTimeSeparatorWidth,n=(j.timeFormat==d.UI.TimePicker.TimeFormat.H12)?d.UI.TimePickerTemplate.Width.H12:d.UI.TimePickerTemplate.Width.H24,g=j.pickerWidth?j.pickerWidth-k-n:null,i=d.UI.ContainerTemplate,f=d.UI.CalendarTextBoxTemplate({id:j.id+b.DatePostfix,controlContainerDisplayType:j.controlContainerDisplayType,width:g,cssClass:"waDateTimePickerDate",fitToDate:j.fitDatePickerToDate,mask:j.dateMask}),l=d.UI.TimePickerTemplate({id:j.id+d.UI.DateTimePickerTemplate.TimePostfix,format:j.timeFormat,cssClass:"waDateTimePickerDateTime"}),h=i({cssClass:"waDateTimePickerDateTimeDivider",attr:{style:{width:k+"px"}}});return i({cssClass:"waDateTimePickerContainer",contentHTML:(j.timePickerPosition==d.UI.DateTimePickerTemplate.TimePosition.Left)?l+h+f:f+h+l});}})(window,WA);(function(d,c,b){if(!c.UI.DateTimeRangePicker){c.UI.DateTimeRangePicker=a;}function a(l,k,v){k=k||{};var t=this,C="WA.UI.DateTimeRangePicker",E=l,s=k.parentComponent;E.attr=E.attr||{eventTags:E.id};t.toString=function(){return C;};t.RenderComplete=c.Tools.EventHandlers.createHandlers(t,{id:"RenderComplete"});t.Dispose=c.Tools.EventHandlers.createHandlers(t,{id:"Dispose"});t.ValueChanged=c.Tools.EventHandlers.createHandlers(t,{id:"ValueChanged"});t.VisualStateChanged=c.Tools.EventHandlers.createHandlers(t,{id:"VisualStateChanged"});var m=false,D,B,h,f,e=E.id+c.UI.ControlLayoutTemplate.IdControlLayoutPostfix,A=k.hasOwnProperty("showValidationMessage")?k.showValidationMessage:true;t.dispose=g;t.render=u;t.getType=function(){return E.layoutControlType;};t.getId=function(){return E.id;};t.renderComplete=p;t.getValue=i;t.setValue=z;t.setErrorState=x;t.setStartDateCalendarSelection=y;t.setEndDateCalendarSelection=w;function y(F){B.setDateCalendarSelection(F);}function w(F){h.setDateCalendarSelection(F);}function i(){return D.getValue();}function z(F){D.setValue(F);B.setValue({date:F.fromDate,time:F.fromTime});h.setValue({date:F.untilDate,time:F.untilTime});}function u(){return c.UI.DateTimeRangePickerTemplate(E);}function p(G,F){f=c.$(e);if(!f){throw new Error("Can not get controlElement");}t.RenderComplete.fireHandlers();}function r(G,F){t.VisualStateChanged.fireHandlers();}function n(H,F){var I=B.getValue(),G=h.getValue();if(I.date&&G.date==null&&I.time&&G.time!=null&&G.time<I.time){h.setValue({date:I.date+c.Date.getMillisecondsFromDays(1),time:G.time});G=h.getValue();}if(!G.date&&I.date){w(I.date);}if(G.date&&!I.date){y(G.date);}D.setValue({fromDate:I.date,fromTime:I.time,untilDate:G.date,untilTime:G.time});x(false);t.ValueChanged.fireHandlers({newValue:D.getValue()});}function q(){var F=D.getErrors();if(F.length>0&&A){c.UI.Helpers.ControlHelper.showValidationMessages(E.id,F);B.setErrorState(true);h.setErrorState(true);}}function x(F){B.setErrorState(F);h.setErrorState(F);if(F===true){c.Dom.addClassName(f,"error");}else{c.Dom.removeClassName(f,"error");}}function o(G,F){x(false);}function j(){D=c.UI.Helpers.ValueAccessorHelper.createValueAccessor(l,t);if(s.ValidationFailed){s.ValidationFailed.addHandler(q);}B=new c.UI.DateTimePicker({id:E.id+c.UI.DateTimeRangePickerTemplate.StartPostfix,attr:{eventTags:"start"},value:{date:D.getValue("fromDate"),time:D.getValue("fromTime")},title:E.startTitle,titleWidth:E.startTitleWidth,pickerWidth:E.pickerWidth,controlContainerDisplayType:E.controlContainerDisplayType,dateMask:E.dateMask,timeHint:E.timeHint,timeFormat:E.timeFormat,timePickerPosition:E.startTimePickerPosition,minDateRestriction:E.minDateRestriction,maxDateRestriction:E.maxDateRestriction,dateCalendarSelection:E.startDateCalendarSelection||null,fitDatePickerToDate:E.fitDatePickerToDate},{parentComponent:t},v);B.ValueChanged.addHandler(n);B.EditStarted.addHandler(o);B.VisualStateChanged.addHandler(r);h=new c.UI.DateTimePicker({id:E.id+c.UI.DateTimeRangePickerTemplate.EndPostfix,attr:{eventTags:"end"},value:{date:D.getValue("untilDate"),time:D.getValue("untilTime")},title:E.endTitle,titleWidth:E.endTitleWidth,pickerWidth:E.pickerWidth,controlContainerDisplayType:E.controlContainerDisplayType,dateMask:E.dateMask,timeHint:E.timeHint,timeFormat:E.timeFormat,timePickerPosition:E.endTimePickerPosition,minDateRestriction:E.minDateRestriction,maxDateRestriction:E.maxDateRestriction,dateCalendarSelection:E.endDateCalendarSelection||null,fitDatePickerToDate:E.fitDatePickerToDate},{parentComponent:t},v);h.ValueChanged.addHandler(n);h.EditStarted.addHandler(o);h.VisualStateChanged.addHandler(r);s.RenderComplete.addHandler(p);s.Dispose.addHandler(g);}function g(){if(m){return;}t.Dispose.fireHandlers();s.RenderComplete.removeHandler(p);s.Dispose.removeHandler(g);if(s.ValidationFailed){s.ValidationFailed.removeHandler(q);}E=null;D=null;B=null;h=null;f=null;t.RenderComplete=null;t.Dispose=null;t.ValueChanged=null;t.VisualStateChanged=null;m=true;}j();}})(window,WA);(function(e,d,c){if(!d.UI.DateTimeRangePickerTemplate){d.UI.DateTimeRangePickerTemplate=b;d.UI.DateTimeRangePickerTemplate.StartPostfix="_start";d.UI.DateTimeRangePickerTemplate.EndPostfix="_end";d.UI.DateTimeRangePickerTemplate.PickersLayout={Horizontal:"horizontal",Vertical:"vertical"};}function b(g){var f=g.controlContainerDisplayType||d.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;if(g.fitDatePickerToDate){f=d.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed;}g.controlContainerDisplayType=f;g.cssClass="waDateTimeRangePicker"+(g.cssClass?" "+g.cssClass:"");g.layoutContentHTML=a(g);return d.UI.ControlLayoutTemplate(g);}function a(g){var f=d.UI.ContainerTemplate;return f({cssClass:"waDateTimeRangePickerContainer"+(g.pickersLayout==d.UI.DateTimeRangePickerTemplate.PickersLayout.Vertical?"":" horizontal"),contentHTML:f({cssClass:"waDateTimeRangePickerStart",contentHTML:d.UI.DateTimePickerTemplate({id:g.id+d.UI.DateTimeRangePickerTemplate.StartPostfix,title:g.startTitle,titleWidth:g.startTitleWidth,titlePosition:g.startTitlePosition,pickerWidth:g.pickerWidth,controlContainerDisplayType:g.controlContainerDisplayType,timeFormat:g.timeFormat,timePickerPosition:g.startTimePickerPosition,fitDatePickerToDate:g.fitDatePickerToDate,dateMask:g.dateMask})})+f({cssClass:"waDateTimeRangePickerDivider",attr:{style:((g.pickersLayout==d.UI.DateTimeRangePickerTemplate.PickersLayout.Vertical)?"height":"width")+": "+(g.dividerSize||0)+"px;"}})+f({cssClass:"waDateTimeRangePickerEnd",contentHTML:d.UI.DateTimePickerTemplate({id:g.id+d.UI.DateTimeRangePickerTemplate.EndPostfix,title:g.endTitle,titleWidth:g.endTitleWidth,titlePosition:g.endTitlePosition,pickerWidth:g.pickerWidth,controlContainerDisplayType:g.controlContainerDisplayType,timeFormat:g.timeFormat,timePickerPosition:g.endTimePickerPosition,fitDatePickerToDate:g.fitDatePickerToDate,dateMask:g.dateMask})})});}})(window,WA);(function(f,e,d){var b=32;var c=500;if(!e.UI.DialogListControl){e.UI.DialogListControl=a;}function a(B,A){A=A||{};var U=this,al="WA.UI.DialogListControl",ao=B,R=A.parentComponent;U.toString=function(){return al;};ao.renderSummary=ao.renderSummary===d?true:ao.renderSummary;ao.itemTemplateType=ao.itemTemplateType||e.UI.DialogListControlItemTemplateType.Default;var E=e.UI.DialogListTemplateFactory.CreateTemplate(ao.itemTemplateType);if(Y()){}U.RenderComplete=e.Tools.EventHandlers.createHandlers(U,{id:"RenderComplete"});U.VisualStateChanged=e.Tools.EventHandlers.createHandlers(U,{id:"VisualStateChanged"});U.ValueChanged=e.Tools.EventHandlers.createHandlers(U,{id:"ValueChanged"});U.Dispose=e.Tools.EventHandlers.createHandlers(U,{id:"Dispose"});ao.maxWidth=ao.maxWidth||500;ao.minWidth=ao.minWidth||300;ao.maxHeight=ao.maxHeight||350;ao.minHeight=ao.minHeight||350;var D=false,ak=100,ai=ao.showMaxItemsCount,t=ao.footerTextIfOverflowMaxItemsCount,k,Q,ac,F,p,an,ad,m=[],n,ae,Z,aa="",T=ao.processDoubleClick||true,g=ao.id+"_apply",h=ao.id+"_cancel";U.render=V;U.parentSelected=S;U.show=af;U.hide=x;U.showDialogListControl=ah;function Y(){return ao.renderSummary===true;}function ah(){P();}function af(){ag();U.VisualStateChanged.fireHandlers();}function ag(){if(!Y()){return;}e.Dom.removeClassName(k,"hidden");}function x(){y();U.VisualStateChanged.fireHandlers();}function y(){if(!Y()){return;}e.Dom.addClassName(k,"hidden");}function S(ap){e.UI.Helpers.ControlHelper.applyParentSelectedBehavior(U,ao.parentChangeBehaviour,ap);}function V(){return e.UI.DialogListControlTemplate(ao);}function N(aq,ap){o();U.RenderComplete.fireHandlers();}function o(){if(!Y()){return;}k=e.$(ao.id);}function M(aq,ap){P();}function P(){p.setTitle(ao.DialogTitle);p.setWaitingState();p.show();e.throttle(aj,ak);}function aj(){ae.loadListData();}function J(){}function i(ap){return !(ap.itemsMetadata&&ap.itemsMetadata.levels&&ap.itemsMetadata.statuses&&(ap.itemsMetadata.resources||ap.itemsMetadata.groups));}function L(aq,ap){m=ap.items;if(!n){n=(E.InitMetadata?E.InitMetadata(ap.itemsMetadata):ap.itemsMetadata);}X();p.setNormalState();if(!an.getValue()){p.disableButton(g);}}function K(){p.setErrorState();}function I(aq,ap){ad=ap.value;p.enableButton(g);if(ap.selectEvent==e.UI.ListControl.SelectEvent.DoubleClick){G();}}function G(){if(!ad){return;}var ap=r(m,ad);if(E.ValueTransformer){ap=E.ValueTransformer(ap,n);}an.setValue(ap);p.hide();am(ap);U.ValueChanged.fireHandlers({value:ap});}function am(ap){if(!Y()){return;}ac.contentHTML(E.CreateSelectedItem(ap,n));ac.show();Q.setWaButtonTitle(ao.openDialogChangeButtonTitle);}function H(){p.hide();}function O(aq,ap){aa=e.String.gtrim(ap.newValue);e.throttle(X,b);}function ab(){p.setWaitingState();ae.loadListData(aa,false);}function X(){p.setContent(W());s();}function s(){if(F){F.renderComplete();}}function r(aq,at){for(var ap=0,ar=aq.length;ap<ar;ap++){if(aq[ap].id==at){return aq[ap];}}}function u(){return e.UI.DialogListControlHeaderTemplate(ao);}function W(){if(F){F.dispose();F=null;}var ar=ao.id+"_listControl";var aq=l(m,n,ar);if(aq.length===0){return v();}var at=an.getValue();var ap;if(at){ap=at.id;}F=new e.UI.ListControl({id:ar,selectedValue:ap,items:aq,listName:"contactList",footerText:aq.length==ai?t:d},{processDoubleClick:T,parentComponent:U});F.ValueChanged.addHandler(I);return F.render();}function v(){return e.UI.ContainerTemplate({cssClass:"noItems",contentText:ao.noItemsMessage});}function w(aq,ap){return E.CreateSearchIndex(aq,ap).toLowerCase();}function l(au,aq,ay){var aB=[],az=e.UI.ListControlTemplate.SelectItemEventTagPrefix,ar=e.eventTagsAttribute,av=0,ax=au.length,aw=e.String.getWords(aa.toLowerCase());for(var at=0;at<ax&&av<ai;at++){var aA=au[at];if(aA.searchIndex===d){aA.searchIndex=w(aA,aq);}if(aw.length&&!e.String.matchAllWords(aA.searchIndex,aw)){continue;}var ap={};ap[ar]=az+aA.id;aA.attr=ap;aB.push({id:ay+"_item"+at,value:aA.id.toString(),contentHTML:E(aA,aq)});av++;}return aB;}function z(){C();p=new e.UI.WaDialogV2({id:ao.id+"_dialogList",cssClass:"dialogListControlDialog"},{minWidth:ao.minWidth,maxWidth:ao.maxWidth,minHeight:ao.minHeight,maxHeight:ao.maxHeight,windowResizeWatcherEnabled:ao.windowResizeWatcherEnabled||true,errorMessageText:ao.ErrorMessage,buttons:[{model:{id:g,name:ao.buttonSaveTitle,action:G},args:{color:e.UI.WaButton.ButtonColor.Grey}},{model:{id:h,name:ao.buttonCancelTitle,action:H},args:{color:e.UI.WaButton.ButtonColor.Grey}}],parentComponent:U});p.Cancel.addHandler(H);p.setContentHeader(u());Z=new e.UI.TextBox({id:ao.id+e.UI.DialogListControlHeaderTemplate.SearchBoxPostfix},{parentComponent:U});Z.ValueChanged.addHandler(O);ae=new e.UI.DialogListService({resources:{dataSourceUrl:ao.dataSourceUrl},parentComponent:U});ae.LoadListDataBeforeSend.addHandler(J);ae.LoadListDataSuccess.addHandler(L);ae.LoadListDataFailed.addHandler(K);an=e.UI.Helpers.ValueAccessorHelper.createValueAccessor(ao,U);R.RenderComplete.addHandler(N);R.Dispose.addHandler(q);}function C(){if(!Y()){return;}Q=new e.UI.WaButton({id:ao.id+e.UI.DialogListControlTemplate.ButtonIdPostfix},{parentComponent:U});ac=e.Object.create(e.UI.TextContainer,[{id:ao.id+e.UI.DialogListControlTemplate.SelectedItemPostfix},{parentComponent:U}]);Q.WaButtonClick.addHandler(M);}function j(){e.clearThrottle(X);e.clearThrottle(aj);}function q(){if(D){return;}j();U.Dispose.fireHandlers();R.RenderComplete.removeHandler(N);R.Dispose.removeHandler(q);ao=null;R=null;p=null;Q=null;ae=null;n=null;m=null;Z=null;U.ValueChanged=null;U.VisualStateChanged=null;U.RenderComplete=null;U.Dispose=null;D=true;}z();}})(window,WA);(function(d,c,b){if(!c.UI.DialogListControlHeaderTemplate){c.UI.DialogListControlHeaderTemplate=a;c.UI.DialogListControlHeaderTemplate.SearchBoxPostfix="_searchBox";}function a(e){return c.UI.ContainerTemplate({contentHTML:c.UI.TextBoxTemplate({id:e.id+c.UI.DialogListControlHeaderTemplate.SearchBoxPostfix,hint:e.searchBoxHint})});}})(window,WA);(function(e,d,c){if(!d.UI.DialogListControlTemplate){d.UI.DialogListControlTemplate=a;d.UI.DialogListControlTemplate.ButtonIdPostfix="_button";d.UI.DialogListControlTemplate.SelectedItemPostfix="_selectedItem";}function a(g){var f={};f.idContainerDescriptionPostfix=d.UI.TextBoxTemplate.IdContainerDescriptionPostfix;f.controlContainerDisplayType=g.controlContainerDisplayType?g.controlContainerDisplayType:d.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;f.cssClass="dialogListControlView";f.id=g.id;f.layoutContentHTML=b(g);return b(g);}function b(j){var h=d.UI.ContainerTemplate,f=d.UI.DialogListTemplateFactory.CreateTemplate(j.itemTemplateType),g;var k=j.value.value;if(k){g=k.fields;}return h({id:j.id,cssClass:"dialogListControlView",contentHTML:h({contentHTML:d.UI.TextContainerTemplate({id:j.id+d.UI.DialogListControlTemplate.SelectedItemPostfix,cssClass:"dialogListControlSelectedItem",fadeMode:true,displayType:d.UI.TextContainerTemplate.DisplayType.SingleLine,isHidden:i(j)?false:true,contentHTML:f.CreateSelectedItem(k,g)})})+h({contentHTML:d.UI.WaButtonTemplate({id:j.id+d.UI.DialogListControlTemplate.ButtonIdPostfix,name:i(j)?j.openDialogChangeButtonTitle:j.openDialogButtonTitle},{color:d.UI.WaButton.ButtonColor.Grey})})});function i(l){return(l.value&&l.value.value&&l.value.value.id&&l.value.value.id>0);}}})(window,WA);(function(d,c,b){if(!c.UI.DialogListService){c.UI.DialogListService=a;}function a(j){j=j||{};var l=this,n="WA.UI.DialogListService",k=j.parentComponent,m=j.resources;l.toString=function(){return n;};l.LoadListDataBeforeSend=c.Tools.EventHandlers.createHandlers(l,{id:"LoadListDataBeforeSend"});l.LoadListDataSuccess=c.Tools.EventHandlers.createHandlers(l,{id:"LoadListDataSuccess"});l.LoadListDataFailed=c.Tools.EventHandlers.createHandlers(l,{id:"LoadListDataFailed"});l.serverSearchFeature=null;l.Dispose=c.Tools.EventHandlers.createHandlers(l,{id:"Dispose"});var h=false,f;l.init=g;l.loadListData=i;function i(p,o){if(typeof o==="undefined"){o=true;}if(o&&f){l.LoadListDataSuccess.fireHandlers(f);return;}c.Ajax({url:m.dataSourceUrl,dataType:"json",type:"GET",data:{searchString:(p||""),from:0,count:100},beforeSend:function(){if(h){return;}l.LoadListDataBeforeSend.fireHandlers();},success:function(q){if(h){return;}f=q;l.LoadListDataSuccess.fireHandlers(q);},error:function(q){if(h){return;}l.LoadListDataFailed.fireHandlers({error:q});}});}function g(){k.Dispose.addHandler(e);}function e(){l.Dispose.fireHandlers();k.Dispose.removeHandler(e);k=null;f=null;l.LoadListDataBeforeSend=null;l.LoadListDataSuccess=null;l.LoadListDataFailed=null;l.Dispose=null;h=true;}}})(window,WA);(function(m,l,k){if(!l.UI.DialogListItemTemplate){l.UI.DialogListItemTemplate=e;l.UI.DialogListItemTemplate.CreateSearchIndex=b;l.UI.DialogListItemTemplate.InitMetadata=j;l.UI.DialogListItemTemplate.serverSearchFeature=null;}function j(n){n.levels=l.Array.convertToDictionary(n.levels,"id");n.statuses=l.Array.convertToDictionary(n.statuses,"id");return n;}function b(o,r){var n="";n+=o.id;n+=o.email;n+=o.org;n+=o.phone;var s=i(o,r);if(s){n+=s;}var p=f(o,r);if(p){n+=p;}var q=h(o,r);if(q){n+=q;}var t=g(o,r);if(t){n+=t;}return n;}function e(n,o){return l.UI.ContainerTemplate({cssClass:"itemContainer",attr:n.attr,contentHTML:l.UI.ContainerTemplate({attr:n.attr,cssClass:"firstColumn",contentHTML:a(n,o)})+l.UI.ContainerTemplate({attr:n.attr,cssClass:"secondColumn",contentHTML:c(n,o)})+l.UI.ContainerTemplate({attr:n.attr,cssClass:"thirdColumn",contentHTML:d(n,o)})});}function i(n,o){if(n.contactNameCache===k){if(n.name){n.contactNameCache=n.name+(n.archived===1?" "+o.resources.archivedContactLabel:"");}else{n.contactNameCache="";}}return n.contactNameCache;}function f(o,p){if(l.UI.DialogListItemTemplate.serverSearchFeature){return o.levelTitle;}if(o.membershipLevelCache===k){var q=p.resources;var n=p.levels;if(o.archived===1){o.membershipLevelCache="";}else{if(o.member!==1){o.membershipLevelCache=q.nonMemberLabel;}else{if(o.enabled!==1){o.membershipLevelCache=q.stoppedMembershipLabel;}else{if(o.level!==k&&o.level>0&&n[o.level]){o.membershipLevelCache=n[o.level].name;}else{o.membershipLevelCache="";}}}}}return o.membershipLevelCache;}function h(n,o){if(l.UI.DialogListItemTemplate.serverSearchFeature){return n.statusString;}if(n.membershipStatusCache===k){var p=o.statuses;if(n.archived===1){n.membershipStatusCache="";}else{if(n.level!==k&&n.enabled===1&&n.status!==k&&n.status>0&&p[n.status]){n.membershipStatusCache=p[n.status].name;}else{n.membershipStatusCache="";}}}return n.membershipStatusCache;}function g(n,o){if(n.membershipRenewalDateCache===k){if(n.archived===1){n.membershipRenewalDateCache="";}else{if(n.level!==k&&n.enabled===1&&n.renewal){n.membershipRenewalDateCache=n.renewal;}else{n.membershipRenewalDateCache="";}}}return n.membershipRenewalDateCache;}function a(o,p){var n="";var q=i(o,p);if(q){n+=l.UI.ContainerTemplate({attr:o.attr,cssClass:"columnItem",contentHTML:l.UI.TextContainerTemplate({cssClass:o.archived===1?"archivedItemName":"itemName",displayType:l.UI.TextContainerTemplate.DisplayType.SingleLine,fadeMode:true,attr:o.attr,contentText:q})});}if(o.org){n+=l.UI.ContainerTemplate({attr:o.attr,cssClass:"columnItem",contentHTML:l.UI.TextContainerTemplate({contentText:o.org,fadeMode:true,displayType:l.UI.TextContainerTemplate.DisplayType.SingleLine,attr:o.attr})});}if(o.hasOwnProperty("id")){n+=l.UI.BulletedContainerTemplate({contentText:o.id,leftIcons:[{cssClass:o.archived?"disabled":"",iconSize:l.UI.IconTemplate.IconSize.Small,iconType:o.admin===1?l.UI.IconType.Star:l.UI.IconType.Empty}]});}return n;}function c(o,s){var n="";var p=f(o,s);if(p){n+=l.UI.ContainerTemplate({attr:o.attr,cssClass:"columnItem",contentHTML:l.UI.TextContainerTemplate({cssClass:o.archived!==1?"itemName":"",fadeMode:true,displayType:l.UI.TextContainerTemplate.DisplayType.SingleLine,attr:o.attr,contentText:p})});}var r=h(o,s);if(r){n+=l.UI.ContainerTemplate({attr:o.attr,cssClass:"columnItem",contentHTML:l.UI.TextContainerTemplate({fadeMode:true,displayType:l.UI.TextContainerTemplate.DisplayType.SingleLine,attr:o.attr,contentText:r})});}var q=g(o,s);if(q){n+=l.UI.ContainerTemplate({attr:o.attr,cssClass:"columnItem",contentHTML:l.UI.TextContainerTemplate({fadeMode:true,displayType:l.UI.TextContainerTemplate.DisplayType.SingleLine,attr:o.attr,contentText:q})});}return n;}function d(o,p){var n="";if(o.email){n+=l.UI.ContainerTemplate({attr:o.attr,cssClass:"columnItem",contentHTML:l.UI.TextContainerTemplate({cssClass:o.archived!==1?"itemName":"",attr:o.attr,fadeMode:true,displayType:l.UI.TextContainerTemplate.DisplayType.SingleLine,contentText:o.email})});}if(o.phone){n+=l.UI.ContainerTemplate({attr:o.attr,cssClass:"columnItem",contentHTML:l.UI.TextContainerTemplate({attr:o.attr,fadeMode:true,displayType:l.UI.TextContainerTemplate.DisplayType.SingleLine,contentText:o.phone})});}return n;}})(window,WA);(function(c,b,a){if(!b.UI.DialogListTemplateFactory){b.UI.DialogListControlItemTemplateType={Default:"Default",FeaturedMember:"FeaturedMember"};b.UI.DialogListTemplateFactory={CreateTemplate:function(d){switch(d){case b.UI.DialogListControlItemTemplateType.FeaturedMember:return b.UI.FeaturedMemberItemTemplate;default:return b.UI.DialogListItemTemplate;}}};}})(window,WA);(function(j,i,g){if(!i.UI.FeaturedMemberItemTemplate){i.UI.FeaturedMemberItemTemplate=e;i.UI.FeaturedMemberItemTemplate.CreateSearchIndex=b;i.UI.FeaturedMemberItemTemplate.CreateSelectedItem=d;i.UI.FeaturedMemberItemTemplate.ValueTransformer=h;i.UI.FeaturedMemberItemTemplate.InitMetadata=f;i.UI.FeaturedMemberItemTemplate.serverSearchFeature=null;}function f(k){k.levels=i.Array.convertToDictionary(k.levels,"id");k.groups=i.Array.convertToDictionary(k.groups,"id");k.statuses=i.Array.convertToDictionary(k.statuses,"id");return k;}function b(n,o){var k=[];k.push(n.id);k.push(n.fullName);k.push(n.email);k.push(n.organization);if(n.membershipLevelId&&n.membershipLevelId>0&&o.levels[n.membershipLevelId]){k.push(o.levels[n.membershipLevelId].name);}if(n.membershipStatus&&o.statuses[n.membershipStatus]){k.push(o.statuses[n.membershipStatus].name);}if(n.adHocGroups&&n.adHocGroups.length>0){for(var l=0;l<n.adHocGroups.length;l++){if(o.groups[n.adHocGroups[l]]){k.push(o.groups[n.adHocGroups[l]].name);}}}return k.join("");}function d(o,q){var k=[];if(!o||!o.fields){return"";}var l=i.Array.first(o.fields,p,{value:null},{fieldName:"fullName"}).value,n=i.Array.first(o.fields,p,{value:null},{fieldName:"level"}).value;o.attr=!o.attr?o.attr={}:o.attr;o.attr.selecteditemid=o.id;if(l){k.push(i.UI.TextContainerTemplate({attr:o.attr,contentText:l,fadeMode:true,displayType:i.UI.TextContainerTemplate.DisplayType.SingleLine}));}if(n){k.push(i.UI.TextContainerTemplate({attr:o.attr,contentText:n,fadeMode:true,displayType:i.UI.TextContainerTemplate.DisplayType.SingleLine}));}return k.join("");function p(r,m){return(r.name&&r.name==m.fieldName);}}function h(k,m){var l="";if(k.membershipLevelId&&k.membershipLevelId>0&&m.levels[k.membershipLevelId]){l=m.levels[k.membershipLevelId].name;}var n={__type:"EntityValueJsonModel",id:k.id,fields:[{name:"fullName",value:k.fullName}]};if(l!=""){n.fields.push({name:"level",value:l});}return n;}function e(k,l){return i.UI.ContainerTemplate({cssClass:"itemContainer",attr:k.attr,contentHTML:i.UI.ContainerTemplate({attr:k.attr,cssClass:"firstColumn",contentHTML:a(k,l)})+i.UI.ContainerTemplate({attr:k.attr,cssClass:"secondColumn",contentHTML:c(k,l)})});}function a(l){var k=[];if(l.fullName){k.push(i.UI.ContainerTemplate({attr:l.attr,cssClass:"columnItem",contentHTML:i.UI.TextContainerTemplate({cssClass:"itemName",displayType:i.UI.TextContainerTemplate.DisplayType.SingleLine,fadeMode:true,attr:l.attr,contentText:l.fullName})}));}if(l.organization){k.push(i.UI.ContainerTemplate({attr:l.attr,cssClass:"columnItem",contentHTML:i.UI.TextContainerTemplate({contentText:l.organization,fadeMode:true,displayType:i.UI.TextContainerTemplate.DisplayType.SingleLine,attr:l.attr})}));}if(l.email){k.push(i.UI.ContainerTemplate({attr:l.attr,cssClass:"columnItem",contentHTML:i.UI.TextContainerTemplate({attr:l.attr,fadeMode:true,displayType:i.UI.TextContainerTemplate.DisplayType.SingleLine,contentText:l.email})}));}return k.join("");}function c(p,s){var k=[],q=null,r=null,n=null;if(i.UI.FeaturedMemberItemTemplate.serverSearchFeature){q=p.membershipLevelTitle;}else{q=(p.membershipLevelId&&s.levels[p.membershipLevelId])?s.levels[p.membershipLevelId].name:null;}if(q){k.push(i.UI.ContainerTemplate({attr:p.attr,cssClass:"columnItem",contentHTML:i.UI.TextContainerTemplate({cssClass:"itemName",fadeMode:true,displayType:i.UI.TextContainerTemplate.DisplayType.SingleLine,attr:p.attr,contentText:q})}));}if(i.UI.FeaturedMemberItemTemplate.serverSearchFeature){r=p.membershipStatusTitle;}else{r=(p.membershipStatus&&s.statuses[p.membershipStatus])?s.statuses[p.membershipStatus].name:null;}if(r){k.push(i.UI.ContainerTemplate({cssClass:"columnItem",contentText:r,attr:p.attr}));}if(i.UI.FeaturedMemberItemTemplate.serverSearchFeature){n=p.adHocGroupTitles;}else{if(p.adHocGroups&&p.adHocGroups.length>0){var l=[];for(var o=0;o<p.adHocGroups.length;o++){if(s.groups[p.adHocGroups[o]]){l.push(s.groups[p.adHocGroups[o]].name);}}if(l.length>0){n=l.join(", ");}}}if(n){k.push(i.UI.ContainerTemplate({attr:p.attr,cssClass:"columnItem",contentHTML:i.UI.TextContainerTemplate({attr:p.attr,fadeMode:true,displayType:i.UI.TextContainerTemplate.DisplayType.SingleLine,contentText:n})}));}return k.join("");}})(window,WA);(function(e,d,c){var b=500;if(!d.UI.DialogListControlAjaxSearch){d.UI.DialogListControlAjaxSearch=a;}function a(y,x){x=x||{};var R=this,ai="WA.UI.DialogListControlAjaxSearch",al=y,O=x.parentComponent;R.toString=function(){return ai;};al.renderSummary=al.renderSummary===c?true:al.renderSummary;al.itemTemplateType=al.itemTemplateType||d.UI.DialogListControlItemTemplateType.Default;var B=d.UI.DialogListTemplateFactoryAjaxSearch.CreateTemplate(al.itemTemplateType);R.RenderComplete=d.Tools.EventHandlers.createHandlers(R,{id:"RenderComplete"});R.VisualStateChanged=d.Tools.EventHandlers.createHandlers(R,{id:"VisualStateChanged"});R.ValueChanged=d.Tools.EventHandlers.createHandlers(R,{id:"ValueChanged"});R.Dispose=d.Tools.EventHandlers.createHandlers(R,{id:"Dispose"});al.maxWidth=al.maxWidth||500;al.minWidth=al.minWidth||300;al.maxHeight=al.maxHeight||350;al.minHeight=al.minHeight||350;var A=false,ah=100,af=al.showMaxItemsCount,r=al.footerTextIfOverflowMaxItemsCount,i,N,Z,C,n,ak,aa,k=[],l,ab,W,X="",Q=al.processDoubleClick||true,f=al.id+"_apply",g=al.id+"_cancel";R.render=S;R.parentSelected=P;R.show=ac;R.hide=u;R.showDialogListControl=ae;function V(){return al.renderSummary===true;}function ae(){M();}function ac(){ad();R.VisualStateChanged.fireHandlers();}function ad(){if(!V()){return;}d.Dom.removeClassName(i,"hidden");}function u(){v();R.VisualStateChanged.fireHandlers();}function v(){if(!V()){return;}d.Dom.addClassName(i,"hidden");}function P(am){d.UI.Helpers.ControlHelper.applyParentSelectedBehavior(R,al.parentChangeBehaviour,am);}function S(){return d.UI.DialogListControlTemplate(al);}function K(an,am){m();R.RenderComplete.fireHandlers();}function m(){if(!V()){return;}i=d.$(al.id);}function J(an,am){M();}function M(){n.setTitle(al.DialogTitle);n.setWaitingState();n.show();d.throttle(ag,ah);}function ag(){ab.loadListData();}function G(){}function I(an,am){k=am.items;l=am.itemsMetadata;U();n.setNormalState();if(!ak.getValue()){n.disableButton(f);}}function H(){n.setErrorState();}function F(an,am){aa=am.value;n.enableButton(f);if(am.selectEvent==d.UI.ListControl.SelectEvent.DoubleClick){D();}}function D(){if(!aa){return;}var am=p(k,aa);if(B.ValueTransformer){am=B.ValueTransformer(am,l);}ak.setValue(am);n.hide();aj(am);R.ValueChanged.fireHandlers({value:am});}function aj(am){if(!V()){return;}Z.contentHTML(B.CreateSelectedItem(am,l));Z.show();N.setWaButtonTitle(al.openDialogChangeButtonTitle);}function E(){n.hide();}function L(an,am){X=d.String.gtrim(am.newValue);d.throttle(Y,b);}function Y(){n.setWaitingState();ab.loadListData(X,false);}function U(){n.setContent(T());q();}function q(){if(C){C.renderComplete();}}function p(an,ap){for(var am=0,ao=an.length;am<ao;am++){if(an[am].id==ap){return an[am];}}}function s(){return d.UI.DialogListControlHeaderTemplate(al);}function T(){if(C){C.dispose();C=null;}var ao=al.id+"_listControl";var an=j(k,l,ao);if(an.length===0){return t();}var ap=ak.getValue();var am;if(ap){am=ap.id;}C=new d.UI.ListControl({id:ao,selectedValue:am,items:an,listName:"contactList",footerText:an.length==af?r:c},{processDoubleClick:Q,parentComponent:R});C.ValueChanged.addHandler(F);return C.render();}function t(){return d.UI.ContainerTemplate({cssClass:"noItems",contentText:al.noItemsMessage});}function j(ar,an,av){var ay=[],aw=d.UI.ListControlTemplate.SelectItemEventTagPrefix,ao=d.eventTagsAttribute,at=0,au=ar.length,ap=X!==c&&X.length>0?X.toLowerCase():c;for(var aq=0;aq<au&&at<af;aq++){var ax=ar[aq];var am={};am[ao]=aw+ax.id;ax.attr=am;ay.push({id:av+"_item"+aq,value:ax.id.toString(),contentHTML:B(ax,an)});at++;}return ay;}function w(){z();n=new d.UI.WaDialogV2({id:al.id+"_dialogList",cssClass:"dialogListControlDialog"},{minWidth:al.minWidth,maxWidth:al.maxWidth,minHeight:al.minHeight,maxHeight:al.maxHeight,windowResizeWatcherEnabled:al.windowResizeWatcherEnabled||true,errorMessageText:al.ErrorMessage,buttons:[{model:{id:f,name:al.buttonSaveTitle,action:D},args:{color:d.UI.WaButton.ButtonColor.Grey}},{model:{id:g,name:al.buttonCancelTitle,action:E},args:{color:d.UI.WaButton.ButtonColor.Grey}}],parentComponent:R});n.Cancel.addHandler(E);n.setContentHeader(s());W=new d.UI.TextBox({id:al.id+d.UI.DialogListControlHeaderTemplate.SearchBoxPostfix},{parentComponent:R});W.ValueChanged.addHandler(L);ab=new d.UI.DialogListService({resources:{dataSourceUrl:al.dataSourceUrl},parentComponent:R});ab.LoadListDataBeforeSend.addHandler(G);ab.LoadListDataSuccess.addHandler(I);ab.LoadListDataFailed.addHandler(H);ak=d.UI.Helpers.ValueAccessorHelper.createValueAccessor(al,R);O.RenderComplete.addHandler(K);O.Dispose.addHandler(o);}function z(){if(!V()){return;}N=new d.UI.WaButton({id:al.id+d.UI.DialogListControlTemplate.ButtonIdPostfix},{parentComponent:R});Z=d.Object.create(d.UI.TextContainer,[{id:al.id+d.UI.DialogListControlTemplate.SelectedItemPostfix},{parentComponent:R}]);N.WaButtonClick.addHandler(J);}function h(){d.clearThrottle(U);d.clearThrottle(ag);}function o(){if(A){return;}h();R.Dispose.fireHandlers();O.RenderComplete.removeHandler(K);O.Dispose.removeHandler(o);al=null;O=null;n=null;N=null;ab=null;l=null;k=null;W=null;R.ValueChanged=null;R.VisualStateChanged=null;R.RenderComplete=null;R.Dispose=null;A=true;}w();}})(window,WA);(function(k,j,i){if(!j.UI.DialogListItemTemplateAjaxSearch){j.UI.DialogListItemTemplateAjaxSearch=d;}function d(l,n){return j.UI.ContainerTemplate({cssClass:"itemContainer",attr:l.attr,contentHTML:j.UI.ContainerTemplate({attr:l.attr,cssClass:"firstColumn",contentHTML:a(l,n)})+j.UI.ContainerTemplate({attr:l.attr,cssClass:"secondColumn",contentHTML:b(l,n)})+j.UI.ContainerTemplate({attr:l.attr,cssClass:"thirdColumn",contentHTML:c(l,n)})});}function h(l,n){if(l.contactNameCache===i){if(l.name){l.contactNameCache=l.name+(l.archived===1?" "+n.resources.archivedContactLabel:"");}else{l.contactNameCache="";}}return l.contactNameCache;}function e(l,n){return l.levelTitle;}function g(l,n){return l.statusString;}function f(l,n){if(l.membershipRenewalDateCache===i){if(l.archived===1){l.membershipRenewalDateCache="";}else{if(l.level!==i&&l.enabled===1&&l.renewal){l.membershipRenewalDateCache=l.renewal;}else{l.membershipRenewalDateCache="";}}}return l.membershipRenewalDateCache;}function a(n,o){var l="";var p=h(n,o);if(p){l+=j.UI.ContainerTemplate({attr:n.attr,cssClass:"columnItem",contentHTML:j.UI.TextContainerTemplate({cssClass:n.archived===1?"archivedItemName":"itemName",displayType:j.UI.TextContainerTemplate.DisplayType.SingleLine,fadeMode:true,attr:n.attr,contentText:p})});}if(n.org){l+=j.UI.ContainerTemplate({attr:n.attr,cssClass:"columnItem",contentHTML:j.UI.TextContainerTemplate({contentText:n.org,fadeMode:true,displayType:j.UI.TextContainerTemplate.DisplayType.SingleLine,attr:n.attr})});}if(n.hasOwnProperty("id")){l+=j.UI.BulletedContainerTemplate({contentText:n.id,leftIcons:[{cssClass:n.archived?"disabled":"",iconSize:j.UI.IconTemplate.IconSize.Small,iconType:n.admin===1?j.UI.IconType.Star:j.UI.IconType.Empty}]});}return l;}function b(n,r){var l="";var o=e(n,r);if(o){l+=j.UI.ContainerTemplate({attr:n.attr,cssClass:"columnItem",contentHTML:j.UI.TextContainerTemplate({cssClass:n.archived!==1?"itemName":"",fadeMode:true,displayType:j.UI.TextContainerTemplate.DisplayType.SingleLine,attr:n.attr,contentText:o})});}var q=g(n,r);if(q){l+=j.UI.ContainerTemplate({attr:n.attr,cssClass:"columnItem",contentHTML:j.UI.TextContainerTemplate({fadeMode:true,displayType:j.UI.TextContainerTemplate.DisplayType.SingleLine,attr:n.attr,contentText:q})});}var p=f(n,r);if(p){l+=j.UI.ContainerTemplate({attr:n.attr,cssClass:"columnItem",contentHTML:j.UI.TextContainerTemplate({fadeMode:true,displayType:j.UI.TextContainerTemplate.DisplayType.SingleLine,attr:n.attr,contentText:p})});}return l;}function c(n,o){var l="";if(n.email){l+=j.UI.ContainerTemplate({attr:n.attr,cssClass:"columnItem",contentHTML:j.UI.TextContainerTemplate({cssClass:n.archived!==1?"itemName":"",attr:n.attr,fadeMode:true,displayType:j.UI.TextContainerTemplate.DisplayType.SingleLine,contentText:n.email})});}if(n.phone){l+=j.UI.ContainerTemplate({attr:n.attr,cssClass:"columnItem",contentHTML:j.UI.TextContainerTemplate({attr:n.attr,fadeMode:true,displayType:j.UI.TextContainerTemplate.DisplayType.SingleLine,contentText:n.phone})});}return l;}})(window,WA);(function(c,b,a){if(!b.UI.DialogListTemplateFactoryAjaxSearch){b.UI.DialogListControlItemTemplateTypeAjaxSearch={Default:"Default",FeaturedMember:"FeaturedMember"};b.UI.DialogListTemplateFactoryAjaxSearch={CreateTemplate:function(d){switch(d){case b.UI.DialogListControlItemTemplateTypeAjaxSearch.FeaturedMember:return b.UI.FeaturedMemberItemTemplateAjaxSearch;default:return b.UI.DialogListItemTemplateAjaxSearch;}}};}})(window,WA);(function(h,g,e){if(!g.UI.FeaturedMemberItemTemplateAjaxSearch){g.UI.FeaturedMemberItemTemplateAjaxSearch=d;g.UI.FeaturedMemberItemTemplateAjaxSearch.CreateSelectedItem=c;g.UI.FeaturedMemberItemTemplateAjaxSearch.ValueTransformer=f;}function c(l,o){var i=[];if(!l||!l.fields){return"";}var j=g.Array.first(l.fields,n,{value:null},{fieldName:"fullName"}).value,k=g.Array.first(l.fields,n,{value:null},{fieldName:"level"}).value;l.attr=!l.attr?l.attr={}:l.attr;l.attr.selecteditemid=l.id;if(j){i.push(g.UI.TextContainerTemplate({attr:l.attr,contentText:j,fadeMode:true,displayType:g.UI.TextContainerTemplate.DisplayType.SingleLine}));}if(k){i.push(g.UI.TextContainerTemplate({attr:l.attr,contentText:k,fadeMode:true,displayType:g.UI.TextContainerTemplate.DisplayType.SingleLine}));}return i.join("");function n(p,m){return(p.name&&p.name==m.fieldName);}}function f(i,k){var j="";if(i.membershipLevelId&&i.membershipLevelId>0&&k&&k.levels&&k.levels[i.membershipLevelId]){j=k.levels[i.membershipLevelId].name;}var l={__type:"EntityValueJsonModel",id:i.id,fields:[{name:"fullName",value:i.fullName}]};if(j!=""){l.fields.push({name:"level",value:j});}return l;}function d(i,j){return g.UI.ContainerTemplate({cssClass:"itemContainer",attr:i.attr,contentHTML:g.UI.ContainerTemplate({attr:i.attr,cssClass:"firstColumn",contentHTML:a(i,j)})+g.UI.ContainerTemplate({attr:i.attr,cssClass:"secondColumn",contentHTML:b(i,j)})});}function a(j){var i=[];if(j.fullName){i.push(g.UI.ContainerTemplate({attr:j.attr,cssClass:"columnItem",contentHTML:g.UI.TextContainerTemplate({cssClass:"itemName",displayType:g.UI.TextContainerTemplate.DisplayType.SingleLine,fadeMode:true,attr:j.attr,contentText:j.fullName})}));}if(j.organization){i.push(g.UI.ContainerTemplate({attr:j.attr,cssClass:"columnItem",contentHTML:g.UI.TextContainerTemplate({contentText:j.organization,fadeMode:true,displayType:g.UI.TextContainerTemplate.DisplayType.SingleLine,attr:j.attr})}));}if(j.email){i.push(g.UI.ContainerTemplate({attr:j.attr,cssClass:"columnItem",contentHTML:g.UI.TextContainerTemplate({attr:j.attr,fadeMode:true,displayType:g.UI.TextContainerTemplate.DisplayType.SingleLine,contentText:j.email})}));}return i.join("");}function b(k,o){var i=[],l=null,n=null,j=null;l=k.membershipLevelTitle;if(l){i.push(g.UI.ContainerTemplate({attr:k.attr,cssClass:"columnItem",contentHTML:g.UI.TextContainerTemplate({cssClass:"itemName",fadeMode:true,displayType:g.UI.TextContainerTemplate.DisplayType.SingleLine,attr:k.attr,contentText:l})}));}n=k.membershipStatusTitle;if(n){i.push(g.UI.ContainerTemplate({cssClass:"columnItem",contentText:n,attr:k.attr}));}j=k.adHocGroupTitles;if(j){i.push(g.UI.ContainerTemplate({attr:k.attr,cssClass:"columnItem",contentHTML:g.UI.TextContainerTemplate({attr:k.attr,fadeMode:true,displayType:g.UI.TextContainerTemplate.DisplayType.SingleLine,contentText:j})}));}return i.join("");}})(window,WA);(function(c,b){if(!b.UI.DialogListControlFactory){b.UI.DialogListControlFactory=a;}function a(f,e,g){var d=b.AdminPanel.getPanelResource("Flags");if(d.LoadSelectContactsDynamically){return new b.UI.DialogListControlAjaxSearch(f,e,g);}return new b.UI.DialogListControl(f,e,g);}})(window,WA);(function(d,c,b){if(!c.UI.DragDrop){c.UI.DragDrop=a;}function a(z,y){y=y||{};var Q=this,V="WA.UI.DragDrop",W=z,O=y.parentComponent;Q.toString=function(){return V;};Q.Dispose=c.Tools.EventHandlers.createHandlers(Q,{id:"Dispose"});Q.DragStart=c.Tools.EventHandlers.createHandlers(Q,{id:"DragStart"});Q.DragMove=c.Tools.EventHandlers.createHandlers(Q,{id:"DragMove"});Q.DragVertical=c.Tools.EventHandlers.createHandlers(Q,{id:"DragVertical"});Q.DragHorizontal=c.Tools.EventHandlers.createHandlers(Q,{id:"DragHorizontal"});Q.DragEnd=c.Tools.EventHandlers.createHandlers(Q,{id:"DragEnd"});Q.BoundLeave=c.Tools.EventHandlers.createHandlers(Q,{id:"BoundLeave"});Q.BoundReached=c.Tools.EventHandlers.createHandlers(Q,{id:"BoundReached"});Q.SoftBoundReached=c.Tools.EventHandlers.createHandlers(Q,{id:"SoftBoundReached"});var B=false,D=c.jq$,J=W.noDragClassName,F=W.mouseXOffset||0,G=W.mouseYOffset||0,h=W.boundsBuilder,U=W.softBounds||null,I=W.moveRestrictions||{disableX:false,disableY:false},C,w=!c.Browser.isIE,n,E={},e,P,H=20,g,A=false,f=100,T,S,p=c.Browser.isIE?"dragActiveIE":"dragActive";function l(Z){var ab=Z.attr(c.eventTagsAttribute),aa=Z.width();if(!ab){throw new Error("eventTags was not defined on Drag item");}var X=document.createElement("div"),Y=W.avatarBuilder({eventTags:ab});X.className="dragDropAvatar";X.innerHTML=Y.avatarHTML;if(Y.zIndex!=b){X.style.zIndex=Y.zIndex;}e=D(X);e.css("width",aa);var ac=c.Dimensions.getElementRect(Z[0]);e.css("left",ac.left);e.css("top",ac.top);D(document.body).append(e);if(Y.renderCompleteCallBack){Y.renderCompleteCallBack({id:Y.id});}}function m(X,Y){E={};E.offsetX=X.offsetX!==b?X.offsetX:X.pageX-Y.offset().left;E.offsetY=X.offsetY!==b?X.offsetY:X.pageY-Y.offset().top;E.startX=E.lastX=X.pageX;E.startY=E.lastY=X.pageY;}function q(X){if(X.which==c.UI.MouseEventCode.RightButton){return false;}return true;}function v(Y){var aa=D(Y.target),Z;if(!aa.hasClass(W.handleClassName)){if(J&&aa.closest("."+J).length){return null;}Z=aa.closest("."+W.handleClassName);}else{Z=aa;}if(!Z.length){return null;}var X=aa.closest("."+W.targetClassName);if(!X.length){return null;}return X;}function N(Y){if(C||B){return;}if(!q(Y)){return;}var X=v(Y);if(!X){return;}T=c.Window.getScrollTop(d);S=c.Window.getScrollLeft(d);m(Y,X);l(X);Y.preventDefault();C=true;c.addHandler(d,c.Browser.dragDropEvent.eMove,M);c.Dom.addClassName(document.body,p);if(h){g=h();}Q.DragStart.fireHandlers({dragItemDomElement:X[0]});}function M(ad){if(!C||B){return;}ad.preventDefault();var ag=ad.pageX-E.offsetX+F,ah=ad.pageY-E.offsetY+G,X=i(ag,ah),aa=!I.disableX&&!X.X,ab=!I.disableY&&!X.Y,ac=e[0],Y=aa?ag:null,Z=ab?ah:null;if(Y!=null){ac.style.left=Y+"px";}if(Z!=null){ac.style.top=Z+"px";}j(ad);r(X);if(!E.moving){return;}if(!w){ac.style.visibility="hidden";}P=D(document.elementFromPoint(ad.pageX-(S),ad.pageY-(T)));if(!w){ac.style.visibility="visible";}var af=P.closest("."+W.targetClassName);if(!af){}var ae={pointDomElement:af?af[0]:null,mouse:{X:E.nowX,Y:E.nowY}};Q.DragMove.fireHandlers(ae);if(!I.disableX&&Q.DragHorizontal.hasSubscribers()){if(E.dirAx&&E.distAxX>=H){E.distAxX=0;Q.DragHorizontal.fireHandlers(ae);}}if(!I.disableY&&!E.dirAx&&Q.DragVertical.hasSubscribers()){Q.DragVertical.fireHandlers(ae);}ac=null;}function i(Y,Z){var X={};if(g&&U){X.softTop=U.top&&(Z<=(g.top+U.top));X.softBottom=U.bottom&&(Z>=(g.bottom-U.bottom));X.softLeft=U.left&&(Y<=(g.left+U.left));X.softRight=U.right&&(Y>=(g.right-U.right));}if(g){X.top=g.top&&(Z<=g.top);X.bottom=g.bottom&&(Z>=g.bottom);X.Y=X.top||X.bottom;X.left=g.left&&(Y<=g.left);X.right=g.right&&(Y>=g.right);X.X=X.left||X.right;}return X;}var t;function r(X){t=X;if(X.X||X.Y){c.throttle(s,f);return;}if(X.softTop||X.softBottom||X.softLeft||X.softRight){c.throttle(u,f);return;}if(A){c.clearThrottle(u);c.clearThrottle(s);A=false;Q.BoundLeave.fireHandlers();}}function s(){A=true;c.clearThrottle(u);Q.BoundReached.fireHandlers({bounds:t});}function u(){A=true;c.clearThrottle(s);Q.SoftBoundReached.fireHandlers({bounds:t});}function j(X){E.lastX=E.nowX;E.lastY=E.nowY;E.nowX=X.pageX;E.nowY=X.pageY;E.distX=E.nowX-E.lastX;E.distY=E.nowY-E.lastY;E.lastDirX=E.dirX;E.lastDirY=E.dirY;E.dirX=E.distX===0?0:E.distX>0?1:-1;E.dirY=E.distY===0?0:E.distY>0?1:-1;var Y=Math.abs(E.distX)>Math.abs(E.distY)?1:0;if(!E.moving){E.dirAx=Y;E.moving=true;return;}if(E.dirAx!==Y){E.distAxX=0;E.distAxY=0;}else{E.distAxX+=Math.abs(E.distX);if(E.dirX!==0&&E.dirX!==E.lastDirX){E.distAxX=0;}E.distAxY+=Math.abs(E.distY);if(E.dirY!==0&&E.dirY!==E.lastDirY){E.distAxY=0;}}E.dirAx=Y;}function K(){g=h();}function L(){if(!C||B){return;}e.remove();R();C=false;c.removeHandler(d,c.Browser.dragDropEvent.eMove,M);Q.DragEnd.fireHandlers();}function R(){c.Dom.removeClassName(document.body,p);E={offsetX:0,offsetY:0,startX:0,startY:0,lastX:0,lastY:0,nowX:0,nowY:0,distX:0,distY:0,dirAx:0,dirX:0,dirY:0,lastDirX:0,lastDirY:0,distAxX:0,distAxY:0};}function k(){c.clearThrottle(s);c.clearThrottle(u);}function x(){O.Dispose.addHandler(o);n=c.$(W.ddContainerId);if(!n){throw new Error("ddContainer was not found! id: "+W.ddContainerId);}c.addHandler(n,c.Browser.dragDropEvent.eStart,N);c.addGlobalHandler((c.Browser.isIE?"body":"window"),c.Browser.dragDropEvent.eEnd,L,"SharedUIDragDropMouseUpInAllWindow",{});if(O.BoundsChanged){O.BoundsChanged.addHandler(K);}}function o(){if(B){return;}k();Q.Dispose.fireHandlers();O.Dispose.removeHandler(o);if(O.BoundsChanged){O.BoundsChanged.removeHandler(K);}c.removeHandler(n,c.Browser.dragDropEvent.eStart,N);c.removeHandler(d,c.Browser.dragDropEvent.eMove,M);c.removeGlobalHandler("SharedUIDragDropMouseUpInAllWindow");W=null;O=null;E=null;Q.DragStart=null;Q.DragVertical=null;Q.DragHorizontal=null;Q.DragMove=null;Q.DragEnd=null;Q.BoundReached=null;Q.BoundLeave=null;Q.SoftBoundReached=null;Q.Dispose=null;B=true;}x();}})(window,WA,WA.jq$);(function(d,c,b){if(!c.UI.DragDropSelector){c.UI.DragDropSelector=a;}function a(n){var u=this,C="WA.UI.DragDropSelector",D=n,t=D.parentComponent;u.toString=function(){return C;};u.RenderComplete=c.Tools.EventHandlers.createHandlers(u,{id:"RenderComplete"});u.Dispose=c.Tools.EventHandlers.createHandlers(u,{id:"Dispose"});u.FilesSelect=c.Tools.EventHandlers.createHandlers(u,{id:"FilesSelect"});var o=false,A,j,i,B,l,k=D.id+"_dropZoneHolder";u.render=v;u.startWatch=x;u.stopWatch=z;function v(){return c.UI.DragDropSelectorTemplate(D);}function p(F,E){u.RenderComplete.fireHandlers();}function x(E){if(!E){throw new Error("target was not defined!");}A=E;c.addGlobalHandler("window","dragover",q,D.id+"_dragover");c.addGlobalHandler("window","drop",r,D.id+"_drop");c.addGlobalHandler("window","mouseover",y,D.id+"_mouseover");c.addGlobalHandler("window","resize",s,D.id+"_resize");}function g(){j=c.$(k);if(!j){j=d.document.createElement("DIV");j.id=k;d.document.body.appendChild(j);}}function e(){var E=document.createElement("DIV");E.innerHTML=c.UI.DragDropSelectorTemplate(D);i=j.appendChild(E.firstChild);l=c.$(D.id+c.UI.DragDropSelectorTemplate.idDropZoneFilmPosfix);E=null;}function q(E){c.stopEvent(E);f();c.Dom.removeClassName(i,"out");}function r(E){c.stopEvent(E);y();if(E.target!=l){return false;}u.FilesSelect.fireHandlers({files:E.dataTransfer.files});}function s(){f();}function y(E){c.stopEvent(E);w();c.Dom.addClassName(i,"out");return false;}function f(){B=c.Dimensions.getElementAbsXY(A);i.style.bottom=B.bottom+"px";i.style.left=B.left+"px";i.style.right=B.right+"px";i.style.top=B.top+"px";i.style.width=B.width+"px";i.style.height=B.height+"px";}function w(){i.style.bottom="";i.style.left="";i.style.right="";i.style.top="";i.style.width="";i.style.height="";}function z(){c.removeGlobalHandler(D.id+"_dragover");c.removeGlobalHandler(D.id+"_drop");c.removeGlobalHandler(D.id+"_mouseover");c.removeGlobalHandler(D.id+"_resize");}function m(){t.RenderComplete.addHandler(p);t.Dispose.addHandler(h);g();e();}function h(){if(o){return;}u.Dispose.fireHandlers();t.RenderComplete.removeHandler(p);t.Dispose.removeHandler(h);D=null;t=null;u.RenderComplete=null;u.Dispose=null;u.FilesSelect=null;A=null;j=null;k=null;i=null;B=null;l=null;o=true;}m();}})(window,WA);(function(d,c,b){if(!c.UI.DragDropSelectorTemplate){c.UI.DragDropSelectorTemplate=a;c.UI.DragDropSelectorTemplate.idPostfix="_DragDropSelector";c.UI.DragDropSelectorTemplate.idDropZonePostfix="_DropZonePostfix";c.UI.DragDropSelectorTemplate.idDropZoneFilmPosfix="_DropZoneFilmPostfix";}function a(f){var e=c.UI.ContainerTemplate;return e({id:f.id+c.UI.DragDropSelectorTemplate.idDropZonePostfix,cssClass:"dropZone out",contentHTML:c.UI.DragDropSelectorGenericBackgroundTemplate(f)+e({id:f.id+c.UI.DragDropSelectorTemplate.idDropZoneFilmPosfix,cssClass:"dropZoneFilm"})});}})(window,WA);(function(d,c,b){if(!c.UI.DragDropSelectorGenericBackgroundTemplate){c.UI.DragDropSelectorGenericBackgroundTemplate=a;c.UI.DragDropSelectorGenericBackgroundTemplate.IdBackgroundContainerPostfix="_BackgroundContainer";}function a(f){var e=c.UI.ContainerTemplate,g=c.UI.TextControlSimpleTemplate;return e({id:f.id+c.UI.DragDropSelectorGenericBackgroundTemplate.IdBackgroundContainerPostfix,cssClass:"dropZoneGenericBackground",contentHTML:e({cssClass:"borderContainer",contentHTML:g({cssClass:"dropZoneTitle",contentText:f.resources.title})})});}})(window,WA);(function(d,c,b){if(!c.UI.DropdownColorPicker){c.UI.DropdownColorPicker=a;}function a(k,j,r){j=j||{};var o=this,u="WA.UI.DropdownColorPicker",w=k,n=j.parentComponent,q=w.resources;o.toString=function(){return u;};o.RenderComplete=c.Tools.EventHandlers.createHandlers(o,{id:"RenderComplete"});o.Dispose=c.Tools.EventHandlers.createHandlers(o,{id:"Dispose"});o.ValueChanged=c.Tools.EventHandlers.createHandlers(o,{id:"ValueChanged"});var e,v;o.render=p;o.setColor=s;o.setCustomColors=t;o.enableColorPicker=h;o.disableColorPicker=f;function p(){return c.UI.DropdownColorPickerTemplate(w);}function s(x){e.setPreviewIconColor(x);}function t(x){e.setCustomColors(x);}function h(){e.enableColorPickerButton();}function f(){e.disableColorPickerButton();}function m(y,x){o.RenderComplete.fireHandlers();}function l(y,x){if(!x||!x.selectedColor){}v.setValue(x.selectedColor);o.ValueChanged.fireHandlers(x);}function i(){v=c.UI.Helpers.ValueAccessorHelper.createValueAccessor(k,o);e=c.Object.create(c.UI.ColorPickerDropdownButton,[{id:w.id,selectedColor:v.getValue(),resources:q},{parentComponent:o,session:r}]);e.ColorSelected.addHandler(l);if(n){n.RenderComplete.addHandler(m);n.Dispose.addHandler(g);}}function g(){o.Dispose.fireHandlers();if(n){n.RenderComplete.removeHandler(m);n.Dispose.removeHandler(g);}e=null;w=null;n=null;v=null;o.RenderComplete=null;o.Dispose=null;o.ValueChanged=null;}i();}})(window,WA);(function(d,c,b){if(!c.UI.DropdownColorPickerTemplate){c.UI.DropdownColorPickerTemplate=a;}function a(h){var g=c.UI.ContainerTemplate,f=c.UI.ColorPickerDropdownButtonTemplate,e=c.UI.ControlLayoutTemplate;h.controlContainerDisplayType=h.controlContainerDisplayType?h.controlContainerDisplayType:c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;h.cssClass="dropdownColorPicker"+(h.cssClass?" "+h.cssClass:"");h.layoutContentHTML=f({id:h.id});return e(h);}})(window,WA);(function(d,c,b){if(!c.UI.ColorPickerDropdownOption){c.UI.ColorPickerDropdownOption=a;}function a(j,i,t){i=i||{};var q=this,v="WA.UI.ColorPickerDropdownOption",w=j,p=i.parentComponent,s=j.resources;q.toString=function(){return v;};q.OptionClick=c.Tools.EventHandlers.createHandlers(q,{id:"OptionClick"});q.RenderComplete=c.Tools.EventHandlers.createHandlers(q,{id:"RenderComplete"});q.Dispose=c.Tools.EventHandlers.createHandlers(q,{id:"Dispose"});q.ValueChanged=c.Tools.EventHandlers.createHandlers(q,{id:"Dispose"});var f,e;q.init=h;q.render=r;q.setCustomColors=u;function r(){return c.UI.ColorPickerDropdownOptionTemplate(w);}function u(x){e.setCustomColors(x);}function o(y,x){f=c.$(w.id+c.UI.ColorPickerDropdownOptionTemplate.Postfix);c.addHandler(f,"click",l);c.addHandler(f,"mouseover",n);c.addHandler(f,"mouseout",m);q.RenderComplete.fireHandlers();}function n(x){}function m(x){}function l(x){var y=c.getEventTags(x);if(w.action){w.action();}if(y){q.OptionClick.fireHandlers({eventTags:y});}}function k(y,x){q.ValueChanged.fireHandlers(x);}function h(){e=new c.UI.ColorPicker({id:w.id+c.UI.ColorPickerDropdownOptionTemplate.Postfix,attr:w.attr,value:w.value,automaticValue:w.automaticValue,resources:s},{parentComponent:q});e.ValueChanged.addHandler(k);p.RenderComplete.addHandler(o);p.Dispose.addHandler(g);}function g(){q.Dispose.fireHandlers();p.RenderComplete.removeHandler(o);p.Dispose.removeHandler(g);if(f){c.removeHandler(f,"click",l);c.removeHandler(f,"mouseover",n);c.removeHandler(f,"mouseout",m);}e=null;w=null;p=null;q.OptionClick=null;q.RenderComplete=null;q.Dispose=null;}}})(window,WA);(function(d,c,b){if(!c.UI.ColorPickerDropdownOptionTemplate){c.UI.ColorPickerDropdownOptionTemplate=a;c.UI.ColorPickerDropdownOptionTemplate.Postfix="_colorPicker";}function a(f){var e=c.UI.ContainerTemplate;return e({cssClass:"colorPickerDropdownOption",id:f.id+"_colorPickerDropdownOption",attr:f.attr,contentHTML:c.UI.ColorPickerTemplate({id:f.id+c.UI.ColorPickerDropdownOptionTemplate.Postfix,attr:f.attr,cssClass:"colorPicker",resources:f.resources})});}})(window,WA);(function(d,c,b){if(!c.UI.ColorPickerDropdownButton){c.UI.ColorPickerDropdownButton=a;}function a(w,v,H){v=v||{};var E=this,O="WA.UI.ColorPickerDropdownButton",Q=w,D=v.parentComponent,G=w.resources;E.toString=function(){return O;};E.ColorSelected=c.Tools.EventHandlers.createHandlers(E,{id:"ColorSelected"});E.RenderComplete=c.Tools.EventHandlers.createHandlers(E,{id:"RenderComplete"});E.Dispose=c.Tools.EventHandlers.createHandlers(E,{id:"Dispose"});E.init=u;E.render=F;E.enableColorPickerButton=q;E.disableColorPickerButton=h;E.setPreviewIconColor=J;E.setCustomColors=I;E.isEnabled=true;var g,j,p=false,m=Q.id+"_dropDown",r=Q.id+"_globalMouseDown",t=50,o={top:0},n="colorPickerDropDown",l="colorPickerDownListContainer",k={verticalAlign:c.UI.WaDropDown.VerticalAlign.Bottom,horizontalAlign:c.UI.WaDropDown.HorizontalAlign.Left,verticalOpenDirection:c.UI.WaDropDown.VerticalOpenDirection.Bottom,horizontalOpenDirection:c.UI.WaDropDown.HorizontalOpenDirection.Right},M=Q.targetElementId||Q.id,f,N;function q(){var S=Q.frameWindow||d;var R=c.$(Q.id,S);c.Dom.removeClassName(R,c.Templates.UI.Css.ColorPickerDropdownButtonTemplate.DisabledCssClass);E.isEnabled=true;}function h(){var S=Q.frameWindow||d;var R=c.$(Q.id,S);c.Dom.addClassName(R,c.Templates.UI.Css.ColorPickerDropdownButtonTemplate.DisabledCssClass);K();J();E.isEnabled=false;}function L(){if(p){return;}j.showDropDown();c.Dom.addClassName(g,"active");}function s(){if(!p){return;}j.hideDropDown();c.Dom.removeClassName(g,"active");}function I(S){var R=j.getOptions()[0];R.setCustomColors(S);}function J(R){if(!R||R.toLowerCase()=="transparent"||R.toLowerCase()=="automatic"){c.Dom.addClassName(f,"transparent");f.style.backgroundColor="";}else{c.Dom.removeClassName(f,"transparent");f.style.backgroundColor=R.toLowerCase();}K(R);}function K(R){if(!R||R.toLowerCase()=="automatic"){N.innerHTML=c.UI.ColorPickerDropdownButtonTemplate.Texts.AutomaticColor;return;}if(R.toLowerCase()=="transparent"){N.innerHTML=c.UI.ColorPickerDropdownButtonTemplate.Texts.TransparentColor;return;}N.innerHTML=R.toUpperCase();}function C(S,R){g=c.$(Q.id);c.addHandler(g,"click",y);f=c.$(Q.id+"_colorPickerPreviewIcon");N=c.$(Q.id+"_colorPickerTitle");J(Q.selectedColor);E.RenderComplete.fireHandlers();}function y(S,R){if(!E.isEnabled){return;}if(p){s();return;}L();}function A(S,R){c.addGlobalMouseDown(B,r);p=true;}function z(S,R){c.Dom.removeClassName(g,"active");c.removeGlobalHandler(r);c.throttle(P,200);}function P(){p=false;}function B(R){var T=c.getEventTarget(R);var S=c.jq$(T).parents("#"+m).length>0;if(!S){s();}}function x(S,R){s();E.ColorSelected.fireHandlers({selectedColor:R.value});J(R.value);}function F(){return c.Templates.UI.ColorPickerDropdownButtonTemplate(Q);}function u(){D.RenderComplete.addHandler(C);D.Dispose.addHandler(i);j=new c.UI.WaDropDown({id:m,cssClass:n,containerCssClass:l,targetElementId:M,align:k,offset:o,dropDownOptionModels:[{id:Q.id+"_dropDown_option",resources:G,value:Q.selectedColor}],optionsType:c.UI.ColorPickerDropdownOption},{parentComponent:E,session:H,zIndex:40000});j.DropDownShown.addHandler(A);j.DropDownHidden.addHandler(z);j.ValueChanged.addHandler(x);}function e(){c.clearThrottle(s);}function i(){e();E.Dispose.fireHandlers();D.RenderComplete.removeHandler(C);D.Dispose.removeHandler(i);if(g){c.removeHandler(g,"click",y);}Q=null;g=null;p=false;D=null;f=null;N=null;E.ColorSelected=null;E.RenderComplete=null;E.Dispose=null;}}})(window,WA);(function(d,c,b){if(!c.UI.ColorPickerDropdownButtonTemplate){c.UI.ColorPickerDropdownButtonTemplate=a;c.Templates.UI.Css.ColorPickerDropdownButtonTemplate={DisabledCssClass:"Disabled"};}function a(f){var e=c.UI.ContainerTemplate;return e({cssClass:"colorPickerDropdownButton",id:f.id,attr:{eventTags:f.eventTags},contentHTML:e({cssClass:"colorPickerPreviewContainer",id:f.id+"_colorPickerPreviewContainer",attr:{eventTags:f.eventTags},contentHTML:e({cssClass:"colorPickerPreviewIcon",id:f.id+"_colorPickerPreviewIcon",attr:{eventTags:f.eventTags}})})+e({cssClass:"colorPickerTitleContainer",id:f.id+"_colorPickerTitleContainer",attr:{eventTags:"colorPickerTitleContainer"},contentHTML:e({cssClass:"colorPickerTitle",id:f.id+"_colorPickerTitle",attr:{eventTags:f.eventTags}})})+e({cssClass:"colorPickerArrow",id:f.id+"_colorPickerArrow",attr:{eventTags:f.eventTags}})});}c.UI.ColorPickerDropdownButtonTemplate.Texts={TransparentColor:"Transparent",AutomaticColor:"Automatic"};})(window,WA);(function(c,b){if(!b.UI.EditableList){b.UI.EditableList=a;b.UI.EditableList.TypeName="WA.UI.EditableList";b.UI.EditableList.LazyInitChunkSize=50;b.UI.EditableList.LazyInitTimeout=10;}function a(s,p){p=p||{};p.currentWindow=p.currentWindow||c;var H=this,P=b.UI.EditableList.TypeName,F=p.parentComponent,Q=s;H.toString=function(){return P;};H.ValueChanged=b.Tools.EventHandlers.createHandlers(H,{id:"ValueChanged"});H.RenderComplete=b.Tools.EventHandlers.createHandlers(H,{id:"RenderComplete"});H.ValidationFailed=b.Tools.EventHandlers.createHandlers(H,{id:"ValidationFailed"});H.Dispose=b.Tools.EventHandlers.createHandlers(H,{id:"Dispose"});H.VisualStateChanged=b.Tools.EventHandlers.createHandlers(H,{id:"VisualStateChanged"});H.ContentScroll=b.Tools.EventHandlers.createHandlers(H,{id:"ContentScroll"});H.AddButtonClick=b.Tools.EventHandlers.createHandlers(H,{id:"AddButtonClick"});H.EditableListInitialized=b.Tools.EventHandlers.createHandlers(H,{id:"EditableListInitialized"});H.render=J;H.dispose=k;H.isAdditionEnabled=t;H.isDeletionEnabled=u;H.addElement=g;H.processScroll=G;H.setErrorState=L;H.isInitialized=v;H.renderComplete=C;var l,h=[],i={},f=0,m,d,e,x=!!Q.lazyInit,y=Q.lazyInitTimeout||b.UI.EditableList.LazyInitTimeout,q=!x?Q.elements.length:(Q.lazyInitChunkSize||b.UI.EditableList.LazyInitChunkSize),w=false,N=Q.showElementNumbers===true,O;function v(){return h.length==Q.elements.length;}function L(S){for(var R=0,T=h.length;R<T;R++){if(b.getTypeString(h[R].setErrorState)=="function"){h[R].setErrorState(S);}}if(S===true){b.Dom.addClassName(l,"error");}else{b.Dom.removeClassName(l,"error");}}function G(){H.ContentScroll.fireHandlers();}function J(){return b.UI.EditableListTemplate(Q);}function A(S,R){H.ValueChanged.fireHandlers(R);}function E(){H.VisualStateChanged.fireHandlers();}function C(){if(!v()){return;}w=true;l=b.$(Q.id+b.UI.EditableListTemplate.IdContainerPostfix);e=l.lastChild;b.addHandler(l,"click",B);H.RenderComplete.fireHandlers();}function D(){H.ValidationFailed.fireHandlers();}function K(U){var R,S,T;U=U||0;for(var R=U,S=h.length;R<S;R++){i[h[R].getId()]=R;if(w&&N){T=b.$(b.UI.EditableListHelper.getElementNumberId(Q.elements[R].id),p.currentWindow);if(T){T.innerHTML=b.UI.EditableListHelper.getElementNumber(R);}}}}function u(){return b.UI.EditableListHelper.isDeletionEnabled(Q);}function t(){return b.UI.EditableListHelper.isAdditionEnabled(Q);}function B(R){var S=b.getEventTags(R,p.currentWindow),T=(""+S).split(" ");if(T[0]!=b.UI.EditableListHelper.DeleteIconEventTag){return;}if(T[1]){I(T[1]);}}function I(S){if(!u()){return;}var T=i[S],V=b.UI.EditableListHelper.getWrapperId(Q.elements[T].id),R=h[T],U;R.dispose();h.splice(T,1);Q.elements.splice(T,1);K(T);if(w){U=b.$(V,p.currentWindow);l.removeChild(U);if(!u()){n();}if(t()){d.showLink();}}H.ValueChanged.fireHandlers({removedElementId:S});H.VisualStateChanged.fireHandlers();}function g(S){if(!t()){return;}S=S||b.Object.copy(Q.newElementModelPrototype);if(!S){throw new Error("elementModel was not defined.");}var R=Q.elements.length;S.id=S.id||Q.id+"_added_"+(f++);j(S,R);if(w){if(u()){M();}if(!t()){d.hideLink();}b.Dom.insertAdjacentHTML(e,b.UI.EditableListTemplate.getElementHtml(Q,S,R),"beforeBegin");h[R].renderComplete();}H.ValueChanged.fireHandlers({newElementId:S.id,newElementWrapperId:b.UI.EditableListHelper.getWrapperId(S.id)});H.VisualStateChanged.fireHandlers();}function M(){b.Dom.removeClassName(l,b.UI.EditableListTemplate.DeletionDisabledCssClass);}function n(){b.Dom.addClassName(l,b.UI.EditableListTemplate.DeletionDisabledCssClass);}function j(S,T){var R=b.UI.ControlFactory.createControl(S.layoutControlType,S,{parentComponent:H},{events:{contentScroll:H.ContentScroll}});Q.elements[T]=S;h[T]=R;i[S.id]=T;if(R.ValueChanged){R.ValueChanged.addHandler(A);}if(R.VisualStateChanged){R.VisualStateChanged.addHandler(E);}}function z(){if(!t()){return;}if(Q.newElementModelPrototype){g();}else{H.AddButtonClick.fireHandlers();}}function r(){var S=h.length,R=Q.elements.length,T=Math.min(S+q,R);for(;S<T;S++){j(Q.elements[S],S);}if(h.length<R){b.throttle(r,y);}else{H.EditableListInitialized.fireHandlers();}}function o(){F.RenderComplete.addHandler(C);F.Dispose.addHandler(k);Q.elements=Q.elements||[];if(F.ValidationFailed){F.ValidationFailed.addHandler(D);}r();d=new b.UI.Link(b.UI.EditableListHelper.getAddButtonModel(Q),{parentComponent:H});d.ButtonClick.addHandler(z);O=new b.UI.ToolTip({id:Q.id+"_toolTip",target:Q.id+b.UI.EditableListTemplate.IdContainerPostfix},{parentComponent:H,trackMouse:true,replaceTitleAttr:true});}function k(){b.clearThrottle(r);if(l){b.removeHandler(l,"click",B);}H.Dispose.fireHandlers();F.RenderComplete.removeHandler(C);F.Dispose.removeHandler(k);if(F.ValidationFailed){F.ValidationFailed.removeHandler(D);}Q=null;F=null;l=null;h=null;i=null;m=null;d=null;e=null;O=null;H.ValueChanged=null;H.RenderComplete=null;H.Dispose=null;H.ValidationFailed=null;H.VisualStateChanged=null;H.ContentScroll=null;H.AddButtonClick=null;H.EditableListInitialized=null;}o();}})(window,WA);(function(j,i,h){if(!i.UI.EditableListHelper){i.UI.EditableListHelper={getAddButtonModel:a,isAdditionEnabled:f,isDeletionEnabled:g,getWrapperId:e,getElementNumberId:c,getElementNumber:b,getElementsNumberCssClass:d};i.UI.EditableListHelper.WrapperIdPostfix="_editableListWrapper";i.UI.EditableListHelper.AddButtonIdPostfix="_addButton";i.UI.EditableListHelper.DeleteIconIdPostfix="_deleteIcon";i.UI.EditableListHelper.DeleteIconEventTag="waEditableListDeleteIcon";i.UI.EditableListHelper.ElementNumberIdPostfix="_elementNumber";i.UI.EditableListHelper.IconPosition={Left:"left",Right:"right"};}function d(k){return"numberLength"+(""+k.elements.length).length;}function b(k){return i.String.format("{0}.",(k+1));}function c(k){return k+i.UI.EditableListHelper.ElementNumberIdPostfix;}function e(k){return k+i.UI.EditableListHelper.WrapperIdPostfix;}function a(k){return{id:k.id+i.UI.EditableListHelper.AddButtonIdPostfix,jsAction:true,isHidden:!f(k),contentText:k.resources.AddButtonTextLabel};}function f(k){return(k.maxElements||Number.MAX_VALUE)>k.elements.length;}function g(k){return(k.minElements||0)<k.elements.length;}})(window,WA);(function(e,d,c){if(!d.UI.EditableListTemplate){d.UI.EditableListTemplate=a;d.UI.EditableListTemplate.getElementHtml=b;d.UI.EditableListTemplate.IdContainerPostfix="_editableListContainer";d.UI.EditableListTemplate.DeletionDisabledCssClass="waEditableListDeletionDisabled";d.UI.EditableListTemplate.DefaultIconPadding=7;}function a(q){var n=q.id,h=d.UI.IndentTemplate,k="",l,p,g="waEditableListMainContainer",f=d.UI.Helpers.ControlHelper.createContainerAttributes(q),o=0;g+=q.cssClass?" "+q.cssClass:"";g+=d.UI.EditableListHelper.isDeletionEnabled(q)?"":" "+d.UI.EditableListTemplate.DeletionDisabledCssClass;g+=" "+d.UI.EditableListHelper.getElementsNumberCssClass(q);if(d.getTypeString(q.elements)=="array"){for(l=0,p=q.elements.length;l<p;l++){k+=b(q,q.elements[l],l);}}k+=d.UI.ContainerTemplate({contentHTML:d.UI.LinkTemplate(d.UI.EditableListHelper.getAddButtonModel(q)),cssStyle:(q.elementOffset?"padding-bottom: "+q.elementOffset+"px;":"")+(q.showElementNumbers===true&&q.elementNumberWidth?" padding-left:"+(q.elementNumberWidth+7)+"px;":"")});if(d.getTypeString(q.width)=="number"){f.style=f.style||{};f.style.width=q.width+"px";}return h({id:n+d.UI.EditableListTemplate.IdContainerPostfix,cssClass:g,contentHTML:k,attr:f});}function b(k,h,g){var f=d.UI.ControlFactory.createTemplate(h.layoutControlType),j=d.UI.ContainerTemplate,l=k.showElementNumbers===true,n=d.UI.EditableListHelper.getWrapperId(h.id),i=k.elementOffset?"padding-bottom: "+k.elementOffset+"px;":"";return j({id:n,cssClass:"waEditableListControlWrapper",contentHTML:(l?j({id:d.UI.EditableListHelper.getElementNumberId(h.id),cssClass:"waEditableListControlWrapperNumber",contentText:d.UI.EditableListHelper.getElementNumber(g),cssStyle:i+(k.elementNumberWidth?" width:"+k.elementNumberWidth+"px;":"")}):"")+j({cssClass:"waEditableListControlWrapperContainer",contentHTML:f(h),cssStyle:i})+j({cssClass:"waEditableListControlWrapperIcon",contentHTML:d.UI.IconTemplate({id:n+"_deleteIcon",iconType:d.UI.IconType.Cross,attr:{eventTags:d.UI.EditableListHelper.DeleteIconEventTag+" "+h.id},iconTitle:k.resources.DeleteIconToolTipTextLabel,iconSize:d.UI.IconTemplate.IconSize.Medium}),cssStyle:i+"padding-left: "+(k.iconPadding||d.UI.EditableListTemplate.DefaultIconPadding)+"px;"})});}})(window,WA);(function(d,c){var b="WA.UI.EditDividerDialog";if(!c.UI.EditDividerDialog){c.UI.EditDividerDialog=a;}function a(m,k){k=k||{};var q=this,s=m,o=k.parentComponent;q.RenderComplete=c.Tools.EventHandlers.createHandlers(q,{id:"RenderComplete"});q.Dispose=c.Tools.EventHandlers.createHandlers(q,{id:"Dispose"});q.Cancel=c.Tools.EventHandlers.createHandlers(q,{id:"Cancel"});q.toString=function(){return b;};q.show=r;q.hide=h;q.init=j;q.dispose=f;q.initialize=l;q.getParameters=g;q.callBackParameters=s.waDialogParameters.callBackParameters;var i="idEditDividerDialog",e,p;function j(){p=c.UI.WaWindowManager.createDialog(s.id,s.waDialogParameters);p.Cancel.addHandler(n);p.setFooter(c.UI.EditDividerDialogTemplate.getFooterHTML({elementBaseId:s.id}));p.setTitle(s.waDialogParameters.titleText);}function h(){if(p.closeWindow){p.closeWindow();}else{p.hide();}if(e){e.dispose();e=null;}p.setContent("");}function r(){e=c.Object.create(c.UI.EditDividerDialogContent,[{id:i+c.UI.EditDividerDialogContentTemplate.Postfix,backgroundColor:s.backgroundColor?s.backgroundColor:"#FFFFFF",parameters:s.waDialogParameters.callBackParameters,resources:{themeColors:s.waDialogParameters.callBackParameters.themeResources.colors,dividerStyles:s.waDialogParameters.callBackParameters.themeResources.dividerStyles}},{parentComponent:q}]);var t=e.render();p.setContent(t);p.show();q.RenderComplete.fireHandlers();}function n(){if(!e){return;}e.dispose();e=null;p.setContent("");q.Cancel.fireHandlers();}function g(){return e.getParameters();}function l(t){p=t;}function f(){q.Dispose.fireHandlers();q.RenderComplete=null;q.Dispose=null;q.Cancel=null;}}})(window,WA);(function(d,c){var b="WA.UI.EditDividerDialogTemplate";if(!c.UI.EditDividerDialogTemplate){c.UI.EditDividerDialogTemplate=c.Object.create(a);}function a(){var g=this;g.toString=function(){return b;};g.init=function(){};g.dispose=function(){};g.getContentHTML=e;g.getFooterHTML=f;function e(i){var h=['<div id="dialogDiv">',"Dialog HTML","</div>",'<div id="colorPickerDiv">',c.UI.DropdownColorPickerTemplate({id:"EventDividerDialog_colorPicker"}),"</div>"];return h.join("");}function f(i){var h=['<div align="center" class="actionButtons">','<input type="button" id="'+i.elementBaseId+'_SaveButton" value="Insert">','<input type="button" id="'+i.elementBaseId+'_CancelButton" value="Cancel">',"</div>"];return h.join("");}}})(window,WA);(function(d,c,b){if(!c.UI.EditDividerDialogContent){c.UI.EditDividerDialogContent=a;}function a(m,l){l=l||{};var v=this,y="WA.UI.Dialogs.EditDividerDialogContent",z=m,u=l.parentComponent,x=z.resources;v.toString=function(){return y;};v.RenderComplete=c.Tools.EventHandlers.createHandlers(v,{id:"RenderComplete"});v.Dispose=c.Tools.EventHandlers.createHandlers(v,{id:"Dispose"});v.init=k;v.render=w;v.dispose=h;v.getParameters=j;var f,n,i,g="#000000",o,p;function j(){e();var A={cssClass:i.getSelectedClass(),inlineStyle:i.getSelectedInlineStyle()};return A;}function w(){return c.UI.EditDividerDialogContentTemplate(z);}function r(B,A){if(A.weight==null){n.disable();n.setValue("");}else{n.enable();n.setValue(A.weight);}if(A.borderColor==null){f.disableColorPicker();}else{f.enableColorPicker();f.setColor(A.borderColor);}}function q(B,A){o=A.selectedColor;}function s(B,A){p=n.getValue();}function e(){i.setWidth(p);i.setColor(o);}function t(B,A){v.RenderComplete.fireHandlers();}function k(){i=c.Object.create(c.UI.DividerList,[{id:z.id+"_dividerList",parameters:z.parameters,resources:{dividerStyles:x.dividerStyles}},{parentComponent:v}]);i.ValueChanged.addHandler(r);f=new c.UI.DropdownColorPicker({id:z.id+"_colorPicker",value:z.value||g,resources:{customColorLabel:"Select",enterHexColorLabel:"Hex code #",setAutomaticColorLabel:"Automatic",themeColorsLabel:"Theme Colors",themeColors:x.themeColors}},{parentComponent:v});f.ValueChanged.addHandler(q);n=new c.UI.NumberTextbox({id:z.id+"_lineWeight",minValue:1,maxValue:99,resources:{intMinValue:-3777773,intMaxValue:3777773}},{parentComponent:v});n.ValueChanged.addHandler(s);u.RenderComplete.addHandler(t);u.Dispose.addHandler(h);}function h(){v.Dispose.fireHandlers();u.RenderComplete.removeHandler(t);u.Dispose.removeHandler(h);z=null;u=null;f=null;n=null;i=null;v.RenderComplete=null;v.Dispose=null;}}})(window,WA);(function(d,c,b){if(!c.UI.EditDividerDialogContentTemplate){c.UI.EditDividerDialogContentTemplate=a;c.UI.EditDividerDialogContentTemplate.Postfix="EditDividerDialogContent";}function a(g){var f=c.UI.ContainerTemplate,e=c.UI.DropdownColorPickerTemplate,h=c.UI.NumberTextboxTemplate;return f({cssClass:"dividerListContainer",contentHTML:c.UI.DividerListTemplate({id:g.id+"_dividerList"})})+e({id:g.id+"_colorPicker",controlContainerDisplayType:c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed,width:135,prefix:c.UI.EditDividerDialogContentTemplate.Texts.Label_ColorPicker})+h({id:g.id+"_lineWeight",prefix:c.UI.EditDividerDialogContentTemplate.Texts.Label_Weight,postfix:c.UI.EditDividerDialogContentTemplate.Texts.Label_Weight_Postfix});}c.UI.EditDividerDialogContentTemplate.Texts={Label_ColorPicker:"Select color",Label_Weight:"Line weight",Label_Weight_Postfix:"px"};})(window,WA);(function(d,c,b){if(!c.UI.DividerList){c.UI.DividerList=a;}function a(s,o){o=o||{};var D=this,W="WA.UI.DividerList",X=s,C=o.parentComponent,F=X.resources;D.toString=function(){return W;};D.RenderComplete=c.Tools.EventHandlers.createHandlers(D,{id:"RenderComplete"});D.Dispose=c.Tools.EventHandlers.createHandlers(D,{id:"Dispose"});D.ValueChanged=c.Tools.EventHandlers.createHandlers(D,{id:"ValueChanged"});D.init=n;D.render=E;D.setColor=T;D.setWidth=V;D.getSelectedClass=l;D.getSelectedInlineStyle=m;D.isSingleBorderStyle=x;D.isDoubleBorderStyle=t;D.isImageStyle=u;var v=false,w=false,z,y,H=X.selectedDivNum||0,G,i=F.dividerStyles;var Q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAALCAYAAABcUvyWAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowOTgwMTE3NDA3MjA2ODExODA4M0YxRkJDOTBBNjVCNCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZD",R=Q+"pFNkY5MTBDQzk1M0QxMUUyQjQ3NEU0MTM5NTQ5M0NFQyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNkY5MTBDQjk1M0QxMUUyQjQ3NEU0MTM5NTQ5M0NFQyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxQTI0MDA1NzNCOTVFMjExQjAxM0EzNTA0NkFDQUFCOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowOTgwMTE3NDA3MjA2ODExODA4M0YxRkJDOTBBNjVCNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pqm7qXsAAACtSURBVHjaYmRAAJYFpzJCBES48tjYWfRZoIJsi89n9QqL8+TAVYFw76aoGCEx7pz///8x/GdgBEIGBiYg5hGT5csHCwLxzfNPX6bZzV0K0iHIzc+m/g8oCAJTynYveHr33T6QBBcTMyP7v38gif8M96+93gdkHAfb8e/fXyAFMRsI3gDxF5AEI8xSIAECYK1g5/79+48BphzZuQz//v+FqP7PiCbx7x8DOgAIMACJREEDiIy2/AAAAABJRU5ErkJggg==",S=Q+"o0MDA4OTg3Qzk1M0UxMUUyOTJGNkUwNTNFQTRGODU0MSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo0MDA4OTg3Qjk1M0UxMUUyOTJGNkUwNTNFQTRGODU0MSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxQTI0MDA1NzNCOTVFMjExQjAxM0EzNTA0NkFDQUFCOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowOTgwMTE3NDA3MjA2ODExODA4M0YxRkJDOTBBNjVCNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtSM47oAAADFSURBVHjaYtz2tOzrr59/Ln54821igtmMtQwMDH+AmIGJgZGBi42TxVJMhm/FkvNZ/UAxNrDEv///Gf7//8fwD4gFxbhzejdFxwLFWZgy7OYuvXnu+UsGkIJ//xjEZPnygBI8TE/uvls0uWzXgn9AQRDk5mdVB0oIMgGJ4/evvd4HMgokycTMyA4U42IBEl+A+A1IkBHI+A8igHaAJP4DMVD8L5BihHIZGFkYoABkFFwYpAUu8ReogxEhhaTjL9wCEAAIMABMFFRm+aTYNwAAAABJRU5ErkJggg==",P=Q+"o1MDdFNEY2Qzk1M0UxMUUyQjYwNkQ4N0UyOEEwQzZCQSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1MDdFNEY2Qjk1M0UxMUUyQjYwNkQ4N0UyOEEwQzZCQSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxQTI0MDA1NzNCOTVFMjExQjAxM0EzNTA0NkFDQUFCOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowOTgwMTE3NDA3MjA2ODExODA4M0YxRkJDOTBBNjVCNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnGxFNYAAADBSURBVHjaYmSAAINFV+LOQ5j/GeJ0FhuyQCUY/v77CyQZwQgE4BL///1j+M/4n4HxPyOqxN//f4GCDAz/GBA6GM08ZEXBOoDm/Pn19zfIAJbsPit1OS2Bln///4GNf/3s8zMg9YdFx0bsOtwOIH1q++M9QOobyz+gACMjA9iYM7uenNk658Y6oMR7ll+//v59+eDz++NbHp86uOr+MqDgVSD+AjK2HWQ0EN+ACj4H4l8gCW2QmSDtIJUgi0F2AgQYAKsKU4jP7aD/AAAAAElFTkSuQmCC",O=Q+"pGOEI4MTA5Qzk1M0QxMUUyQUQxQ0ZBMUZFRDA3MkQzRSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGOEI4MTA5Qjk1M0QxMUUyQUQxQ0ZBMUZFRDA3MkQzRSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxQTI0MDA1NzNCOTVFMjExQjAxM0EzNTA0NkFDQUFCOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowOTgwMTE3NDA3MjA2ODExODA4M0YxRkJDOTBBNjVCNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlEawAAAAAC9SURBVHjaYmRgYDBYdDXuPMN/IAtIxOksNgQyLrCAuH///mVgBAsjAFji3/9/qKJwiX//gDpQZZhAJvz+8ecXSPLfv/8M5p5yYkAxRmYgIWLmKePHLcAmANKjpCusrqgrtB+k49upHY/3gHT8//eXgVeY1czISfI2SAfD7XNvvojJcatLKvNKgewC6QRJ/AHiHxf2P3/27fNvDl4hNkFOXlZ2Rqgj2IBYEoh1gFgdiEUZ0ZzOA8SCQMwFEGAAgwY91PGQnkYAAAAASUVORK5CYII=",K="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAABCAYAAAAW/mTzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowOTgwMTE3NDA3MjA2ODExODA4M0YxRkJDOTBBNjVCNCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo",J=K+"zMUZDNjc3Qzk1M0UxMUUyOUY4NEREMkYxMzQxRjZGQiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozMUZDNjc3Qjk1M0UxMUUyOUY4NEREMkYxMzQxRjZGQiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxQTI0MDA1NzNCOTVFMjExQjAxM0EzNTA0NkFDQUFCOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowOTgwMTE3NDA3MjA2ODExODA4M0YxRkJDOTBBNjVCNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pqi4XqUAAAAaSURBVHjaYmRgYDBYci3hPAMUxGgtMAQIMAAtRgQyrsZCigAAAABJRU5ErkJggg==",L=K+"1RENCMDBGQzk1M0UxMUUyOEE5N0E4NDA0NDhFODUzNiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1RENCMDBGQjk1M0UxMUUyOEE5N0E4NDA0NDhFODUzNiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxQTI0MDA1NzNCOTVFMjExQjAxM0EzNTA0NkFDQUFCOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowOTgwMTE3NDA3MjA2ODExODA4M0YxRkJDOTBBNjVCNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PuklnXkAAAAfSURBVHjaYmRgYDBYcj3x/P//QBbDf4ZYrQWGAAEGAEpKBzIhNgiTAAAAAElFTkSuQmCC",N="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAFCAYAAACEhIafAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowOTgwMTE3NDA3MjA2ODExODA4M0YxRkJDOTBBNjVCNCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo",M=N+"xQjAxRDVGQzk1M0UxMUUyQjRBMDk4NzNCNUNDRTIxMiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxQjAxRDVGQjk1M0UxMUUyQjRBMDk4NzNCNUNDRTIxMiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxQTI0MDA1NzNCOTVFMjExQjAxM0EzNTA0NkFDQUFCOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowOTgwMTE3NDA3MjA2ODExODA4M0YxRkJDOTBBNjVCNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pux15EoAAAAdSURBVHjaYtj+vPw/0////xnABAj0MwOJlwABBgCmYgqORzAhLAAAAABJRU5ErkJggg==",I=N+"yNjg3RDE0Qzk1M0UxMUUyOEQwMEEyMkJERUI2Q0E5QSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyNjg3RDE0Qjk1M0UxMUUyOEQwMEEyMkJERUI2Q0E5QSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxQTI0MDA1NzNCOTVFMjExQjAxM0EzNTA0NkFDQUFCOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowOTgwMTE3NDA3MjA2ODExODA4M0YxRkJDOTBBNjVCNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PoDQm40AAAAhSURBVHjaYph+OuA/079//xmY/v//xwAC/cxA4iVAgAEAnVMKKIprovoAAAAASUVORK5CYII=";function n(){r();C.RenderComplete.addHandler(B);C.Dispose.addHandler(h);}function E(){return c.UI.DividerListTemplate(X);}function B(Z,Y){v=true;j();}function j(){if(v&&w){D.RenderComplete.fireHandlers();}}function r(){y=frames[X.id+"_dividerListIFrameName"];if(y&&y.document&&!y.isIFrameReloading&&y.document.getElementById("idEndOfPageDiv")&&i){y.document.body.style.backgroundColor=X.backgroundColor;y.document.body.innerHTML=k();z=c.$(X.id+"_dividerListIFrameId");z.setAttribute("scrolling","none");y.document.querySelector("HTML").style.overflow="hidden";U();c.addHandler(y,"resize",U);G=new c.UI.ScrollablePanelV2({id:X.id+c.UI.DividerListTemplate.DividerListScrollablePanelIdPostfix},{parentComponent:D});c.addHandler("Divider","click",g,{window:y,name:"InsertDividerClick"});q();p();w=true;j();}else{setTimeout(r,100);}}function U(){z.style.height=y.document.body.offsetHeight+"px";}function x(Z){var Y=(Z.indexOf("divider_style_border_solid")!==-1||Z.indexOf("divider_style_border_dotted")!==-1||Z.indexOf("divider_style_border_dashed")!==-1);return Y;}function t(Z){var Y=(Z.indexOf("divider_style_border_double_solid")!==-1||Z.indexOf("divider_style_border_double_solid_2_to_1")!==-1);return Y;}function u(ab){var Z=x(ab);var Y=t(ab);var aa=!Z&&(!Y);return aa;}function T(Y){if(!y){return;}var Z=y.document.getElementById("idDivider_"+H);Z.style.borderColor=Y;}function V(Z){if(!y){return;}var Y=y.document.getElementById("idDivider_"+H);if(x(Y.className)){Y.style.borderTopWidth=Z+"px";}else{if(t(Y.className)){Y.style.borderTopWidth=Z+"px";if(Y.className.indexOf("divider_style_border_double_solid_2_to_1")!==-1){Y.style.borderBottomWidth=Math.floor(Z/2)+"px";Y.style.height=Math.floor(Z/2)+"px";}else{Y.style.borderBottomWidth=Z+"px";Y.style.height=Z+"px";}}}e(Y);}function l(){var Y=y.document.getElementById("idDivider_"+H);return Y.className;}function m(){var Y=y.document.getElementById("idDivider_"+H);return Y.style.cssText;}function q(){var Y=s.parameters.iFrameBgColor||"rgb(255, 255, 255)",Z=s.parameters.iFrameBgImage||"none";y.document.body.style.backgroundColor=Y;y.document.body.style.backgroundImage=Z;}function p(){var Y;for(var Z=0;Z<i.length;Z++){Y=y.document.getElementById("idDivider_"+Z);if(f[Y.id]==null){f[Y.id]=0;}e(Y);if(s.parameters.cssClass&&Y.className.indexOf(s.parameters.cssClass)>=0){Y.style.cssText=s.parameters.inlineStyle;H=Z;A();}}H=0;A();}var f={};function e(Y){var Z=Y.parentNode.offsetHeight,aa=Math.floor((Z-Y.offsetHeight)/2);Y.parentNode.style.height=(Z-aa)+"px";Y.parentNode.style.paddingTop=aa+"px";if(c.Browser.isGecko){if(f[Y.id]<7){f[Y.id]++;setTimeout(function(){e(Y);},100*f[Y.id]);}else{f[Y.id]=0;}}}function g(Y){if(!y){return;}H=Y.target.getAttribute("data-divider");A();}function A(){var ad,ab,ae,ac,aa,Z,af,Y=[];for(ad=0;ad<i.length;ad++){ab=y.document.getElementById("idDividerSelector_"+ad);ab.style.opacity=0;}ae=y.document.getElementById("idDividerSelector_"+H);ae.style.opacity=1;ac=y.document.getElementById("idDivider_"+H);aa=ac.className;if(!u(aa)){Z=c.Style.getElementStyle(ac,"borderTopColor",y);if(Z.indexOf("#")===-1){Y=Z.split("(")[1].split(")")[0];Y=Y.split(",");Z="#"+Y.map(function(ag){ag=parseInt(ag).toString(16);return(ag.length==1)?"0"+ag:ag;}).join("");}af=c.Style.getElementStyle(ac,"borderTopWidth",y);af=af.substr(0,af.length-2);}D.ValueChanged.fireHandlers({borderColor:Z,weight:af});}function k(){var Y='<style type="text/css">DIV.listDividerContainer IMG[id^="idDivider_"] { margin: 0 !important; }</style>';for(var Z=0;Z<i.length;Z++){Y+='<div class="listDividerContainer" style="position: relative; width: 267px; height: 23px; overflow: hidden; padding: 0 7px">';Y+='  <img id="idDivider_'+Z+'" class="WaContentDivider '+i[Z]+'">';Y+='  <div id="idDividerSelector_'+Z+'" style="display: table; table-layout: fixed; position: absolute; left: 0; top: 0; z-index: 3; width: 282px; height: 23px;" data-divider="'+Z+'" eventTags="Divider">';Y+='    <div style="display: table-row; height: 11px;" eventTags="Divider">';Y+='      <div style="display: table-cell; width: 6px; background: transparent url('+R+') 0 0 no-repeat;" data-divider="'+Z+'" eventTags="Divider"></div>';Y+='      <div style="display: table-cell; background: transparent url('+M+') 0 0 repeat-x;" data-divider="'+Z+'" eventTags="Divider"></div>';Y+='      <div style="display: table-cell; width: 6px; background: transparent url('+S+') 0 0 no-repeat;" data-divider="'+Z+'" eventTags="Divider"></div>';Y+="    </div>";Y+='    <div style="display: table-row;" eventTags="Divider">';Y+='      <div style="display: table-cell; width: 6px; background: transparent url('+J+') 0 0 repeat-y;" data-divider="'+Z+'" eventTags="Divider"></div>';Y+='      <div style="display: table-cell; background-color: #FFFFFF; opacity: 0;" data-divider="'+Z+'" eventTags="Divider"></div>';Y+='      <div style="display: table-cell; width: 6px; background: transparent url('+L+') 100% 0 repeat-y;" data-divider="'+Z+'" eventTags="Divider"></div>';Y+="    </div>";Y+='    <div style="display: table-row; height: 11px;" eventTags="Divider">';Y+='      <div style="display: table-cell; width: 6px; background: transparent url('+O+') 0 0 no-repeat;" data-divider="'+Z+'" eventTags="Divider"></div>';Y+='      <div style="display: table-cell; background: transparent url('+I+') 0 100% repeat-x;" data-divider="'+Z+'" eventTags="Divider"></div>';Y+='      <div style="display: table-cell; width: 6px; background: transparent url('+P+') 0 0 no-repeat;" data-divider="'+Z+'" eventTags="Divider"></div>';Y+="    </div>";Y+="  </div>";Y+="</div>";}return Y;}function h(){D.Dispose.fireHandlers();c.removeHandler(y,"resize",U);c.removeHandler("Divider","click",g,{window:y,name:"InsertDividerClick"});C.RenderComplete.removeHandler(B);C.Dispose.removeHandler(h);X=null;C=null;D.RenderComplete=null;D.Dispose=null;D.ValueChanged=null;y.innerHTML="";y=null;}}})(window,WA);(function(e,d,c){if(!d.UI.DividerListTemplate){d.UI.DividerListTemplate=b;d.UI.DividerListTemplate.DividerListContentIdPostfix="_dividerListContent";d.UI.DividerListTemplate.DividerListScrollablePanelIdPostfix="_scrollablePanel";}function b(g){var h=d.UI.ScrollablePanelV2Template,f=d.UI.ContainerTemplate;return f({id:g.id+d.UI.DividerListTemplate.DividerListContentIdPostfix,cssClass:"dividerListContentWrapper",contentHTML:h({id:g.id+d.UI.DividerListTemplate.DividerListScrollablePanelIdPostfix,contentHTML:f({cssClass:"dividerListContent",contentHTML:a(g)})})});}function a(g){var f='<iframe id="'+g.id+'_dividerListIFrameId" name="'+g.id+'_dividerListIFrameName" src="/Sys/Editor/DropdownSelection/?'+d.version+"_"+(d.topWindow.contentarea.BonaPage.themeHash||"")+'" frameborder="0" scrolling="none" style="width: 100%; height: auto; overflow: hidden; margin: 0px; padding: 0px; border: none; background-color: #FFFFFF;"></iframe>';return f;}})(window,WA);(function(f,e,c){var d="WA.UI.EditHTMLDialog";if(!e.UI.EditHTMLDialog){e.UI.EditHTMLDialog=e.Object.create(b);}var a=[".CodeMirror { font-family: monospace; height: 300px; }",".CodeMirror-scroll { overflow: auto; }",".CodeMirror-lines { padding: 4px 0; }",".CodeMirror pre { padding: 0 4px; }",".CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler { background-color: white; }",".CodeMirror-gutters { border-right: 1px solid #ddd; background-color: #f7f7f7; white-space: nowrap; }",".CodeMirror-linenumbers {}",".CodeMirror-linenumber { padding: 0 3px 0 5px; min-width: 20px; text-align: right; color: #999; }",".CodeMirror div.CodeMirror-cursor { border-left: 1px solid black; z-index: 3; }",".CodeMirror div.CodeMirror-secondarycursor { border-left: 1px solid silver; }",".CodeMirror.cm-keymap-fat-cursor div.CodeMirror-cursor { width: auto; border: 0; background: #7e7; z-index: 1; }",".CodeMirror div.CodeMirror-cursor.CodeMirror-overwrite {}",".cm-tab { display: inline-block; }",".cm-s-default .cm-keyword {color: #708;}",".cm-s-default .cm-atom {color: #219;}",".cm-s-default .cm-number {color: #164;}",".cm-s-default .cm-def {color: #00f;}",".cm-s-default .cm-variable {color: black;}",".cm-s-default .cm-variable-2 {color: #05a;}",".cm-s-default .cm-variable-3 {color: #085;}",".cm-s-default .cm-property {color: black;}",".cm-s-default .cm-operator {color: black;}",".cm-s-default .cm-comment {color: #a50;}",".cm-s-default .cm-string {color: #a11;}",".cm-s-default .cm-string-2 {color: #f50;}",".cm-s-default .cm-meta {color: #555;}",".cm-s-default .cm-qualifier {color: #555;}",".cm-s-default .cm-builtin {color: #30a;}",".cm-s-default .cm-bracket {color: #997;}",".cm-s-default .cm-tag {color: #170;}",".cm-s-default .cm-attribute {color: #00c;}",".cm-s-default .cm-header {color: blue;}",".cm-s-default .cm-quote {color: #090;}",".cm-s-default .cm-hr {color: #999;}",".cm-s-default .cm-link {color: #00c;}",".cm-negative {color: #d44;}",".cm-positive {color: #292;}",".cm-header, .cm-strong {font-weight: bold;}",".cm-em {font-style: italic;}",".cm-link {text-decoration: underline;}",".cm-s-default .cm-error {color: #f00;}",".cm-invalidchar {color: #f00;}","div.CodeMirror span.CodeMirror-matchingbracket {color: #0f0;}","div.CodeMirror span.CodeMirror-nonmatchingbracket {color: #f22;}",".CodeMirror-activeline-background {background: #e8f2ff;}",".CodeMirror { line-height: 1; position: relative; overflow: hidden; background: white; color: black; }",".CodeMirror-scroll { margin-bottom: -30px; margin-right: -30px; padding-bottom: 30px; padding-right: 30px; height: 100%; outline: none; position: relative; -moz-box-sizing: content-box; box-sizing: content-box; }",".CodeMirror-sizer { position: relative; }",".CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler { position: absolute; z-index: 6; display: none; }",".CodeMirror-vscrollbar { right: 0; top: 0; overflow-x: hidden; overflow-y: scroll; }",".CodeMirror-hscrollbar { bottom: 0; left: 0; overflow-y: hidden; overflow-x: scroll; }",".CodeMirror-scrollbar-filler { right: 0; bottom: 0; }",".CodeMirror-gutter-filler { left: 0; bottom: 0; }",".CodeMirror-gutters { position: absolute; left: 0; top: 0; padding-bottom: 30px; z-index: 3; }",".CodeMirror-gutter { white-space: normal; height: 100%; -moz-box-sizing: content-box; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block;","*zoom:1;","*display:inline;","}",".CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }",".CodeMirror-lines { cursor: text; }",".CodeMirror pre { -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0; border-width: 0; background: transparent; font-family: inherit; font-size: inherit; margin: 0; white-space: pre; word-wrap: normal; line-height: inherit; color: inherit; z-index: 2; position: relative; overflow: visible; }",".CodeMirror-wrap pre { word-wrap: break-word; white-space: pre-wrap; word-break: normal; }",".CodeMirror-code pre { border-right: 30px solid transparent; width: -webkit-fit-content; width: -moz-fit-content; width: fit-content; }",".CodeMirror-wrap .CodeMirror-code pre { border-right: none; width: auto; }",".CodeMirror-linebackground { position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: 0; }",".CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }",".CodeMirror-widget {}",".CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }",".CodeMirror-measure { position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden; }",".CodeMirror-measure pre { position: static; }",".CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right: none; width: 0; }",".CodeMirror-focused div.CodeMirror-cursor { visibility: visible; }",".CodeMirror-selected { background: #d9d9d9; }",".CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }",".cm-searching { background: #ffa; background: rgba(255, 255, 0, .4); }",".CodeMirror span { *vertical-align: text-bottom; }","@media print { .CodeMirror div.CodeMirror-cursor { visibility: hidden; }}",".CodeMirror-matchingtag { background-color: #FFCCAA; }"];document.write('<style type="text/css">'+a.join("")+"</style>");function b(){var i=this;i.toString=function(){return d;};i.init=function(){};i.dispose=function(){};i.getContentHTML=g;i.getFooterHTML=h;function g(k){var j=['<div id="'+k.elementBaseId+'HTMLCodeContainer" style="background: #FFFFFF;" parseTags="AutoFitHeight">',"</div>"];return j.join("");}function h(k){var j=['<div align="center" class="actionButtons">','<input type="button" id="'+k.elementBaseId+'SaveButton" value="Save">','<input type="button" id="'+k.elementBaseId+'CancelButton" value="Cancel">',"</div>"];return j.join("");}}})(window,WA,WA.topWindow);window.CodeMirror=(function(){var aZ=/gecko\/\d/i.test(navigator.userAgent);var bo=/MSIE \d/.test(navigator.userAgent);var bq=bo&&(document.documentMode==null||document.documentMode<8);var br=bo&&(document.documentMode==null||document.documentMode<9);var bp=/Trident\/([7-9]|\d{2,})\./.test(navigator.userAgent);var ej=/WebKit\//.test(navigator.userAgent);var db=ej&&/Qt\/\d+\.\d+/.test(navigator.userAgent);var C=/Chrome\//.test(navigator.userAgent);var cQ=/Opera\//.test(navigator.userAgent);var du=/Apple Computer/.test(navigator.vendor);var bL=/KHTML\//.test(navigator.userAgent);var b9=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent);var ca=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent);var c2=/PhantomJS/.test(navigator.userAgent);var bz=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent);var cv=bz||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent);var b8=bz||/Mac/.test(navigator.platform);var eo=/win/i.test(navigator.platform);var cR=cQ&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);if(cR){cR=Number(cR[1]);}if(cR&&cR>=15){cQ=false;ej=true;}var aW=b8&&(db||cQ&&(cR==null||cR<parseFloat("12.11")));var x=aZ||(bo&&!br);var dw=false,dv=false;function N(ez,ey){if(!(this instanceof N)){return new N(ez,ey);}this.options=ey=ey||{};for(var ex in ak){if(!ey.hasOwnProperty(ex)&&ak.hasOwnProperty(ex)){ey[ex]=ak[ex];}}dE(ey);var eu=typeof ey.value=="string"?0:ey.value.first;var es=this.display=cg(ez,eu);es.wrapper.CodeMirror=this;d7(this);if(ey.autofocus&&!cv){aX(this);}this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,focused:false,suppressEdits:false,pasteIncoming:false,draggingText:false,highlight:new am()};d3(this);if(ey.lineWrapping){this.display.wrapper.className+=" CodeMirror-wrap";}var et=ey.value;if(typeof et=="string"){et=new ar(ey.value,ey.mode);}cS(this,h)(this,et);if(bo){setTimeout(o(dq,this,true),20);}di(this);var ew;try{ew=(document.activeElement==es.input);}catch(ev){}if(ew||(ey.autofocus&&!cv)){setTimeout(o(cL,this),20);}else{cH(this);}cS(this,function(){for(var eB in cU){if(cU.propertyIsEnumerable(eB)){cU[eB](this,ey[eB],bu);}}for(var eA=0;eA<bv.length;++eA){bv[eA](this);}})();}function cg(ev,et){var es={};var eu=es.input=aD("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none; font-size: 4px;");if(ej){eu.style.width="1000px";}else{eu.setAttribute("wrap","off");}if(bz){eu.style.border="1px solid black";}eu.setAttribute("autocorrect","off");eu.setAttribute("autocapitalize","off");eu.setAttribute("spellcheck","false");es.inputDiv=aD("div",[eu],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");es.scrollbarH=aD("div",[aD("div",null,null,"height: 1px")],"CodeMirror-hscrollbar");es.scrollbarV=aD("div",[aD("div",null,null,"width: 1px")],"CodeMirror-vscrollbar");es.scrollbarFiller=aD("div",null,"CodeMirror-scrollbar-filler");es.gutterFiller=aD("div",null,"CodeMirror-gutter-filler");es.lineDiv=aD("div",null,"CodeMirror-code");es.selectionDiv=aD("div",null,null,"position: relative; z-index: 1");es.cursor=aD("div","\u00a0","CodeMirror-cursor");es.otherCursor=aD("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor");es.measure=aD("div",null,"CodeMirror-measure");es.lineSpace=aD("div",[es.measure,es.selectionDiv,es.lineDiv,es.cursor,es.otherCursor],null,"position: relative; outline: none");es.mover=aD("div",[aD("div",[es.lineSpace],"CodeMirror-lines")],null,"position: relative");es.sizer=aD("div",[es.mover],"CodeMirror-sizer");es.heightForcer=aD("div",null,null,"position: absolute; height: "+dz+"px; width: 1px;");es.gutters=aD("div",null,"CodeMirror-gutters");es.lineGutter=null;es.scroller=aD("div",[es.sizer,es.heightForcer,es.gutters],"CodeMirror-scroll");es.scroller.setAttribute("tabIndex","-1");es.wrapper=aD("div",[es.inputDiv,es.scrollbarH,es.scrollbarV,es.scrollbarFiller,es.gutterFiller,es.scroller],"CodeMirror");if(bq){es.gutters.style.zIndex=-1;es.scroller.style.paddingRight=0;}if(ev.appendChild){ev.appendChild(es.wrapper);}else{ev(es.wrapper);}if(bz){eu.style.width="0px";}if(!ej){es.scroller.draggable=true;}if(bL){es.inputDiv.style.height="1px";es.inputDiv.style.position="absolute";}else{if(bq){es.scrollbarH.style.minWidth=es.scrollbarV.style.minWidth="18px";}}es.viewOffset=es.lastSizeC=0;es.showingFrom=es.showingTo=et;es.lineNumWidth=es.lineNumInnerWidth=es.lineNumChars=null;es.prevInput="";es.alignWidgets=false;es.pollingFast=false;es.poll=new am();es.cachedCharWidth=es.cachedTextHeight=null;es.measureLineCache=[];es.measureLineCachePos=0;es.inaccurateSelection=false;es.maxLine=null;es.maxLineLength=0;es.maxLineChanged=false;es.wheelDX=es.wheelDY=es.wheelStartX=es.wheelStartY=null;return es;}function b5(es){es.doc.mode=N.getMode(es.options,es.doc.modeOption);es.doc.iter(function(et){if(et.stateAfter){et.stateAfter=null;}if(et.styles){et.styles=null;}});es.doc.frontier=es.doc.first;dW(es,100);es.state.modeGen++;if(es.curOp){dh(es);}}function ep(es){if(es.options.lineWrapping){es.display.wrapper.className+=" CodeMirror-wrap";es.display.sizer.style.minWidth="";}else{es.display.wrapper.className=es.display.wrapper.className.replace(" CodeMirror-wrap","");W(es);}aH(es);dh(es);F(es);setTimeout(function(){eb(es);},100);}function aG(es){var eu=d1(es.display),ev=es.options.lineWrapping;var et=ev&&Math.max(5,es.display.scroller.clientWidth/B(es.display)-3);return function(ew){if(bV(es.doc,ew)){return 0;}else{if(ev){return(Math.ceil(ew.text.length/et)||1)*eu;}else{return eu;}}};}function aH(es){var et=es.doc,eu=aG(es);et.iter(function(ew){var ev=eu(ew);if(ev!=ew.height){ea(ew,ev);}});}function bI(es){var et=bH[es.options.keyMap],eu=et.style;es.display.wrapper.className=es.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(eu?" cm-keymap-"+eu:"");es.state.disableInput=et.disableInput;}function d3(es){es.display.wrapper.className=es.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+es.options.theme.replace(/(^|\s)\s*/g," cm-s-");F(es);}function bd(es){d7(es);dh(es);setTimeout(function(){f(es);},20);}function d7(es){var ev=es.display.gutters,ex=es.options.gutters;dj(ev);for(var ew=0;ew<ex.length;++ew){var eu=ex[ew];var et=ev.appendChild(aD("div",null,"CodeMirror-gutter "+eu));if(eu=="CodeMirror-linenumbers"){es.display.lineGutter=et;et.style.width=(es.display.lineNumWidth||1)+"px";}}ev.style.display=ew?"":"none";}function bY(et,ew){if(ew.height==0){return 0;}var ev=ew.text.length,ex,es=ew;while(ex=Q(es)){var eu=ex.find();es=a4(et,eu.from.line);ev+=eu.from.ch-eu.to.ch;}es=ew;while(ex=O(es)){var eu=ex.find();ev-=es.text.length-eu.from.ch;es=a4(et,eu.to.line);ev+=es.text.length-eu.to.ch;}return ev;}function W(es){var et=es.display,eu=es.doc;et.maxLine=a4(eu,eu.first);et.maxLineLength=bY(eu,et.maxLine);et.maxLineChanged=true;eu.iter(function(ew){var ev=bY(eu,ew);if(ev>et.maxLineLength){et.maxLineLength=ev;et.maxLine=ew;}});}function dE(et){var es=bt(et.gutters,"CodeMirror-linenumbers");if(es==-1&&et.lineNumbers){et.gutters=et.gutters.concat(["CodeMirror-linenumbers"]);}else{if(es>-1&&!et.lineNumbers){et.gutters=et.gutters.slice(0);et.gutters.splice(es,1);}}}function eb(es){var et=es.display,eu=es.doc.height;var ey=eu+cX(et);et.sizer.style.minHeight=et.heightForcer.style.top=ey+"px";et.gutters.style.height=Math.max(ey,et.scroller.clientHeight-dz)+"px";var ex=Math.max(ey,et.scroller.scrollHeight);var ev=et.scroller.scrollWidth>(et.scroller.clientWidth+1);var ew=ex>(et.scroller.clientHeight+1);if(ew){et.scrollbarV.style.display="block";et.scrollbarV.style.bottom=ev?dx(et.measure)+"px":"0";et.scrollbarV.firstChild.style.height=(ex-et.scroller.clientHeight+et.scrollbarV.clientHeight)+"px";}else{et.scrollbarV.style.display="";et.scrollbarV.firstChild.style.height="0";}if(ev){et.scrollbarH.style.display="block";et.scrollbarH.style.right=ew?dx(et.measure)+"px":"0";et.scrollbarH.firstChild.style.width=(et.scroller.scrollWidth-et.scroller.clientWidth+et.scrollbarH.clientWidth)+"px";}else{et.scrollbarH.style.display="";et.scrollbarH.firstChild.style.width="0";}if(ev&&ew){et.scrollbarFiller.style.display="block";et.scrollbarFiller.style.height=et.scrollbarFiller.style.width=dx(et.measure)+"px";}else{et.scrollbarFiller.style.display="";}if(ev&&es.options.coverGutterNextToScrollbar&&es.options.fixedGutter){et.gutterFiller.style.display="block";et.gutterFiller.style.height=dx(et.measure)+"px";et.gutterFiller.style.width=et.gutters.offsetWidth+"px";}else{et.gutterFiller.style.display="";}if(b9&&dx(et.measure)===0){et.scrollbarV.style.minWidth=et.scrollbarH.style.minHeight=ca?"18px":"12px";et.scrollbarV.style.pointerEvents=et.scrollbarH.style.pointerEvents="none";}}function eh(et,eu,ex){var ew=et.scroller.scrollTop,ev=et.wrapper.clientHeight;if(typeof ex=="number"){ew=ex;}else{if(ex){ew=ex.top;ev=ex.bottom-ex.top;}}ew=Math.floor(ew-cW(et));var es=Math.ceil(ew+ev);return{from:bT(eu,ew),to:bT(eu,es)};}function f(et){var ev=et.display;if(!ev.alignWidgets&&(!ev.gutters.firstChild||!et.options.fixedGutter)){return;}var eu=U(ev)-ev.scroller.scrollLeft+et.doc.scrollLeft;var ew=ev.gutters.offsetWidth,ey=eu+"px";for(var ez=ev.lineDiv.firstChild;ez;ez=ez.nextSibling){if(ez.alignable){for(var ex=0,es=ez.alignable;ex<es.length;++ex){es[ex].style.left=ey;}}}if(et.options.fixedGutter){ev.gutters.style.left=(eu+ew)+"px";}}function cn(es){if(!es.options.lineNumbers){return false;}var eu=es.doc,ew=b0(es.options,eu.first+eu.size-1),et=es.display;if(ew.length!=et.lineNumChars){var ey=et.measure.appendChild(aD("div",[aD("div",ew)],"CodeMirror-linenumber CodeMirror-gutter-elt"));var ev=ey.firstChild.offsetWidth,ex=ey.offsetWidth-ev;et.lineGutter.style.width="";et.lineNumInnerWidth=Math.max(ev,et.lineGutter.offsetWidth-ex);et.lineNumWidth=et.lineNumInnerWidth+ex;et.lineNumChars=et.lineNumInnerWidth?ew.length:-1;et.lineGutter.style.width=et.lineNumWidth+"px";return true;}return false;}function b0(et,es){return String(et.lineNumberFormatter(es+et.firstLineNumber));}function U(es){return ba(es.scroller).left-ba(es.sizer).left;}function d4(et,es,eA,ev){var ew=et.display.showingFrom,ex=et.display.showingTo,ez;var eB=eh(et.display,et.doc,eA);for(var eu=true;;eu=false){var ey=et.display.scroller.clientWidth;if(!d5(et,es,eB,ev)){break;}ez=true;es=[];ed(et);eb(et);if(eu&&et.options.lineWrapping&&ey!=et.display.scroller.clientWidth){ev=true;continue;}ev=false;if(eA){eA=Math.min(et.display.scroller.scrollHeight-et.display.scroller.clientHeight,typeof eA=="number"?eA:eA.top);}eB=eh(et.display,et.doc,eA);if(eB.from>=et.display.showingFrom&&eB.to<=et.display.showingTo){break;}}if(ez){dN(et,"update",et);if(et.display.showingFrom!=ew||et.display.showingTo!=ex){dN(et,"viewportChange",et,et.display.showingFrom,et.display.showingTo);}}return ez;}function d5(et,es,eL,eA){var ev=et.display,ew=et.doc;if(!ev.wrapper.clientWidth){ev.showingFrom=ev.showingTo=ew.first;ev.viewOffset=0;return;}if(!eA&&es.length==0&&eL.from>ev.showingFrom&&eL.to<ev.showingTo){return;}if(cn(et)){es=[{from:ew.first,to:ew.first+ew.size}];}var eC=ev.sizer.style.marginLeft=ev.gutters.offsetWidth+"px";ev.scrollbarH.style.left=et.options.fixedGutter?eC:"0";var eI=Infinity;if(et.options.lineNumbers){for(var eD=0;eD<es.length;++eD){if(es[eD].diff&&es[eD].from<eI){eI=es[eD].from;}}}var ey=ew.first+ew.size;var eB=Math.max(eL.from-et.options.viewportMargin,ew.first);var eK=Math.min(ey,eL.to+et.options.viewportMargin);if(ev.showingFrom<eB&&eB-ev.showingFrom<20){eB=Math.max(ew.first,ev.showingFrom);}if(ev.showingTo>eK&&ev.showingTo-eK<20){eK=Math.min(ey,ev.showingTo);}if(dv){eB=bZ(ei(ew,a4(ew,eB)));while(eK<ey&&bV(ew,a4(ew,eK))){++eK;}}var eE=[{from:Math.max(ev.showingFrom,ew.first),to:Math.min(ev.showingTo,ey)}];if(eE[0].from>=eE[0].to){eE=[];}else{eE=V(eE,es);}if(dv){for(var eD=0;eD<eE.length;++eD){var eJ=eE[eD],eG;while(eG=O(a4(ew,eJ.to-1))){var eH=eG.find().from.line;if(eH>eJ.from){eJ.to=eH;}else{eE.splice(eD--,1);break;}}}}var eF=0;for(var eD=0;eD<eE.length;++eD){var eJ=eE[eD];if(eJ.from<eB){eJ.from=eB;}if(eJ.to>eK){eJ.to=eK;}if(eJ.from>=eJ.to){eE.splice(eD--,1);}else{eF+=eJ.to-eJ.from;}}if(!eA&&eF==eK-eB&&eB==ev.showingFrom&&eK==ev.showingTo){eg(et);return;}eE.sort(function(eM,eN){return eM.from-eN.from;});try{var ez=document.activeElement;}catch(ex){}if(eF<(eK-eB)*".7"){ev.lineDiv.style.display="none";}c1(et,eB,eK,eE,eI);ev.lineDiv.style.display="";if(ez&&document.activeElement!=ez&&ez.offsetHeight){ez.focus();}var eu=eB!=ev.showingFrom||eK!=ev.showingTo||ev.lastSizeC!=ev.wrapper.clientHeight;if(eu){ev.lastSizeC=ev.wrapper.clientHeight;dW(et,400);}ev.showingFrom=eB;ev.showingTo=eK;ev.gutters.style.height="";d8(et);eg(et);return true;}function d8(eu){var ew=eu.display;var eA=ew.lineDiv.offsetTop;for(var ez=ew.lineDiv.firstChild,ex;ez;ez=ez.nextSibling){if(ez.lineObj){if(bq){var es=ez.offsetTop+ez.offsetHeight;ex=es-eA;eA=es;}else{var et=ba(ez);ex=et.bottom-et.top;}var ev=ez.lineObj.height-ex;if(ex<2){ex=d1(ew);}if(ev>parseFloat(".001")||ev<-parseFloat(".001")){ea(ez.lineObj,ex);var eB=ez.lineObj.widgets;if(eB){for(var ey=0;ey<eB.length;++ey){eB[ey].height=eB[ey].node.offsetHeight;}}}}}}function eg(es){var et=es.display.viewOffset=bj(es,a4(es.doc,es.display.showingFrom));es.display.mover.style.top=et+"px";}function V(ew,et){for(var ev=0,ez=et.length||0;ev<ez;++ev){var es=et[ev],ex=[],eu=es.diff||0;for(var ey=0,eA=ew.length;ey<eA;++ey){var eB=ew[ey];if(es.to<=eB.from&&es.diff){ex.push({from:eB.from+eu,to:eB.to+eu});}else{if(es.to<=eB.from||es.from>=eB.to){ex.push(eB);}else{if(es.from>eB.from){ex.push({from:eB.from,to:es.from});}if(es.to<eB.to){ex.push({from:es.to+eu,to:eB.to+eu});}}}}ew=ex;}return ew;}function a2(es){var et=es.display,ev={},ex={};for(var ew=et.gutters.firstChild,eu=0;ew;ew=ew.nextSibling,++eu){ev[es.options.gutters[eu]]=ew.offsetLeft;ex[es.options.gutters[eu]]=ew.offsetWidth;}return{fixedPos:U(et),gutterTotalWidth:et.gutters.offsetWidth,gutterLeft:ev,gutterWidth:ex,wrapperWidth:et.wrapper.clientWidth};}function c1(es,ex,eD,ey,eE){var ev=a2(es);var ew=es.display,eA=es.options.lineNumbers;if(!ey.length&&(!ej||!es.display.currentWheelTarget)){dj(ew.lineDiv);}var et=ew.lineDiv,eu=et.firstChild;function eC(eG){var eF=eG.nextSibling;if(ej&&b8&&es.display.currentWheelTarget==eG){eG.style.display="none";eG.lineObj=null;}else{eG.parentNode.removeChild(eG);}return eF;}var eB=ey.shift(),ez=ex;es.doc.iter(ex,eD,function(eH){if(eB&&eB.to==ez){eB=ey.shift();}if(bV(es.doc,eH)){if(eH.height!=0){ea(eH,0);}if(eH.widgets&&eu&&eu.previousSibling){for(var eF=0;eF<eH.widgets.length;++eF){var eM=eH.widgets[eF];if(eM.showIfHidden){var eJ=eu.previousSibling;if(/pre/i.test(eJ.nodeName)){var eO=aD("div",null,null,"position: relative");eJ.parentNode.replaceChild(eO,eJ);eO.appendChild(eJ);eJ=eO;}var eN=eJ.appendChild(aD("div",[eM.node],"CodeMirror-linewidget"));if(!eM.handleMouseEvents){eN.ignoreEvents=true;}c6(eM,eN,eJ,ev);}}}}else{if(eB&&eB.from<=ez&&eB.to>ez){while(eu.lineObj!=eH){eu=eC(eu);}if(eA&&eE<=ez&&eu.lineNumber){dI(eu.lineNumber,b0(es.options,ez));}eu=eu.nextSibling;}else{if(eH.widgets){for(var eG=0,eL=eu,eK;eL&&eG<20;++eG,eL=eL.nextSibling){if(eL.lineObj==eH&&/div/i.test(eL.nodeName)){eK=eL;break;}}}var eI=s(es,eH,ez,ev,eK);if(eI!=eK){et.insertBefore(eI,eu);}else{while(eu!=eK){eu=eC(eu);}eu=eu.nextSibling;}eI.lineObj=eH;}}++ez;});while(eu){eu=eC(eu);}}function s(eu,eE,eG,ev,eL){var et=r(eu,eE),eF=et.pre;var eH=eE.gutterMarkers,ew=eu.display,eO;var es=et.bgClass?et.bgClass+" "+(eE.bgClass||""):eE.bgClass;if(!eu.options.lineNumbers&&!eH&&!es&&!eE.wrapClass&&!eE.widgets){return eF;}if(eL){eL.alignable=null;var eC=true,eN=0,eB=null;for(var eI=eL.firstChild,eJ;eI;eI=eJ){eJ=eI.nextSibling;if(!/\bCodeMirror-linewidget\b/.test(eI.className)){eL.removeChild(eI);}else{for(var ez=0;ez<eE.widgets.length;++ez){var eM=eE.widgets[ez];if(eM.node==eI.firstChild){if(!eM.above&&!eB){eB=eI;}c6(eM,eI,eL,ev);++eN;break;}}if(ez==eE.widgets.length){eC=false;break;}}}eL.insertBefore(eF,eB);if(eC&&eN==eE.widgets.length){eO=eL;eL.className=eE.wrapClass||"";}}if(!eO){eO=aD("div",null,eE.wrapClass,"position: relative");eO.appendChild(eF);}if(es){eO.insertBefore(aD("div",null,es+" CodeMirror-linebackground"),eO.firstChild);}if(eu.options.lineNumbers||eH){var ey=eO.insertBefore(aD("div",null,"CodeMirror-gutter-wrapper","position: absolute; left: "+(eu.options.fixedGutter?ev.fixedPos:-ev.gutterTotalWidth)+"px"),eF);if(eu.options.fixedGutter){(eO.alignable||(eO.alignable=[])).push(ey);}if(eu.options.lineNumbers&&(!eH||!eH["CodeMirror-linenumbers"])){eO.lineNumber=ey.appendChild(aD("div",b0(eu.options,eG),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+ev.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+ew.lineNumInnerWidth+"px"));}if(eH){for(var eD=0;eD<eu.options.gutters.length;++eD){var eA=eu.options.gutters[eD],ex=eH.hasOwnProperty(eA)&&eH[eA];if(ex){ey.appendChild(aD("div",[ex],"CodeMirror-gutter-elt","left: "+ev.gutterLeft[eA]+"px; width: "+ev.gutterWidth[eA]+"px"));}}}}if(bq){eO.style.zIndex=2;}if(eE.widgets&&eO!=eL){for(var ez=0,eP=eE.widgets;ez<eP.length;++ez){var eM=eP[ez],eK=aD("div",[eM.node],"CodeMirror-linewidget");if(!eM.handleMouseEvents){eK.ignoreEvents=true;}c6(eM,eK,eO,ev);if(eM.above){eO.insertBefore(eK,eu.options.lineNumbers&&eE.height!=0?ey:eF);}else{eO.appendChild(eK);}dN(eM,"redraw");}}return eO;}function c6(eu,et,ew,es){if(eu.noHScroll){(ew.alignable||(ew.alignable=[])).push(et);var ev=es.wrapperWidth;et.style.left=es.fixedPos+"px";if(!eu.coverGutter){ev-=es.gutterTotalWidth;et.style.paddingLeft=es.gutterTotalWidth+"px";}et.style.width=ev+"px";}if(eu.coverGutter){et.style.zIndex=5;et.style.position="relative";if(!eu.noHScroll){et.style.marginLeft=-es.gutterTotalWidth+"px";}}}function ed(es){var eu=es.display;var et=c4(es.doc.sel.from,es.doc.sel.to);if(et||es.options.showCursorWhenSelecting){ee(es);}else{eu.cursor.style.display=eu.otherCursor.style.display="none";}if(!et){ef(es);}else{eu.selectionDiv.style.display="none";}if(es.options.moveInputWithCursor){var ev=aj(es,es.doc.sel.head,"div");var ex=ba(eu.wrapper),ew=ba(eu.lineDiv);eu.inputDiv.style.top=Math.max(0,Math.min(eu.wrapper.clientHeight-10,ev.top+ew.top-ex.top))+"px";eu.inputDiv.style.left=Math.max(0,Math.min(eu.wrapper.clientWidth-10,ev.left+ew.left-ex.left))+"px";}}function ee(es){var et=es.display,eu=aj(es,es.doc.sel.head,"div");et.cursor.style.left=eu.left+"px";et.cursor.style.top=eu.top+"px";et.cursor.style.height=Math.max(0,eu.bottom-eu.top)*es.options.cursorHeight+"px";et.cursor.style.display="";if(eu.other){et.otherCursor.style.display="";et.otherCursor.style.left=eu.other.left+"px";et.otherCursor.style.top=eu.other.top+"px";et.otherCursor.style.height=(eu.other.bottom-eu.other.top)*".85px";}else{et.otherCursor.style.display="none";}}function ef(eu){var ev=eu.display,ew=eu.doc,eD=eu.doc.sel;var ey=document.createDocumentFragment();var et=ev.lineSpace.offsetWidth,eB=cV(eu.display);function es(eH,eI,eJ,eG){if(eI<0){eI=0;}ey.appendChild(aD("div",null,"CodeMirror-selected","position: absolute; left: "+eH+"px; top: "+eI+"px; width: "+(eJ==null?et-eH:eJ)+"px; height: "+(eG-eI)+"px"));}function ex(eJ,eI,eN){var eL=a4(ew,eJ);var eK=eL.text.length;var eM,eH;function eG(eP,eO){return A(eu,c3(eJ,eP),"div",eL,eO);}bG(a9(eL),eI||0,eN==null?eK:eN,function(eP,eV,eO){var eR=eG(eP,"left"),eT,eQ,eS;if(eP==eV){eT=eR;eQ=eS=eR.left;}else{eT=eG(eV-1,"right");if(eO=="rtl"){var eU=eR;eR=eT;eT=eU;}eQ=eR.left;eS=eT.right;}if(eI==null&&eP==0){eQ=eB;}if(eT.top-eR.top>3){es(eQ,eR.top,null,eR.bottom);eQ=eB;if(eR.bottom<eT.top){es(eQ,eR.bottom,null,eT.top);}}if(eN==null&&eV==eK){eS=et;}if(!eM||eR.top<eM.top||eR.top==eM.top&&eR.left<eM.left){eM=eR;}if(!eH||eT.bottom>eH.bottom||eT.bottom==eH.bottom&&eT.right>eH.right){eH=eT;}if(eQ<eB+1){eQ=eB;}es(eQ,eT.top,eS-eQ,eT.bottom);});return{start:eM,end:eH};}if(eD.from.line==eD.to.line){ex(eD.from.line,eD.from.ch,eD.to.ch);}else{var ez=a4(ew,eD.from.line),eF=a4(ew,eD.to.line);var eE=ei(ew,ez)==ei(ew,eF);var eA=ex(eD.from.line,eD.from.ch,eE?ez.text.length:null).end;var eC=ex(eD.to.line,eE?0:null,eD.to.ch).start;if(eE){if(eA.top<eC.top-2){es(eA.right,eA.top,null,eA.bottom);es(eB,eC.top,eC.left,eC.bottom);}else{es(eA.right,eA.top,eC.left-eA.right,eA.bottom);}}if(eA.bottom<eC.top){es(eB,eA.bottom,null,eC.top);}}dk(ev.selectionDiv,ey);ev.selectionDiv.style.display="";}function dr(es){if(!es.state.focused){return;}var et=es.display;clearInterval(et.blinker);var eu=true;et.cursor.style.visibility=et.otherCursor.style.visibility="";if(es.options.cursorBlinkRate>0){et.blinker=setInterval(function(){et.cursor.style.visibility=et.otherCursor.style.visibility=(eu=!eu)?"":"hidden";},es.options.cursorBlinkRate);}}function dW(es,et){if(es.doc.mode.startState&&es.doc.frontier<es.display.showingTo){es.state.highlight.set(et,o(bm,es));}}function bm(et){var eu=et.doc;if(eu.frontier<eu.first){eu.frontier=eu.first;}if(eu.frontier>=et.display.showingTo){return;}var ev=+new Date+et.options.workTime;var ex=af(eu.mode,bb(et,eu.frontier));var es=[],ew;eu.iter(eu.frontier,Math.min(eu.first+eu.size,et.display.showingTo+500),function(eA){if(eu.frontier>=et.display.showingFrom){var eB=eA.styles;eA.styles=bl(et,eA,ex,true);var ez=!eB||eB.length!=eA.styles.length;for(var ey=0;!ez&&ey<eB.length;++ey){ez=eB[ey]!=eA.styles[ey];}if(ez){if(ew&&ew.end==eu.frontier){ew.end++;}else{es.push(ew={start:eu.frontier,end:eu.frontier+1});}}eA.stateAfter=af(eu.mode,ex);}else{c9(et,eA.text,ex);eA.stateAfter=eu.frontier%5==0?af(eu.mode,ex):null;}++eu.frontier;if(+new Date>ev){dW(et,et.options.workDelay);return true;}});if(es.length){cS(et,function(){for(var ey=0;ey<es.length;++ey){dh(this,es[ey].start,es[ey].end);}})();}}function aT(es,ez,eA){var ex,ey,et=es.doc;var ev=eA?-1:ez-(es.doc.mode.innerMode?1000:100);for(var eB=ez;eB>ev;--eB){if(eB<=et.first){return et.first;}var ew=a4(et,eB-1);if(ew.stateAfter&&(!eA||eB<=et.frontier)){return eB;}var eu=ag(ew.text,null,es.options.tabSize);if(ey==null||ex>eu){ey=eB-1;ex=eu;}}return ey;}function bb(es,ev,ex){var eu=es.doc,et=es.display;if(!eu.mode.startState){return true;}var ew=aT(es,ev,ex),ey=ew>eu.first&&a4(eu,ew-1).stateAfter;if(!ey){ey=dV(eu.mode);}else{ey=af(eu.mode,ey);}eu.iter(ew,ev,function(ez){c9(es,ez.text,ey);var eA=ew==ev-1||ew%5==0||ew>=et.showingFrom&&ew<et.showingTo;ez.stateAfter=eA?af(eu.mode,ey):null;++ew;});if(ex){eu.frontier=ew;}return ey;}function cW(es){return es.lineSpace.offsetTop;}function cX(es){return es.mover.offsetHeight-es.lineSpace.offsetHeight;}function cV(es){var et=dk(es.measure,aD("pre",null,null,"text-align: left")).appendChild(aD("span","x"));return et.offsetLeft;}function co(eu,ey,et,ev,es){var ew=-1;ev=ev||cp(eu,ey);if(ev.crude){var ex=ev.left+et*ev.width;return{left:ex,right:ex+ev.width,top:ev.top,bottom:ev.bottom};}for(var ez=et;;ez+=ew){var eA=ev[ez];if(eA){break;}if(ew<0&&ez==0){ew=1;}}es=ez>et?"left":ez<et?"right":es;if(es=="left"&&eA.leftSide){eA=eA.leftSide;}else{if(es=="right"&&eA.rightSide){eA=eA.rightSide;}}return{left:ez<et?eA.right:eA.left,right:ez>et?eA.left:eA.right,top:eA.top,bottom:eA.bottom};}function aQ(et,ev){var es=et.display.measureLineCache;for(var eu=0;eu<es.length;++eu){var ew=es[eu];if(ew.text==ev.text&&ew.markedSpans==ev.markedSpans&&et.display.scroller.clientWidth==ew.width&&ew.classes==ev.textClass+"|"+ev.wrapClass){return ew;}}}function E(es,eu){var et=aQ(es,eu);if(et){et.text=et.measure=et.markedSpans=null;}}function cp(eu,ev){var et=aQ(eu,ev);if(et){return et.measure;}var ew=cq(eu,ev);var es=eu.display.measureLineCache;var ex={text:ev.text,width:eu.display.scroller.clientWidth,markedSpans:ev.markedSpans,measure:ew,classes:ev.textClass+"|"+ev.wrapClass};if(es.length==16){es[++eu.display.measureLineCachePos%16]=ex;}else{es.push(ex);}return ew;}function cq(eu,eC){if(!eu.options.lineWrapping&&eC.text.length>=eu.options.crudeMeasuringFrom){return ai(eu,eC);}var ex=eu.display,eE=aE(eC.text.length);var eJ=r(eu,eC,eE,true).pre;if(bo&&!bq&&!eu.options.lineWrapping&&eJ.childNodes.length>100){var ez=document.createDocumentFragment();var es=10,eG=eJ.childNodes.length;for(var eA=0,et=Math.ceil(eG/es);eA<et;++eA){var eN=aD("div",null,null,"display: inline-block");for(var eB=0;eB<es&&eG;++eB){eN.appendChild(eJ.firstChild);--eG;}ez.appendChild(eN);}eJ.appendChild(ez);}dk(ex.measure,eJ);var eI=ba(ex.lineDiv);var eM=[],ew=aE(eC.text.length),eD=eJ.offsetHeight;if(br&&ex.measure.first!=eJ){dk(ex.measure,eJ);}function eF(eR){var eT=eR.top-eI.top,eO=eR.bottom-eI.top;if(eO>eD){eO=eD;}if(eT<0){eT=0;}for(var eP=eM.length-2;eP>=0;eP-=2){var eS=eM[eP],eQ=eM[eP+1];if(eS>eO||eQ<eT){continue;}if(eS<=eT&&eQ>=eO||eT<=eS&&eO>=eQ||Math.min(eO,eQ)-Math.max(eT,eS)>=(eO-eT)>>1){eM[eP]=Math.min(eT,eS);eM[eP+1]=Math.max(eO,eQ);break;}}if(eP<0){eP=eM.length;eM.push(eT,eO);}return{left:eR.left-eI.left,right:eR.right-eI.left,top:eP,bottom:null};}function ey(eO){eO.bottom=eM[eO.top+1];eO.top=eM[eO.top];}for(var eA=0,ev;eA<eE.length;++eA){if(ev=eE[eA]){var eH=ev,eK=null;if(/\bCodeMirror-widget\b/.test(ev.className)&&ev.getClientRects){if(ev.firstChild.nodeType==1){eH=ev.firstChild;}var eL=eH.getClientRects();if(eL.length>1){eK=ew[eA]=eF(eL[0]);eK.rightSide=eF(eL[eL.length-1]);}}if(!eK){eK=ew[eA]=eF(ba(eH));}if(ev.measureRight){eK.right=ba(ev.measureRight).left-eI.left;}if(ev.leftSide){eK.leftSide=eF(ba(ev.leftSide));}}}dj(eu.display.measure);for(var eA=0,ev;eA<ew.length;++eA){if(ev=ew[eA]){ey(ev);if(ev.leftSide){ey(ev.leftSide);}if(ev.rightSide){ey(ev.rightSide);}}}return ew;}function ai(es,ev){var et=new bS(ev.text.slice(0,100),null);if(ev.textClass){et.textClass=ev.textClass;}var ew=cq(es,et);var eu=co(es,et,0,ew,"left");var ex=co(es,et,99,ew,"right");return{crude:true,top:eu.top,left:eu.left,bottom:eu.bottom,width:(ex.right-eu.left)/100};}function cr(et,ex){var ev=false;if(ex.markedSpans){for(var ew=0;ew<ex.markedSpans;++ew){var ez=ex.markedSpans[ew];if(ez.collapsed&&(ez.to==null||ez.to==ex.text.length)){ev=true;}}}var es=!ev&&aQ(et,ex);if(es||ex.text.length>=et.options.crudeMeasuringFrom){return co(et,ex,ex.text.length,es&&es.measure,"right").right;}var ey=r(et,ex,null,true).pre;var eu=ey.appendChild(eq(et.display.measure));dk(et.display.measure,ey);return ba(eu).right-ba(et.display.lineDiv).left;}function F(es){es.display.measureLineCache.length=es.display.measureLineCachePos=0;es.display.cachedCharWidth=es.display.cachedTextHeight=null;if(!es.options.lineWrapping){es.display.maxLineChanged=true;}es.display.lineNumChars=null;}function cY(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft;}function cZ(){return window.pageYOffset||(document.documentElement||document.body).scrollTop;}function by(es,ev,ex,et){if(ev.widgets){for(var eu=0;eu<ev.widgets.length;++eu){if(ev.widgets[eu].above){var ey=em(ev.widgets[eu]);ex.top+=ey;ex.bottom+=ey;}}}if(et=="line"){return ex;}if(!et){et="local";}var eA=bj(es,ev);if(et=="local"){eA+=cW(es.display);}else{eA-=es.display.viewOffset;}if(et=="page"||et=="window"){var ew=ba(es.display.lineSpace);eA+=ew.top+(et=="window"?0:cZ());var ez=ew.left+(et=="window"?0:cY());ex.left+=ez;ex.right+=ez;}ex.top+=eA;ex.bottom+=eA;return ex;}function aY(es,eu,et){if(et=="div"){return eu;}var ev=eu.left,ey=eu.top;if(et=="page"){ev-=cY();ey-=cZ();}else{if(et=="local"||!et){var ex=ba(es.display.sizer);ev+=ex.left;ey+=ex.top;}}var ew=ba(es.display.lineSpace);return{left:ev-ew.left,top:ey-ew.top};}function A(et,ew,eu,ev,es){if(!ev){ev=a4(et.doc,ew.line);}return by(et,ev,co(et,ev,ew.ch,null,es),eu);}function aj(et,eB,eu,ex,ey){ex=ex||a4(et.doc,eB.line);if(!ey){ey=cp(et,ex);}function ev(eD,eF){var eE=co(et,ex,eD,ey,eF?"right":"left");if(eF){eE.left=eE.right;}else{eE.right=eE.left;}return by(et,ex,eE,eu);}function ew(eD,eF){var eE=ez[eF],eG=eE.level%2;if(eD==k(eE)&&eF&&eE.level<ez[eF-1].level){eE=ez[--eF];eD=n(eE)-(eE.level%2?0:1);eG=true;}else{if(eD==n(eE)&&eF<ez.length-1&&eE.level<ez[eF+1].level){eE=ez[++eF];eD=k(eE)-eE.level%2;eG=false;}}if(eG&&eD==eE.to&&eD>eE.from){return ev(eD-1);}return ev(eD,eG);}var ez=a9(ex),es=eB.ch;if(!ez){return ev(es);}var eA=a1(ez,es);var eC=ew(es,eA);if(m!=null){eC.other=ew(es,m);}return eC;}function c8(et,es,eu,ew){var ev=new c3(et,es);ev.xRel=ew;if(eu){ev.outside=true;}return ev;}function aa(es,eA,eB){var et=es.doc;eB+=es.display.viewOffset;if(eB<0){return c8(et.first,0,true,-1);}var ew=bT(et,eB),ev=et.first+et.size-1;if(ew>ev){return c8(et.first+et.size-1,a4(et,ev).text.length,true,1);}if(eA<0){eA=0;}for(;;){var ex=a4(et,ew);var eu=ab(es,ex,ew,eA,eB);var ey=O(ex);var ez=ey&&ey.find();if(ey&&(eu.ch>ez.from.ch||eu.ch==ez.from.ch&&eu.xRel>0)){ew=ez.to.line;}else{return eu;}}}function ab(ev,eE,eD,eO,eQ){var eC=eQ-bj(ev,eE);var eN=false,es=2*ev.display.wrapper.clientWidth;var eF=cp(ev,eE);function eA(eR){var eS=aj(ev,c3(eD,eR),"line",eE,eF);eN=true;if(eC>eS.bottom){return eS.left-es;}else{if(eC<eS.top){return eS.left+es;}else{eN=false;}}return eS.left;}var et=a9(eE),ew=eE.text.length;var ex=bX(eE),eK=b1(eE);var ez=eA(ex),ey=eN,eM=eA(eK),eL=eN;if(eO>eM){return c8(eD,eK,eL,1);}for(;;){if(et?eK==ex||eK==cA(eE,ex,1):eK-ex<=1){var eu=eO<ez||eO-ez<=eM-eO?ex:eK;var eP=eO-(eu==ex?ez:eM);while(bB.test(eE.text.charAt(eu))){++eu;}var eI=c8(eD,eu,eu==ex?ey:eL,eP<0?-1:eP?1:0);return eI;}var eJ=Math.ceil(ew/2),eG=ex+eJ;if(et){eG=ex;for(var eB=0;eB<eJ;++eB){eG=cA(eE,eG,1);}}var eH=eA(eG);if(eH>eO){eK=eG;eM=eH;if(eL=eN){eM+=1000;}ew=eJ;}else{ex=eG;ez=eH;ey=eN;ew-=eJ;}}}var cs;function d1(es){if(es.cachedTextHeight!=null){return es.cachedTextHeight;}if(cs==null){cs=aD("pre");for(var eu=0;eu<49;++eu){cs.appendChild(document.createTextNode("x"));cs.appendChild(aD("br"));}cs.appendChild(document.createTextNode("x"));}dk(es.measure,cs);var et=cs.offsetHeight/50;if(et>3){es.cachedTextHeight=et;}dj(es.measure);return et||1;}function B(et){if(et.cachedCharWidth!=null){return et.cachedCharWidth;}var es=aD("span","x");var eu=aD("pre",[es]);dk(et.measure,eu);var ev=es.offsetWidth;if(ev>2){et.cachedCharWidth=ev;}return ev||10;}var cD=0;function dU(es){es.curOp={changes:[],forceUpdate:false,updateInput:null,userSelChange:null,textChanged:null,selectionChanged:false,cursorActivity:false,updateMaxLine:false,updateScrollPos:false,id:++cD};if(!an++){ao=[];}}function aF(es){var eC=es.curOp,ew=es.doc,ev=es.display;es.curOp=null;if(eC.updateMaxLine){W(es);}if(ev.maxLineChanged&&!es.options.lineWrapping&&ev.maxLine){var eG=cr(es,ev.maxLine);ev.sizer.style.minWidth=Math.max(0,eG+3+dz)+"px";ev.maxLineChanged=false;var eA=Math.max(0,ev.sizer.offsetLeft+ev.sizer.offsetWidth-ev.scroller.clientWidth);if(eA<ew.scrollLeft&&!eC.updateScrollPos){dF(es,Math.min(ev.scroller.scrollLeft,eA),true);}}var eB,eF;if(eC.updateScrollPos){eB=eC.updateScrollPos;}else{if(eC.selectionChanged&&ev.scroller.clientHeight){var et=aj(es,ew.sel.head);eB=w(es,et.left,et.top,et.left,et.bottom);}}if(eC.changes.length||eC.forceUpdate||eB&&eB.scrollTop!=null){eF=d4(es,eC.changes,eB&&eB.scrollTop,eC.forceUpdate);if(es.display.scroller.offsetHeight){es.doc.scrollTop=es.display.scroller.scrollTop;}}if(!eF&&eC.selectionChanged){ed(es);}if(eC.updateScrollPos){var eD=Math.max(0,Math.min(ev.scroller.scrollHeight-ev.scroller.clientHeight,eB.scrollTop));var ez=Math.max(0,Math.min(ev.scroller.scrollWidth-ev.scroller.clientWidth,eB.scrollLeft));ev.scroller.scrollTop=ev.scrollbarV.scrollTop=ew.scrollTop=eD;ev.scroller.scrollLeft=ev.scrollbarH.scrollLeft=ew.scrollLeft=ez;f(es);if(eC.scrollToPos){dB(es,J(es.doc,eC.scrollToPos.from),J(es.doc,eC.scrollToPos.to),eC.scrollToPos.margin);}}else{if(eB){dy(es);}}if(eC.selectionChanged){dr(es);}if(es.state.focused&&eC.updateInput){dq(es,eC.userSelChange);}var ex=eC.maybeHiddenMarkers,eE=eC.maybeUnhiddenMarkers;if(ex){for(var ey=0;ey<ex.length;++ey){if(!ex[ey].lines.length){dL(ex[ey],"hide");}}}if(eE){for(var ey=0;ey<eE.length;++ey){if(eE[ey].lines.length){dL(eE[ey],"unhide");}}}var eu;if(!--an){eu=ao;ao=null;}if(eC.textChanged){dL(es,"change",es,eC.textChanged);}if(eC.cursorActivity){dL(es,"cursorActivity",es);}if(eu){for(var ey=0;ey<eu.length;++ey){eu[ey]();}}}function cS(es,et){return function(){var eu=es||this,ew=!eu.curOp;if(ew){dU(eu);}try{var ev=et.apply(eu,arguments);}finally{if(ew){aF(eu);}}return ev;};}function at(es){return function(){var eu=this.cm&&!this.cm.curOp,et;if(eu){dU(this.cm);}try{et=es.apply(this,arguments);}finally{if(eu){aF(this.cm);}}return et;};}function ds(es,et){var ev=!es.curOp,eu;if(ev){dU(es);}try{eu=et();}finally{if(ev){aF(es);}}return eu;}function dh(es,et,ev,eu){if(et==null){et=es.doc.first;}if(ev==null){ev=es.doc.first+es.doc.size;}es.curOp.changes.push({from:et,to:ev,diff:eu});}function dP(es){if(es.display.pollingFast){return;}es.display.poll.set(es.options.pollInterval,function(){dc(es);if(es.state.focused){dP(es);}});}function aN(es){var et=false;es.display.pollingFast=true;function eu(){var ev=dc(es);if(!ev&&!et){et=true;es.display.poll.set(60,eu);}else{es.display.pollingFast=false;dP(es);}}es.display.poll.set(20,eu);}function dc(et){var ey=et.display.input,eB=et.display.prevInput,eu=et.doc,eD=eu.sel;if(!et.state.focused||bi(ey)||bE(et)||et.state.disableInput){return false;}if(et.state.pasteIncoming&&et.state.fakedLastChar){ey.value=ey.value.substring(0,ey.value.length-1);et.state.fakedLastChar=false;}var eE=ey.value;if(eE==eB&&c4(eD.from,eD.to)){return false;}if(bo&&!br&&et.display.inputHasSelection===eE){dq(et,true);return false;}var eH=!et.curOp;if(eH){dU(et);}eD.shift=false;var eC=0,eA=Math.min(eB.length,eE.length);while(eC<eA&&eB.charCodeAt(eC)==eE.charCodeAt(eC)){++eC;}var ew=eD.from,eF=eD.to;var ez=eE.slice(eC);if(eC<eB.length){ew=c3(ew.line,ew.ch-(eB.length-eC));}else{if(et.state.overwrite&&c4(ew,eF)&&!et.state.pasteIncoming){eF=c3(eF.line,Math.min(a4(eu,eF.line).text.length,eF.ch+ez.length));}}var eG=et.curOp.updateInput;var es={from:ew,to:eF,text:dT(ez),origin:et.state.pasteIncoming?"paste":"+input"};cb(et.doc,es,"end");et.curOp.updateInput=eG;dN(et,"inputRead",et,es);if(!et.state.pasteIncoming&&et.options.electricChars&&et.options.smartIndent&&eD.head.ch<100){var ev=et.getModeAt(eD.head).electricChars;if(ev){for(var ex=0;ex<ev.length;ex++){if(ez.indexOf(ev.charAt(ex))>-1){bs(et,eD.head.line,"smart");break;}}}}if(eE.length>1000||eE.indexOf("\n")>-1){ey.value=et.display.prevInput="";}else{et.display.prevInput=eE;}if(eH){aF(et);}et.state.pasteIncoming=false;return true;}function dq(es,ex){var ev,ew,eu=es.doc;if(!c4(eu.sel.from,eu.sel.to)){es.display.prevInput="";ev=bg&&(eu.sel.to.line-eu.sel.from.line>100||(ew=es.getSelection()).length>1000);var et=ev?"-":ew||es.getSelection();es.display.input.value=et;if(es.state.focused){dC(es.display.input);}if(bo&&!br){es.display.inputHasSelection=et;}}else{if(ex){es.display.prevInput=es.display.input.value="";if(bo&&!br){es.display.inputHasSelection=null;}}}es.display.inaccurateSelection=ev;}function aX(es){if(es.options.readOnly!="nocursor"&&(!cv||document.activeElement!=es.display.input)){es.display.input.focus();}}function bE(es){return es.options.readOnly||es.doc.cantEdit;}function di(es){var et=es.display;cG(et.scroller,"mousedown",cS(es,cO));if(bo){cG(et.scroller,"dblclick",cS(es,function(eA){if(dM(es,eA)){return;}var eB=c5(es,eA);if(!eB||H(es,eA)||aI(es.display,eA)){return;}az(eA);var eC=aU(a4(es.doc,eB.line).text,eB);aK(es.doc,eC.from,eC.to);}));}else{cG(et.scroller,"dblclick",function(eA){dM(es,eA)||az(eA);});}cG(et.lineSpace,"selectstart",function(eA){if(!aI(et,eA)){az(eA);}});if(!x){cG(et.scroller,"contextmenu",function(eA){cI(es,eA);});}cG(et.scroller,"scroll",function(){if(et.scroller.clientHeight){dG(es,et.scroller.scrollTop);dF(es,et.scroller.scrollLeft,true);dL(es,"scroll",es);}});cG(et.scrollbarV,"scroll",function(){if(et.scroller.clientHeight){dG(es,et.scrollbarV.scrollTop);}});cG(et.scrollbarH,"scroll",function(){if(et.scroller.clientHeight){dF(es,et.scrollbarH.scrollLeft);}});cG(et.scroller,"mousewheel",function(eA){cP(es,eA);});cG(et.scroller,"DOMMouseScroll",function(eA){cP(es,eA);});function ex(){if(es.state.focused){setTimeout(o(aX,es),0);}}cG(et.scrollbarH,"mousedown",ex);cG(et.scrollbarV,"mousedown",ex);cG(et.wrapper,"scroll",function(){et.wrapper.scrollTop=et.wrapper.scrollLeft=0;});var ey;function ev(){if(ey==null){ey=setTimeout(function(){ey=null;et.cachedCharWidth=et.cachedTextHeight=bM=null;F(es);ds(es,o(dh,es));},100);}}cG(window,"resize",ev);function ez(){for(var eA=et.wrapper.parentNode;eA&&eA!=document.body;eA=eA.parentNode){}if(eA){setTimeout(ez,5000);}else{cF(window,"resize",ev);}}setTimeout(ez,5000);cG(et.input,"keyup",cS(es,function(eA){if(dM(es,eA)||es.options.onKeyEvent&&es.options.onKeyEvent(es,c(eA))){return;}if(eA.keyCode==16){es.doc.sel.shift=false;}}));cG(et.input,"input",function(){if(bo&&!br&&es.display.inputHasSelection){es.display.inputHasSelection=null;}aN(es);});cG(et.input,"keydown",cS(es,cM));cG(et.input,"keypress",cS(es,cN));cG(et.input,"focus",o(cL,es));cG(et.input,"blur",o(cH,es));function eu(eA){if(dM(es,eA)||es.options.onDragEvent&&es.options.onDragEvent(es,c(eA))){return;}aA(eA);}if(es.options.dragDrop){cG(et.scroller,"dragstart",function(eA){cJ(es,eA);});cG(et.scroller,"dragenter",eu);cG(et.scroller,"dragover",eu);cG(et.scroller,"drop",cS(es,cK));}cG(et.scroller,"paste",function(eA){if(aI(et,eA)){return;}aX(es);aN(es);});cG(et.input,"paste",function(){if(ej&&!es.state.fakedLastChar&&!(new Date-es.state.lastMiddleDown<200)){var eB=et.input.selectionStart,eA=et.input.selectionEnd;et.input.value+="$";et.input.selectionStart=eB;et.input.selectionEnd=eA;es.state.fakedLastChar=true;}es.state.pasteIncoming=true;aN(es);});function ew(){if(et.inaccurateSelection){et.prevInput="";et.inaccurateSelection=false;et.input.value=es.getSelection();dC(et.input);}}cG(et.input,"cut",ew);cG(et.input,"copy",ew);if(bL){cG(et.sizer,"mouseup",function(){if(document.activeElement==et.input){et.input.blur();}aX(es);});}}function aI(es,et){for(var eu=aC(et);eu!=es.wrapper;eu=eu.parentNode){if(!eu||eu.ignoreEvents||eu.parentNode==es.sizer&&eu!=es.mover){return true;}}}function c5(es,eu,ev){var et=es.display;if(!ev){var ex=aC(eu);if(ex==et.scrollbarH||ex==et.scrollbarH.firstChild||ex==et.scrollbarV||ex==et.scrollbarV.firstChild||ex==et.scrollbarFiller||ex==et.gutterFiller){return null;}}var ey,ez,ew=ba(et.lineSpace);try{ey=eu.clientX;ez=eu.clientY;}catch(eu){return null;}return aa(es,ey-ew.left,ez-ew.top);}var bN,bO;function cO(ez){if(dM(this,ez)){return;}var es=this,eu=es.display,ev=es.doc,eG=ev.sel;eG.shift=ez.shiftKey;if(aI(eu,ez)){if(!ej){eu.scroller.draggable=false;setTimeout(function(){eu.scroller.draggable=true;},100);}return;}if(H(es,ez)){return;}var eH=c5(es,ez);switch(ax(ez)){case 3:if(x){cI.call(es,es,ez);}return;case 2:if(ej){es.state.lastMiddleDown=+new Date;}if(eH){aK(es.doc,eH);}setTimeout(o(aX,es),20);az(ez);return;}if(!eH){if(aC(ez)==eu.scroller){az(ez);}return;}if(!es.state.focused){cL(es);}var eF=+new Date,eK="single";if(bO&&bO.time>eF-400&&c4(bO.pos,eH)){eK="triple";az(ez);setTimeout(o(aX,es),20);dD(es,eH.line);}else{if(bN&&bN.time>eF-400&&c4(bN.pos,eH)){eK="double";bO={time:eF,pos:eH};az(ez);var eM=aU(a4(ev,eH.line).text,eH);aK(es.doc,eM.from,eM.to);}else{bN={time:eF,pos:eH};}}var eC=eH;if(es.options.dragDrop&&aw&&!bE(es)&&!c4(eG.from,eG.to)&&!c7(eH,eG.from)&&!c7(eG.to,eH)&&eK=="single"){var ey=cS(es,function(eN){if(ej){eu.scroller.draggable=false;}es.state.draggingText=false;cF(document,"mouseup",ey);cF(eu.scroller,"drop",ey);if(Math.abs(ez.clientX-eN.clientX)+Math.abs(ez.clientY-eN.clientY)<10){az(eN);aK(es.doc,eH);aX(es);}});if(ej){eu.scroller.draggable=true;}es.state.draggingText=ey;if(eu.scroller.dragDrop){eu.scroller.dragDrop();}cG(document,"mouseup",ey);cG(eu.scroller,"drop",ey);return;}az(ez);if(eK=="single"){aK(es.doc,J(ev,eH));}var eJ=eG.from,eI=eG.to,eD=eH;function ex(eN){if(c4(eD,eN)){return;}eD=eN;if(eK=="single"){aK(es.doc,J(ev,eH),eN);return;}eJ=J(ev,eJ);eI=J(ev,eI);if(eK=="double"){var eO=aU(a4(ev,eN.line).text,eN);if(c7(eN,eJ)){aK(es.doc,eO.from,eI);}else{aK(es.doc,eJ,eO.to);}}else{if(eK=="triple"){if(c7(eN,eJ)){aK(es.doc,eI,J(ev,c3(eN.line,0)));}else{aK(es.doc,eJ,J(ev,c3(eN.line+1,0)));}}}}var eA=ba(eu.wrapper);var et=0;function eB(eP){var eO=++et;var eN=c5(es,eP,true);if(!eN){return;}if(!c4(eN,eC)){if(!es.state.focused){cL(es);}eC=eN;ex(eN);var eR=eh(eu,ev);if(eN.line>=eR.to||eN.line<eR.from){setTimeout(cS(es,function(){if(et==eO){eB(eP);}}),150);}}else{var eQ=eP.clientY<eA.top?-20:eP.clientY>eA.bottom?20:0;if(eQ){setTimeout(cS(es,function(){if(et!=eO){return;}eu.scroller.scrollTop+=eQ;eB(eP);}),50);}}}function ew(eN){et=Infinity;az(eN);aX(es);cF(document,"mousemove",eE);cF(document,"mouseup",eL);}var eE=cS(es,function(eN){if(!bo&&!ax(eN)){ew(eN);}else{eB(eN);}});var eL=cS(es,ew);cG(document,"mousemove",eE);cG(document,"mouseup",eL);}function bc(es,eu,eE,eC,eD){try{var eA=eu.clientX,eB=eu.clientY;}catch(eu){return false;}if(eA>=Math.floor(ba(es.display.gutters).right)){return false;}if(eC){az(eu);}var et=es.display;var ez=ba(et.lineDiv);if(eB>ez.bottom||!bh(es,eE)){return ay(eu);}eB-=ez.top-et.viewOffset;for(var ex=0;ex<es.options.gutters.length;++ex){var ev=et.gutters.childNodes[ex];if(ev&&ba(ev).right>=eA){var ey=bT(es.doc,eB);var ew=es.options.gutters[ex];eD(es,eE,es,ey,ew,eu);return ay(eu);}}}function Z(es,et){if(!bh(es,"gutterContextMenu")){return false;}return bc(es,et,"gutterContextMenu",false,dL);}function H(es,et){return bc(es,et,"gutterClick",true,dN);}var bP=0;function cK(ev){var es=this;if(dM(es,ev)||aI(es.display,ev)||(es.options.onDragEvent&&es.options.onDragEvent(es,c(ev)))){return;}az(ev);if(bo){bP=+new Date;}var eA=c5(es,ev,true),ew=ev.dataTransfer.files;if(!eA||bE(es)){return;}if(ew&&ew.length&&window.FileReader&&window.File){var ez=ew.length,eC=Array(ez),eB=0;var ey=function(eD,eE){var eF=new FileReader;eF.onload=function(){eC[eE]=eF.result;if(++eB==ez){eA=J(es.doc,eA);cb(es.doc,{from:eA,to:eA,text:dT(eC.join("\n")),origin:"paste"},"around");}};eF.readAsText(eD);};for(var ex=0;ex<ez;++ex){ey(ew[ex],ex);}}else{if(es.state.draggingText&&!(c7(eA,es.doc.sel.from)||c7(es.doc.sel.to,eA))){es.state.draggingText(ev);setTimeout(o(aX,es),20);return;}try{var eC=ev.dataTransfer.getData("Text");if(eC){var et=es.doc.sel.from,eu=es.doc.sel.to;dH(es.doc,eA,eA);if(es.state.draggingText){dp(es.doc,"",et,eu,"paste");}es.replaceSelection(eC,null,"paste");aX(es);}}catch(ev){}}}function cJ(es,et){if(bo&&(!es.state.draggingText||+new Date-bP<100)){aA(et);return;}if(dM(es,et)||aI(es.display,et)){return;}var ev=es.getSelection();et.dataTransfer.setData("Text",ev);if(et.dataTransfer.setDragImage&&!du){var eu=aD("img",null,null,"position: fixed; left: 0; top: 0;");eu.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";if(cQ){eu.width=eu.height=1;es.display.wrapper.appendChild(eu);eu._top=eu.offsetTop;}et.dataTransfer.setDragImage(eu,0,0);if(cQ){eu.parentNode.removeChild(eu);}}}function dG(es,et){if(Math.abs(es.doc.scrollTop-et)<2){return;}es.doc.scrollTop=et;if(!aZ){d4(es,[],et);}if(es.display.scroller.scrollTop!=et){es.display.scroller.scrollTop=et;}if(es.display.scrollbarV.scrollTop!=et){es.display.scrollbarV.scrollTop=et;}if(aZ){d4(es,[]);}dW(es,100);}function dF(es,eu,et){if(et?eu==es.doc.scrollLeft:Math.abs(es.doc.scrollLeft-eu)<2){return;}eu=Math.min(eu,es.display.scroller.scrollWidth-es.display.scroller.clientWidth);es.doc.scrollLeft=eu;f(es);if(es.display.scroller.scrollLeft!=eu){es.display.scroller.scrollLeft=eu;}if(es.display.scrollbarH.scrollLeft!=eu){es.display.scrollbarH.scrollLeft=eu;}}var el=0,ek=null;if(bo){ek=-parseFloat(".53");}else{if(aZ){ek=15;}else{if(C){ek=-parseFloat(".7");}else{if(du){ek=-1/3;}}}}function cP(et,ey){var ew=ey.wheelDeltaX,ex=ey.wheelDeltaY;if(ew==null&&ey.detail&&ey.axis==ey.HORIZONTAL_AXIS){ew=ey.detail;}if(ex==null&&ey.detail&&ey.axis==ey.VERTICAL_AXIS){ex=ey.detail;}else{if(ex==null){ex=ey.wheelDelta;}}var ev=et.display,eA=ev.scroller;if(!(ew&&eA.scrollWidth>eA.clientWidth||ex&&eA.scrollHeight>eA.clientHeight)){return;}if(ex&&b8&&ej){for(var eu=ey.target;eu!=eA;eu=eu.parentNode){if(eu.lineObj){et.display.currentWheelTarget=eu;break;}}}if(ew&&!aZ&&!cQ&&ek!=null){if(ex){dG(et,Math.max(0,Math.min(eA.scrollTop+ex*ek,eA.scrollHeight-eA.clientHeight)));}dF(et,Math.max(0,Math.min(eA.scrollLeft+ew*ek,eA.scrollWidth-eA.clientWidth)));az(ey);ev.wheelStartX=null;return;}if(ex&&ek!=null){var ez=ex*ek;var eB=et.doc.scrollTop,es=eB+ev.wrapper.clientHeight;if(ez<0){eB=Math.max(0,eB+ez-50);}else{es=Math.min(et.doc.height,es+ez+50);}d4(et,[],{top:eB,bottom:es});}if(el<20){if(ev.wheelStartX==null){ev.wheelStartX=eA.scrollLeft;ev.wheelStartY=eA.scrollTop;ev.wheelDX=ew;ev.wheelDY=ex;setTimeout(function(){if(ev.wheelStartX==null){return;}var eC=eA.scrollLeft-ev.wheelStartX;var eD=eA.scrollTop-ev.wheelStartY;var eE=(eD&&ev.wheelDY&&eD/ev.wheelDY)||(eC&&ev.wheelDX&&eC/ev.wheelDX);ev.wheelStartX=ev.wheelStartY=null;if(!eE){return;}ek=(ek*el+eE)/(el+1);++el;},200);}else{ev.wheelDX+=ew;ev.wheelDY+=ex;}}}function au(et,es,ew){if(typeof es=="string"){es=R[es];if(!es){return false;}}if(et.display.pollingFast&&dc(et)){et.display.pollingFast=false;}var eu=et.doc,ex=eu.sel.shift,ev=false;try{if(bE(et)){et.state.suppressEdits=true;}if(ew){eu.sel.shift=false;}ev=es(et)!=c0;}finally{eu.sel.shift=ex;et.state.suppressEdits=false;}return ev;}function g(es){var et=es.state.keyMaps.slice(0);if(es.options.extraKeys){et.push(es.options.extraKeys);}et.push(es.options.keyMap);return et;}var cm;function bf(es,et){var ey=a3(es.options.keyMap),ex=ey.auto;clearTimeout(cm);if(ex&&!bD(et)){cm=setTimeout(function(){if(a3(es.options.keyMap)==ey){es.options.keyMap=(ex.call?ex.call(null,es):ex);bI(es);}},50);}var ew=bJ(et,true),eu=false;if(!ew){return false;}var ev=g(es);if(et.shiftKey){eu=b6("Shift-"+ew,ev,function(ez){return au(es,ez,true);})||b6(ew,ev,function(ez){if(typeof ez=="string"?/^go[A-Z]/.test(ez):ez.motion){return au(es,ez);}});}else{eu=b6(ew,ev,function(ez){return au(es,ez);});}if(eu){az(et);dr(es);if(br){et.oldKeyCode=et.keyCode;et.keyCode=0;}dN(es,"keyHandled",es,ew,et);}return eu;}function be(et,eu,es){var ev=b6("'"+es+"'",g(et),function(ew){return au(et,ew,true);});if(ev){az(eu);dr(et);dN(et,"keyHandled",et,"'"+es+"'",eu);}return ev;}var bQ=null;function cM(eu){var es=this;if(!es.state.focused){cL(es);}if(dM(es,eu)||es.options.onKeyEvent&&es.options.onKeyEvent(es,c(eu))){return;}if(bo&&eu.keyCode==27){eu.returnValue=false;}var et=eu.keyCode;es.doc.sel.shift=et==16||eu.shiftKey;var ev=bf(es,eu);if(cQ){bQ=ev?et:null;if(!ev&&et==88&&!bg&&(b8?eu.metaKey:eu.ctrlKey)){es.replaceSelection("");}}}function cN(ev){var eu=this;if(dM(eu,ev)||eu.options.onKeyEvent&&eu.options.onKeyEvent(eu,c(ev))){return;}var ew=ev.keyCode,et=ev.charCode;if(cQ&&ew==bQ){bQ=null;az(ev);return;}if(((cQ&&(!ev.which||ev.which<10))||bL)&&bf(eu,ev)){return;}var es=String.fromCharCode(et==null?ew:et);if(be(eu,ev,es)){return;}if(bo&&!br){eu.display.inputHasSelection=null;}aN(eu);}function cL(es){if(es.options.readOnly=="nocursor"){return;}if(!es.state.focused){dL(es,"focus",es);es.state.focused=true;if(es.display.wrapper.className.search(/\bCodeMirror-focused\b/)==-1){es.display.wrapper.className+=" CodeMirror-focused";}if(!es.curOp){dq(es,true);if(ej){setTimeout(o(dq,es,true),0);}}}dP(es);dr(es);}function cH(es){if(es.state.focused){dL(es,"blur",es);es.state.focused=false;es.display.wrapper.className=es.display.wrapper.className.replace(" CodeMirror-focused","");}clearInterval(es.display.blinker);setTimeout(function(){if(!es.state.focused){es.doc.sel.shift=false;}},150);}var aq;function cI(es,eu){if(dM(es,eu,"contextmenu")){return;}var et=es.display,eC=es.doc.sel;if(aI(et,eu)||Z(es,eu)){return;}var ex=c5(es,eu),eB=et.scroller.scrollTop;if(!ex||cQ){return;}var eA=es.options.resetSelectionOnContextMenu;if(eA&&(c4(eC.from,eC.to)||c7(ex,eC.from)||!c7(ex,eC.to))){cS(es,dH)(es.doc,ex,ex);}var ew=et.input.style.cssText;et.inputDiv.style.position="absolute";et.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(eu.clientY-5)+"px; left: "+(eu.clientX-5)+"px; z-index: 1000; background: transparent; outline: none;border-width: 0; outline: none; overflow: hidden; opacity: .05; -ms-opacity: .05; filter: alpha(opacity=5);";aX(es);dq(es,true);if(c4(eC.from,eC.to)){et.input.value=et.prevInput=" ";}function ey(){if(et.input.selectionStart!=null){var eD=et.input.value="\u200b"+(c4(eC.from,eC.to)?"":et.input.value);et.prevInput="\u200b";et.input.selectionStart=1;et.input.selectionEnd=eD.length;}}function ez(){et.inputDiv.style.position="relative";et.input.style.cssText=ew;if(br){et.scrollbarV.scrollTop=et.scroller.scrollTop=eB;}dP(es);if(et.input.selectionStart!=null){if(!bo||br){ey();}clearTimeout(aq);var eD=0,eE=function(){if(et.prevInput=="\u200b"&&et.input.selectionStart==0){cS(es,R.selectAll)(es);}else{if(eD++<10){aq=setTimeout(eE,500);}else{dq(es);}}};aq=setTimeout(eE,200);}}if(bo&&!br){ey();}if(x){aA(eu);var ev=function(){cF(window,"mouseup",ev);setTimeout(ez,20);};cG(window,"mouseup",ev);}else{setTimeout(ez,50);}}var y=N.changeEnd=function(es){if(!es.text){return es.to;}return c3(es.from.line+es.text.length-1,b7(es.text).length+(es.text.length==1?es.from.ch:0));};function K(eu,es,ex){if(!c7(es.from,ex)){return J(eu,ex);}var et=(es.text.length-1)-(es.to.line-es.from.line);if(ex.line>es.to.line+et){var ey=ex.line-et,ew=eu.first+eu.size-1;if(ey>ew){return c3(ew,a4(eu,ew).text.length);}return L(ex,a4(eu,ey).text.length);}if(ex.line==es.to.line+et){return L(ex,b7(es.text).length+(es.text.length==1?es.from.ch:0)+a4(eu,es.to.line).text.length-es.to.ch);}var ev=ex.line-es.from.line;return L(ex,es.text[ev].length+(ev?0:es.from.ch));}function X(eu,et,ew){if(ew&&typeof ew=="object"){return{anchor:K(eu,et,ew.anchor),head:K(eu,et,ew.head)};}if(ew=="start"){return{anchor:et.from,head:et.from};}var ev=y(et);if(ew=="around"){return{anchor:et.from,head:ev};}if(ew=="end"){return{anchor:ev,head:ev};}var es=function(ez){if(c7(ez,et.from)){return ez;}if(!c7(et.to,ez)){return ev;}var ey=ez.line+et.text.length-(et.to.line-et.from.line)-1,ex=ez.ch;if(ez.line==et.to.line){ex+=ev.ch-et.to.ch;}return c3(ey,ex);};return{anchor:es(eu.sel.anchor),head:es(eu.sel.head)};}function aO(et,es,ev){var eu={canceled:false,from:es.from,to:es.to,text:es.text,origin:es.origin,cancel:function(){this.canceled=true;}};if(ev){eu.update=function(ew,ez,ey,ex){if(ew){this.from=J(et,ew);}if(ez){this.to=J(et,ez);}if(ey){this.text=ey;}if(ex!==undefined){this.origin=ex;}};}dL(et,"beforeChange",et,eu);if(et.cm){dL(et.cm,"beforeChange",et.cm,eu);}if(eu.canceled){return null;}return{from:eu.from,to:eu.to,text:eu.text,origin:eu.origin};}function cb(et,es,ew,ev){if(et.cm){if(!et.cm.curOp){return cS(et.cm,cb)(et,es,ew,ev);}if(et.cm.state.suppressEdits){return;}}if(bh(et,"beforeChange")||et.cm&&bh(et.cm,"beforeChange")){es=aO(et,es,true);if(!es){return;}}var ex=dw&&!ev&&dn(et,es.from,es.to);if(ex){for(var eu=ex.length-1;eu>=1;--eu){cd(et,{from:ex[eu].from,to:ex[eu].to,text:[""]});}if(ex.length){cd(et,{from:ex[0].from,to:ex[0].to,text:es.text},ew);}}else{cd(et,es,ew);}}function cd(et,es,ew){if(es.text.length==1&&es.text[0]==""&&c4(es.from,es.to)){return;}var ev=X(et,es,ew);d(et,es,ev,et.cm?et.cm.curOp.id:NaN);ce(et,es,ev,dY(et,es));var eu=[];b4(et,function(ex,ey){if(!ey&&bt(eu,ex.history)==-1){dd(ex.history,es);eu.push(ex.history);}ce(ex,es,null,dY(ex,es));});}function cc(ev,eB){if(ev.cm&&ev.cm.state.suppressEdits){return;}var ey=ev.history;var ew=(eB=="undo"?ey.done:ey.undone).pop();if(!ew){return;}var et={changes:[],anchorBefore:ew.anchorAfter,headBefore:ew.headAfter,anchorAfter:ew.anchorBefore,headAfter:ew.headBefore,generation:ey.generation};(eB=="undo"?ey.undone:ey.done).push(et);ey.generation=ew.generation||++ey.maxGeneration;var ex=bh(ev,"beforeChange")||ev.cm&&bh(ev.cm,"beforeChange");for(var ez=ew.changes.length-1;ez>=0;--ez){var eu=ew.changes[ez];eu.origin=eB;if(ex&&!aO(ev,eu,false)){(eB=="undo"?ey.done:ey.undone).length=0;return;}et.changes.push(bn(ev,eu));var es=ez?X(ev,eu,null):{anchor:ew.anchorBefore,head:ew.headBefore};ce(ev,eu,es,ct(ev,eu));var eA=[];b4(ev,function(eC,eD){if(!eD&&bt(eA,eC.history)==-1){dd(eC.history,eu);eA.push(eC.history);}ce(eC,eu,null,ct(eC,eu));});}}function dK(et,es){function eu(ev){return c3(ev.line+es,ev.ch);}et.first+=es;if(et.cm){dh(et.cm,et.first,et.first,es);}et.sel.head=eu(et.sel.head);et.sel.anchor=eu(et.sel.anchor);et.sel.from=eu(et.sel.from);et.sel.to=eu(et.sel.to);}function ce(et,es,ev,ex){if(et.cm&&!et.cm.curOp){return cS(et.cm,ce)(et,es,ev,ex);}if(es.to.line<et.first){dK(et,es.text.length-1-(es.to.line-es.from.line));return;}if(es.from.line>et.lastLine()){return;}if(es.from.line<et.first){var ew=es.text.length-1-(et.first-es.from.line);dK(et,ew);es={from:c3(et.first,0),to:c3(es.to.line+ew,es.to.ch),text:[b7(es.text)],origin:es.origin};}var eu=et.lastLine();if(es.to.line>eu){es={from:es.from,to:c3(eu,a4(et,eu).text.length),text:[es.text[0]],origin:es.origin};}es.removed=a0(et,es.from,es.to);if(!ev){ev=X(et,es,null);}if(et.cm){cf(et.cm,es,ex,ev);}else{d6(et,es,ex,ev);}}function cf(ev,es,eD,eC){var ey=ev.doc,ex=ev.display,ez=es.from,eE=es.to;var eB=false,eu=ez.line;if(!ev.options.lineWrapping){eu=bZ(ei(ey,a4(ey,ez.line)));ey.iter(eu,eE.line+1,function(eF){if(eF==ex.maxLine){eB=true;return true;}});}if(!c7(ey.sel.head,es.from)&&!c7(es.to,ey.sel.head)){ev.curOp.cursorActivity=true;}d6(ey,es,eD,eC,aG(ev));if(!ev.options.lineWrapping){ey.iter(eu,ez.line+es.text.length,function(eG){var eF=bY(ey,eG);if(eF>ex.maxLineLength){ex.maxLine=eG;ex.maxLineLength=eF;ex.maxLineChanged=true;eB=false;}});if(eB){ev.curOp.updateMaxLine=true;}}ey.frontier=Math.min(ey.frontier,ez.line);dW(ev,400);var eA=es.text.length-(eE.line-ez.line)-1;dh(ev,ez.line,eE.line+1,eA);if(bh(ev,"change")){var et={from:ez,to:eE,text:es.text,removed:es.removed,origin:es.origin};if(ev.curOp.textChanged){for(var ew=ev.curOp.textChanged;ew.next;ew=ew.next){}ew.next=et;}else{ev.curOp.textChanged=et;}}}function dp(et,es,eu,ex,ev){if(!ex){ex=eu;}if(c7(ex,eu)){var ew=ex;ex=eu;eu=ew;}if(typeof es=="string"){es=dT(es);}cb(et,{from:eu,to:ex,text:es,origin:ev},null);}function c3(et,es){if(!(this instanceof c3)){return new c3(et,es);}this.line=et;this.ch=es;}N.Pos=c3;function c4(es,et){return es.line==et.line&&es.ch==et.ch;}function c7(es,et){return es.line<et.line||(es.line==et.line&&es.ch<et.ch);}function M(es,et){return es.line-et.line||es.ch-et.ch;}function ae(es){return c3(es.line,es.ch);}function I(es,et){return Math.max(es.first,Math.min(et,es.first+es.size-1));}function J(es,eu){if(eu.line<es.first){return c3(es.first,0);}var et=es.first+es.size-1;if(eu.line>et){return c3(et,a4(es,et).text.length);}return L(eu,a4(es,eu.line).text.length);}function L(eu,et){var es=eu.ch;if(es==null||es>et){return c3(eu.line,et);}else{if(es<0){return c3(eu.line,0);}else{return eu;}}}function bC(es,et){return et>=es.first&&et<es.first+es.size;}function aK(eu,ew,ev,et){if(eu.sel.shift||eu.sel.extend){var es=eu.sel.anchor;if(ev){var ex=c7(ew,es);if(ex!=c7(ev,es)){es=ew;ew=ev;}else{if(ex!=c7(ew,ev)){ew=ev;}}}dH(eu,es,ew,et);}else{dH(eu,ew,ev||ew,et);}if(eu.cm){eu.cm.curOp.userSelChange=true;}}function aP(et,es,eu){var ev={anchor:es,head:eu};dL(et,"beforeSelectionChange",et,ev);if(et.cm){dL(et.cm,"beforeSelectionChange",et.cm,ev);}ev.anchor=J(et,ev.anchor);ev.head=J(et,ev.head);return ev;}function dH(ev,es,ex,et,eu){if(!eu&&bh(ev,"beforeSelectionChange")||ev.cm&&bh(ev.cm,"beforeSelectionChange")){var ew=aP(ev,es,ex);ex=ew.head;es=ew.anchor;}var ez=ev.sel;ez.goalColumn=null;if(et==null){et=c7(ex,ez.head)?-1:1;}if(eu||!c4(es,ez.anchor)){es=dO(ev,es,et,eu!="push");}if(eu||!c4(ex,ez.head)){ex=dO(ev,ex,et,eu!="push");}if(c4(ez.anchor,es)&&c4(ez.head,ex)){return;}ez.anchor=es;ez.head=ex;var ey=c7(ex,es);ez.from=ey?ex:es;ez.to=ey?es:ex;if(ev.cm){ev.cm.curOp.updateInput=ev.cm.curOp.selectionChanged=ev.cm.curOp.cursorActivity=true;}dN(ev,"cursorActivity",ev);}function dg(es){dH(es.doc,es.doc.sel.from,es.doc.sel.to,null,"push");}function dO(ev,eC,es,eA){var ew=false,et=eC;var eu=es||1;ev.cantEdit=false;search:for(;;){var ey=a4(ev,et.line);if(ey.markedSpans){for(var ex=0;ex<ey.markedSpans.length;++ex){var eD=ey.markedSpans[ex],ez=eD.marker;if((eD.from==null||(ez.inclusiveLeft?eD.from<=et.ch:eD.from<et.ch))&&(eD.to==null||(ez.inclusiveRight?eD.to>=et.ch:eD.to>et.ch))){if(eA){dL(ez,"beforeCursorEnter");if(ez.explicitlyCleared){if(!ey.markedSpans){break;}else{--ex;continue;}}}if(!ez.atomic){continue;}var eB=ez.find()[eu<0?"from":"to"];if(c4(eB,et)){eB.ch+=eu;if(eB.ch<0){if(eB.line>ev.first){eB=J(ev,c3(eB.line-1));}else{eB=null;}}else{if(eB.ch>ey.text.length){if(eB.line<ev.first+ev.size-1){eB=c3(eB.line+1,0);}else{eB=null;}}}if(!eB){if(ew){if(!eA){return dO(ev,eC,es,true);}ev.cantEdit=true;return c3(ev.first,0);}ew=true;eB=eC;eu=-eu;}}et=eB;continue search;}}}return et;}}function dy(et){var eu=dB(et,et.doc.sel.head,null,et.options.cursorScrollMargin);if(!et.state.focused){return;}var ev=et.display,es=ba(ev.sizer),ew=null;if(eu.top+es.top<0){ew=true;}else{if(eu.bottom+es.top>(window.innerHeight||document.documentElement.clientHeight)){ew=false;}}if(ew!=null&&!c2){var ex=aD("div","\u200b",null,"position: absolute; top: "+(eu.top-ev.viewOffset)+"px; height: "+(eu.bottom-eu.top+dz)+"px; left: "+eu.left+"px; width: 2px;");et.display.lineSpace.appendChild(ex);ex.scrollIntoView(ew);et.display.lineSpace.removeChild(ex);}}function dB(et,ey,ev,ex){if(ex==null){ex=0;}for(;;){var es=false,eu=aj(et,ey);var ew=!ev||ev==ey?eu:aj(et,ev);var ez=w(et,Math.min(eu.left,ew.left),Math.min(eu.top,ew.top)-ex,Math.max(eu.left,ew.left),Math.max(eu.bottom,ew.bottom)+ex);var eB=et.doc.scrollTop,eA=et.doc.scrollLeft;if(ez.scrollTop!=null){dG(et,ez.scrollTop);if(Math.abs(et.doc.scrollTop-eB)>1){es=true;}}if(ez.scrollLeft!=null){dF(et,ez.scrollLeft);if(Math.abs(et.doc.scrollLeft-eA)>1){es=true;}}if(!es){return eu;}}}function dA(es,eu,ew,ev,ex){var et=w(es,eu,ew,ev,ex);if(et.scrollTop!=null){dG(es,et.scrollTop);}if(et.scrollLeft!=null){dF(es,et.scrollLeft);}}function w(ev,eG,eI,eH,eJ){var ew=ev.display,eF=d1(ev.display);if(eI<0){eI=0;}var eB=ew.scroller.clientHeight-dz,eD=ew.scroller.scrollTop,eA={};var ex=ev.doc.height+cX(ew);var eu=eI<eF,es=eJ>ex-eF;if(eI<eD){eA.scrollTop=eu?0:eI;}else{if(eJ>eD+eB){var ez=Math.min(eI,(es?ex:eJ)-eB);if(ez!=eD){eA.scrollTop=ez;}}}var eE=ew.scroller.clientWidth-dz,eC=ew.scroller.scrollLeft;eG+=ew.gutters.offsetWidth;eH+=ew.gutters.offsetWidth;var ey=ew.gutters.offsetWidth;var et=eG<ey+10;if(eG<eC+ey||et){if(et){eG=0;}eA.scrollLeft=Math.max(0,eG-10-ey);}else{if(eH>eE+eC-3){eA.scrollLeft=eH+10-eE;}}return eA;}function ec(es,et,eu){es.curOp.updateScrollPos={scrollLeft:et==null?es.doc.scrollLeft:et,scrollTop:eu==null?es.doc.scrollTop:eu};}function e(es,et,ew){var eu=es.curOp.updateScrollPos||(es.curOp.updateScrollPos={scrollLeft:es.doc.scrollLeft,scrollTop:es.doc.scrollTop});var ev=es.display.scroller;eu.scrollTop=Math.max(0,Math.min(ev.scrollHeight-ev.clientHeight,eu.scrollTop+ew));eu.scrollLeft=Math.max(0,Math.min(ev.scrollWidth-ev.clientWidth,eu.scrollLeft+et));}function bs(et,eC,ex,es){var ew=et.doc;if(ex==null){ex="add";}if(ex=="smart"){if(!et.doc.mode.indent){ex="prev";}else{var eE=bb(et,eC);}}var eF=et.options.tabSize;var eB=a4(ew,eC),eu=ag(eB.text,null,eF);var ev=eB.text.match(/^\s*/)[0],ez;if(!es&&!/\S/.test(eB.text)){ez=0;ex="not";}else{if(ex=="smart"){ez=et.doc.mode.indent(eE,eB.text.slice(ev.length),eB.text);if(ez==c0){if(!es){return;}ex="prev";}}}if(ex=="prev"){if(eC>ew.first){ez=ag(a4(ew,eC-1).text,null,eF);}else{ez=0;}}else{if(ex=="add"){ez=eu+et.options.indentUnit;}else{if(ex=="subtract"){ez=eu-et.options.indentUnit;}else{if(typeof ex=="number"){ez=eu+ex;}}}}ez=Math.max(0,ez);var eA="",eD=0;if(et.options.indentWithTabs){for(var ey=Math.floor(ez/eF);ey;--ey){eD+=eF;eA+="\t";}}if(eD<ez){eA+=dQ(ez-eD);}if(eA!=ev){dp(et.doc,eA,c3(eC,0),c3(eC,ev.length),"+input");}else{if(ew.sel.head.line==eC&&ew.sel.head.ch<ev.length){dH(ew,c3(eC,ev.length),c3(eC,ev.length),1);}}eB.stateAfter=null;}function z(es,eu,ex){var ew=eu,ev=eu,et=es.doc;if(typeof eu=="number"){ev=a4(et,I(et,eu));}else{ew=bZ(eu);}if(ew==null){return null;}if(ex(ev,ew)){dh(es,ew,ew+1);}else{return null;}return ev;}function aR(ev,eD,eu,eI,eJ){var ez=eD.line,es=eD.ch,eC=eu;var eA=a4(ev,ez);var eE=true;function ew(){var eK=ez+eu;if(eK<ev.first||eK>=ev.first+ev.size){return(eE=false);}ez=eK;return eA=a4(ev,eK);}function eB(eK){var eL=(eJ?cA:cz)(eA,es,eu,true);if(eL==null){if(!eK&&ew()){if(eJ){es=(eu<0?b1:bX)(eA);}else{es=eu<0?eA.text.length:0;}}else{return(eE=false);}}else{es=eL;}return true;}if(eI=="char"){eB();}else{if(eI=="column"){eB(true);}else{if(eI=="word"||eI=="group"){var eG=null,ey=eI=="group";for(var ex=true;;ex=false){if(eu<0&&!eB(!ex)){break;}var et=eA.text.charAt(es)||"\n";var eH=bF(et)?"w":!ey?null:/\s/.test(et)?null:"p";if(eG&&eG!=eH){if(eu<0){eu=1;eB();}break;}if(eH){eG=eH;}if(eu>0&&!eB(!ex)){break;}}}}}var eF=dO(ev,c3(ez,es),eC,true);if(!eE){eF.hitSide=true;}return eF;}function aS(es,ew,et,ey){var eu=es.doc,ez=ew.left,eA;if(ey=="page"){var ev=Math.min(es.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);eA=ew.top+et*(ev-(et<0?parseFloat("1.5"):parseFloat(".5"))*d1(es.display));}else{if(ey=="line"){eA=et>0?ew.bottom+3:ew.top-3;}}for(;;){var ex=aa(es,ez,eA);if(!ex.outside){break;}if(et<0?eA<=0:eA>=eu.height){ex.hitSide=true;break;}eA+=et*5;}return ex;}function aU(eu,ev){var ew=ev.ch,et=ev.ch;if(eu){if((ev.xRel<0||et==eu.length)&&ew){--ew;}else{++et;}var ex=eu.charAt(ew);var es=bF(ex)?bF:/\s/.test(ex)?function(ey){return/\s/.test(ey);}:function(ey){return !/\s/.test(ey)&&!bF(ey);};while(ew>0&&es(eu.charAt(ew-1))){--ew;}while(et<eu.length&&es(eu.charAt(et))){++et;}}return{from:c3(ev.line,ew),to:c3(ev.line,et)};}function dD(es,et){aK(es.doc,c3(et,0),J(es.doc,c3(et+1,0)));}N.prototype={constructor:N,focus:function(){window.focus();aX(this);aN(this);},setOption:function(et,ev){var eu=this.options,es=eu[et];if(eu[et]==ev&&et!="mode"){return;}eu[et]=ev;if(cU.hasOwnProperty(et)){cS(this,cU[et])(this,ev,es);}},getOption:function(es){return this.options[es];},getDoc:function(){return this.doc;},addKeyMap:function(et,es){this.state.keyMaps[es?"push":"unshift"](et);},removeKeyMap:function(et){var eu=this.state.keyMaps;for(var es=0;es<eu.length;++es){if(eu[es]==et||(typeof eu[es]!="string"&&eu[es].name==et)){eu.splice(es,1);return true;}}},addOverlay:cS(null,function(eu,et){var es=eu.token?eu:N.getMode(this.options,eu);if(es.startState){throw new Error("Overlays may not be stateful.");}this.state.overlays.push({mode:es,modeSpec:eu,opaque:et&&et.opaque});this.state.modeGen++;dh(this);}),removeOverlay:cS(null,function(ev){var eu=this.state.overlays;for(var et=0;et<eu.length;++et){var es=eu[et].modeSpec;if(es==ev||typeof ev=="string"&&es.name==ev){eu.splice(et,1);this.state.modeGen++;dh(this);return;}}}),indentLine:cS(null,function(eu,et,es){if(typeof et!="string"&&typeof et!="number"){if(et==null){et=this.options.smartIndent?"smart":"prev";}else{et=et?"add":"subtract";}}if(bC(this.doc,eu)){bs(this,eu,et,es);}}),indentSelection:cS(null,function(et){var ev=this.doc.sel;if(c4(ev.from,ev.to)){return bs(this,ev.from.line,et);}var es=ev.to.line-(ev.to.ch?0:1);for(var eu=ev.from.line;eu<=es;++eu){bs(this,eu,et);}}),getTokenAt:function(ev,ew){var es=this.doc;ev=J(es,ev);var ex=bb(this,ev.line,ew),eu=this.doc.mode;var et=a4(es,ev.line);var ey=new dZ(et.text,this.options.tabSize);while(ey.pos<ev.ch&&!ey.eol()){ey.start=ey.pos;var ez=eu.token(ey,ex);}return{start:ey.start,end:ey.pos,string:ey.current(),className:ez||null,type:ez||null,state:ex};},getTokenTypeAt:function(ew){ew=J(this.doc,ew);var ex=a6(this,a4(this.doc,ew.line));var et=0,es=(ex.length-1)/2,eu=ew.ch;if(eu==0){return ex[2];}for(;;){var ev=(et+es)>>1;if((ev?ex[ev*2-1]:0)>=eu){es=ev;}else{if(ex[ev*2+1]<eu){et=ev+1;}else{return ex[ev*2+2];}}}},getModeAt:function(et){var es=this.doc.mode;if(!es.innerMode){return es;}return N.innerMode(es,this.getTokenAt(et).state).mode;},getHelper:function(es,et){return this.getHelpers(es,et)[0];},getHelpers:function(ex,ey){var et=[];if(!bk.hasOwnProperty(ey)){return bk;}var eu=bk[ey],ew=this.getModeAt(ex);if(typeof ew[ey]=="string"){if(eu[ew[ey]]){et.push(eu[ew[ey]]);}}else{if(ew[ey]){for(var ev=0;ev<ew[ey].length;ev++){var ez=eu[ew[ey][ev]];if(ez){et.push(ez);}}}else{if(ew.helperType&&eu[ew.helperType]){et.push(eu[ew.helperType]);}else{if(eu[ew.name]){et.push(eu[ew.name]);}}}}for(var ev=0;ev<eu._global.length;ev++){var es=eu._global[ev];if(es.pred(ew,this)&&bt(et,es.val)==-1){et.push(es.val);}}return et;},getStateAfter:function(et,eu){var es=this.doc;et=I(es,et==null?es.first+es.size-1:et);return bb(this,et+1,eu);},cursorCoords:function(ev,es){var et,eu=this.doc.sel;if(ev==null){et=eu.head;}else{if(typeof ev=="object"){et=J(this.doc,ev);}else{et=ev?eu.from:eu.to;}}return aj(this,et,es||"page");},charCoords:function(et,es){return A(this,J(this.doc,et),es||"page");},coordsChar:function(es,et){es=aY(this,es,et||"page");return aa(this,es.left,es.top);},lineAtHeight:function(es,et){es=aY(this,{top:es,left:0},et||"page").top;return bT(this.doc,es+this.display.viewOffset);},heightAtLine:function(eu,ew){var es=false,et=this.doc.first+this.doc.size-1;if(eu<this.doc.first){eu=this.doc.first;}else{if(eu>et){eu=et;es=true;}}var ev=a4(this.doc,eu);return by(this,a4(this.doc,eu),{top:0,left:0},ew||"page").top+(es?ev.height:0);},defaultTextHeight:function(){return d1(this.display);},defaultCharWidth:function(){return B(this.display);},setGutterMarker:cS(null,function(et,es,eu){return z(this,et,function(ev){var ew=ev.gutterMarkers||(ev.gutterMarkers={});ew[es]=eu;if(!eu&&bA(ew)){ev.gutterMarkers=null;}return true;});}),clearGutter:cS(null,function(eu){var es=this,et=es.doc,ev=et.first;et.iter(function(ew){if(ew.gutterMarkers&&ew.gutterMarkers[eu]){ew.gutterMarkers[eu]=null;dh(es,ev,ev+1);if(bA(ew.gutterMarkers)){ew.gutterMarkers=null;}}++ev;});}),addLineClass:cS(null,function(et,eu,es){return z(this,et,function(ev){var ew=eu=="text"?"textClass":eu=="background"?"bgClass":"wrapClass";if(!ev[ew]){ev[ew]=es;}else{if(new RegExp("(?:^|\\s)"+es+"(?:$|\\s)").test(ev[ew])){return false;}else{ev[ew]+=" "+es;}}return true;});}),removeLineClass:cS(null,function(et,eu,es){return z(this,et,function(ey){var ez=eu=="text"?"textClass":eu=="background"?"bgClass":"wrapClass";var ev=ey[ez];if(!ev){return false;}else{if(es==null){ey[ez]=null;}else{var ex=ev.match(new RegExp("(?:^|\\s+)"+es+"(?:$|\\s+)"));if(!ex){return false;}var ew=ex.index+ex[0].length;ey[ez]=ev.slice(0,ex.index)+(!ex.index||ew==ev.length?"":" ")+ev.slice(ew)||null;}}return true;});}),addLineWidget:cS(null,function(es,et,eu){return a(this,es,et,eu);}),removeLineWidget:function(es){es.clear();},lineInfo:function(es){if(typeof es=="number"){if(!bC(this.doc,es)){return null;}var et=es;es=a4(this.doc,es);if(!es){return null;}}else{var et=bZ(es);if(et==null){return null;}}return{line:et,handle:es,text:es.text,gutterMarkers:es.gutterMarkers,textClass:es.textClass,bgClass:es.bgClass,wrapClass:es.wrapClass,widgets:es.widgets};},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo};},addWidget:function(ex,ew,ey,eA,et){var es=this.display;ex=aj(this,J(this.doc,ex));var ez=ex.bottom,ev=ex.left;ew.style.position="absolute";es.sizer.appendChild(ew);if(eA=="over"){ez=ex.top;}else{if(eA=="above"||eA=="near"){var eB=Math.max(es.wrapper.clientHeight,this.doc.height),eu=Math.max(es.sizer.clientWidth,es.lineSpace.clientWidth);if((eA=="above"||ex.bottom+ew.offsetHeight>eB)&&ex.top>ew.offsetHeight){ez=ex.top-ew.offsetHeight;}else{if(ex.bottom+ew.offsetHeight<=eB){ez=ex.bottom;}}if(ev+ew.offsetWidth>eu){ev=eu-ew.offsetWidth;}}}ew.style.top=ez+"px";ew.style.left=ew.style.right="";if(et=="right"){ev=es.sizer.clientWidth-ew.offsetWidth;ew.style.right="0px";}else{if(et=="left"){ev=0;}else{if(et=="middle"){ev=(es.sizer.clientWidth-ew.offsetWidth)/2;}}ew.style.left=ev+"px";}if(ey){dA(this,ev,ez,ev+ew.offsetWidth,ez+ew.offsetHeight);}},triggerOnKeyDown:cS(null,cM),execCommand:function(es){return R[es](this);},findPosH:function(ev,es,ex,ey){var eu=1;if(es<0){eu=-1;es=-es;}for(var ew=0,et=J(this.doc,ev);ew<es;++ew){et=aR(this.doc,et,eu,ex,ey);if(et.hitSide){break;}}return et;},moveH:cS(null,function(es,ev){var eu=this.doc.sel,et;if(eu.shift||eu.extend||c4(eu.from,eu.to)){et=aR(this.doc,eu.head,es,ev,this.options.rtlMoveVisually);}else{et=es<0?eu.from:eu.to;}aK(this.doc,et,et,es);}),deleteH:cS(null,function(es,eu){var et=this.doc.sel;if(!c4(et.from,et.to)){dp(this.doc,"",et.from,et.to,"+delete");}else{dp(this.doc,"",et.from,aR(this.doc,et.head,es,eu,false),"+delete");}this.curOp.userSelChange=true;}),findPosV:function(ew,es,ez,ex){var ev=1,eA=ex;if(es<0){ev=-1;es=-es;}for(var ey=0,eu=J(this.doc,ew);ey<es;++ey){var et=aj(this,eu,"div");if(eA==null){eA=et.left;}else{et.left=eA;}eu=aS(this,et,ev,ez);if(eu.hitSide){break;}}return eu;},moveV:cS(null,function(es,ex){var ev=this.doc.sel,ew,et;if(ev.shift||ev.extend||c4(ev.from,ev.to)){var eu=aj(this,ev.head,"div");if(ev.goalColumn!=null){eu.left=ev.goalColumn;}ew=aS(this,eu,es,ex);if(ex=="page"){e(this,0,A(this,ew,"div").top-eu.top);}et=eu.left;}else{ew=es<0?ev.from:ev.to;}aK(this.doc,ew,ew,es);if(et!=null){ev.goalColumn=et;}}),toggleOverwrite:function(es){if(es!=null&&es==this.state.overwrite){return;}if(this.state.overwrite=!this.state.overwrite){this.display.cursor.className+=" CodeMirror-overwrite";}else{this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite","");}},hasFocus:function(){return this.state.focused;},scrollTo:cS(null,function(es,et){ec(this,es,et);}),getScrollInfo:function(){var et=this.display.scroller,es=dz;return{left:et.scrollLeft,top:et.scrollTop,height:et.scrollHeight-es,width:et.scrollWidth-es,clientHeight:et.clientHeight-es,clientWidth:et.clientWidth-es};},scrollIntoView:cS(null,function(eu,et){if(eu==null){eu={from:this.doc.sel.head,to:null};}else{if(typeof eu=="number"){eu={from:c3(eu,0),to:null};}else{if(eu.from==null){eu={from:eu,to:null};}}}if(!eu.to){eu.to=eu.from;}if(!et){et=0;}var es=eu;if(eu.from.line!=null){this.curOp.scrollToPos={from:eu.from,to:eu.to,margin:et};es={from:aj(this,eu.from),to:aj(this,eu.to)};}var ev=w(this,Math.min(es.from.left,es.to.left),Math.min(es.from.top,es.to.top)-et,Math.max(es.from.right,es.to.right),Math.max(es.from.bottom,es.to.bottom)+et);ec(this,ev.scrollLeft,ev.scrollTop);}),setSize:cS(null,function(eu,es){function et(ev){return typeof ev=="number"||/^\d+$/.test(String(ev))?ev+"px":ev;}if(eu!=null){this.display.wrapper.style.width=et(eu);}if(es!=null){this.display.wrapper.style.height=et(es);}if(this.options.lineWrapping){this.display.measureLineCache.length=this.display.measureLineCachePos=0;}this.curOp.forceUpdate=true;}),operation:function(es){return ds(this,es);},refresh:cS(null,function(){var es=this.display.cachedTextHeight==null;F(this);ec(this,this.doc.scrollLeft,this.doc.scrollTop);dh(this);if(es){aH(this);}}),swapDoc:cS(null,function(es){var et=this.doc;et.cm=null;h(this,es);F(this);dq(this,true);ec(this,es.scrollLeft,es.scrollTop);dN(this,"swapDoc",this,et);return et;}),getInputField:function(){return this.display.input;},getWrapperElement:function(){return this.display.wrapper;},getScrollerElement:function(){return this.display.scroller;},getGutterElement:function(){return this.display.gutters;}};aJ(N);var cU=N.optionHandlers={};var ak=N.defaults={};function cT(eu,es,et,ev){N.defaults[eu]=es;if(et){cU[eu]=ev?function(ew,ey,ex){if(ex!=bu){et(ew,ey,ex);}}:et;}}var bu=N.Init={toString:function(){return"CodeMirror.Init";}};cT("value","",function(es,et){es.setValue(et);},true);cT("mode",null,function(es,et){es.doc.modeOption=et;b5(es);},true);cT("indentUnit",2,b5,true);cT("indentWithTabs",false);cT("smartIndent",true);cT("tabSize",4,function(es){b5(es);F(es);dh(es);},true);cT("specialChars",/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\ufeff]/g,function(es,et){es.options.specialChars=new RegExp(et.source+(et.test("\t")?"":"|\t"),"g");es.refresh();},true);cT("specialCharPlaceholder",al,function(es){es.refresh();},true);cT("electricChars",true);cT("rtlMoveVisually",!eo);cT("wholeLineUpdateBefore",true);cT("theme","default",function(es){d3(es);bd(es);},true);cT("keyMap","default",bI);cT("extraKeys",null);cT("onKeyEvent",null);cT("onDragEvent",null);cT("lineWrapping",false,ep,true);cT("gutters",[],function(es){dE(es.options);bd(es);},true);cT("fixedGutter",true,function(es,et){es.display.gutters.style.left=et?U(es.display)+"px":"0";es.refresh();},true);cT("coverGutterNextToScrollbar",false,eb,true);cT("lineNumbers",false,function(es){dE(es.options);bd(es);},true);cT("firstLineNumber",1,bd,true);cT("lineNumberFormatter",function(es){return es;},bd,true);cT("showCursorWhenSelecting",false,ed,true);cT("resetSelectionOnContextMenu",true);cT("readOnly",false,function(es,et){if(et=="nocursor"){cH(es);es.display.input.blur();es.display.disabled=true;}else{es.display.disabled=false;if(!et){dq(es,true);}}});cT("dragDrop",true);cT("cursorBlinkRate",530);cT("cursorScrollMargin",0);cT("cursorHeight",1);cT("workTime",100);cT("workDelay",100);cT("flattenSpans",true);cT("pollInterval",100);cT("undoDepth",40,function(es,et){es.doc.history.undoDepth=et;});cT("historyEventDelay",500);cT("viewportMargin",10,function(es){es.refresh();},true);cT("maxHighlightLength",10000,function(es){b5(es);es.refresh();},true);cT("crudeMeasuringFrom",10000);cT("moveInputWithCursor",true,function(es,et){if(!et){es.display.inputDiv.style.top=es.display.inputDiv.style.left=0;}});cT("tabindex",null,function(es,et){es.display.input.tabIndex=et||"";});cT("autofocus",null);var cx=N.modes={},cu=N.mimeModes={};N.defineMode=function(eu,et){if(!N.defaults.mode&&eu!="null"){N.defaults.mode=eu;}if(arguments.length>2){et.dependencies=[];for(var es=2;es<arguments.length;++es){et.dependencies.push(arguments[es]);}}cx[eu]=et;};N.defineMIME=function(es,et){cu[es]=et;};N.resolveMode=function(et){if(typeof et=="string"&&cu.hasOwnProperty(et)){et=cu[et];}else{if(et&&typeof et.name=="string"&&cu.hasOwnProperty(et.name)){var es=cu[et.name];et=ah(es,et);et.name=es.name;}else{if(typeof et=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(et)){return N.resolveMode("application/xml");}}}if(typeof et=="string"){return{name:et};}else{return et||{name:"null"};}};N.getMode=function(ev,ex){var ex=N.resolveMode(ex);var et=cx[ex.name];if(!et){return N.getMode(ev,"text/plain");}var eu=et(ev,ex);if(cw.hasOwnProperty(ex.name)){var es=cw[ex.name];for(var ew in es){if(!es.hasOwnProperty(ew)){continue;}if(eu.hasOwnProperty(ew)){eu["_"+ew]=eu[ew];}eu[ew]=es[ew];}}eu.name=ex.name;if(ex.helperType){eu.helperType=ex.helperType;}if(ex.modeProps){for(var ew in ex.modeProps){eu[ew]=ex.modeProps[ew];}}return eu;};N.defineMode("null",function(){return{token:function(es){es.skipToEnd();}};});N.defineMIME("text/plain","null");var cw=N.modeExtensions={};N.extendMode=function(et,eu){var es=cw.hasOwnProperty(et)?cw[et]:(cw[et]={});ad(eu,es);};N.defineExtension=function(et,es){N.prototype[et]=es;};N.defineDocExtension=function(et,es){ar.prototype[et]=es;};N.defineOption=cT;var bv=[];N.defineInitHook=function(es){bv.push(es);};var bk=N.helpers={};N.registerHelper=function(et,es,eu){if(!bk.hasOwnProperty(et)){bk[et]=N[et]={_global:[]};}bk[et][es]=eu;};N.registerGlobalHelper=function(eu,es,et,ev){N.registerHelper(eu,es,ev);bk[eu]._global.push({pred:et,val:ev});};N.isWordChar=bF;function af(es,ev){if(ev===true){return ev;}if(es.copyState){return es.copyState(ev);}var eu={};for(var et in ev){var ew=ev[et];if(ew instanceof Array){ew=ew.concat([]);}eu[et]=ew;}return eu;}N.copyState=af;function dV(eu,es,et){return eu.startState?eu.startState(es,et):true;}N.startState=dV;N.innerMode=function(et,eu){while(et.innerMode){var es=et.innerMode(eu);if(!es||es.mode==et){break;}eu=es.state;et=es.mode;}return es||{mode:et,state:eu};};var R=N.commands={selectAll:function(es){es.setSelection(c3(es.firstLine(),0),c3(es.lastLine()));},killLine:function(es){var et=es.getCursor(true),ev=es.getCursor(false),eu=!c4(et,ev);if(!eu&&es.getLine(et.line).length==et.ch){es.replaceRange("",et,c3(et.line+1,0),"+delete");}else{es.replaceRange("",et,eu?ev:c3(et.line),"+delete");}},deleteLine:function(es){var et=es.getCursor().line;es.replaceRange("",c3(et,0),c3(et),"+delete");},delLineLeft:function(es){var et=es.getCursor();es.replaceRange("",c3(et.line,0),et,"+delete");},undo:function(es){es.undo();},redo:function(es){es.redo();},goDocStart:function(es){es.extendSelection(c3(es.firstLine(),0));},goDocEnd:function(es){es.extendSelection(c3(es.lastLine()));},goLineStart:function(es){es.extendSelection(b2(es,es.getCursor().line));},goLineStartSmart:function(es){var et=es.getCursor(),ey=b2(es,et.line);var ew=es.getLineHandle(ey.line);var ex=a9(ew);if(!ex||ex[0].level==0){var eu=Math.max(0,ew.text.search(/\S/));var ev=et.line==ey.line&&et.ch<=eu&&et.ch;es.extendSelection(c3(ey.line,ev?0:eu));}else{es.extendSelection(ey);}},goLineEnd:function(es){es.extendSelection(bU(es,es.getCursor().line));},goLineRight:function(es){var et=es.charCoords(es.getCursor(),"div").top+5;es.extendSelection(es.coordsChar({left:es.display.lineDiv.offsetWidth+100,top:et},"div"));},goLineLeft:function(es){var et=es.charCoords(es.getCursor(),"div").top+5;es.extendSelection(es.coordsChar({left:0,top:et},"div"));},goLineUp:function(es){es.moveV(-1,"line");},goLineDown:function(es){es.moveV(1,"line");},goPageUp:function(es){es.moveV(-1,"page");},goPageDown:function(es){es.moveV(1,"page");},goCharLeft:function(es){es.moveH(-1,"char");},goCharRight:function(es){es.moveH(1,"char");},goColumnLeft:function(es){es.moveH(-1,"column");},goColumnRight:function(es){es.moveH(1,"column");},goWordLeft:function(es){es.moveH(-1,"word");},goGroupRight:function(es){es.moveH(1,"group");},goGroupLeft:function(es){es.moveH(-1,"group");},goWordRight:function(es){es.moveH(1,"word");},delCharBefore:function(es){es.deleteH(-1,"char");},delCharAfter:function(es){es.deleteH(1,"char");},delWordBefore:function(es){es.deleteH(-1,"word");},delWordAfter:function(es){es.deleteH(1,"word");},delGroupBefore:function(es){es.deleteH(-1,"group");},delGroupAfter:function(es){es.deleteH(1,"group");},indentAuto:function(es){es.indentSelection("smart");},indentMore:function(es){es.indentSelection("add");},indentLess:function(es){es.indentSelection("subtract");},insertTab:function(es){es.replaceSelection("\t","end","+input");},defaultTab:function(es){if(es.somethingSelected()){es.indentSelection("add");}else{es.replaceSelection("\t","end","+input");}},transposeChars:function(es){var et=es.getCursor(),eu=es.getLine(et.line);if(et.ch>0&&et.ch<eu.length-1){es.replaceRange(eu.charAt(et.ch)+eu.charAt(et.ch-1),c3(et.line,et.ch-1),c3(et.line,et.ch+1));}},newlineAndIndent:function(es){cS(es,function(){es.replaceSelection("\n","end","+input");es.indentLine(es.getCursor().line,null,true);})();},toggleOverwrite:function(es){es.toggleOverwrite();}};var bH=N.keyMap={};bH.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};bH.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"};bH.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delLineLeft",fallthrough:["basic","emacsy"]};bH["default"]=b8?bH.macDefault:bH.pcDefault;bH.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};function a3(es){if(typeof es=="string"){return bH[es];}else{return es;}}function b6(ex,ew,et){function ev(eD){eD=a3(eD);var eB=eD[ex];if(eB===false){return"stop";}if(eB!=null&&et(eB)){return true;}if(eD.nofallthrough){return"stop";}var eA=eD.fallthrough;if(eA==null){return false;}if(Object.prototype.toString.call(eA)!="[object Array]"){return ev(eA);}for(var eC=0,ez=eA.length;eC<ez;++eC){var ey=ev(eA[eC]);if(ey){return ey;}}return false;}for(var eu=0;eu<ew.length;++eu){var es=ev(ew[eu]);if(es){return es!="stop";}}}function bD(es){var et=bK[es.keyCode];return et=="Ctrl"||et=="Alt"||et=="Shift"||et=="Mod";}function bJ(es,eu){if(cQ&&es.keyCode==34&&es["char"]){return false;}var et=bK[es.keyCode];if(et==null||es.altGraphKey){return false;}if(es.altKey){et="Alt-"+et;}if(aW?es.metaKey:es.ctrlKey){et="Ctrl-"+et;}if(aW?es.ctrlKey:es.metaKey){et="Cmd-"+et;}if(!eu&&es.shiftKey){et="Shift-"+et;}return et;}N.lookupKey=b6;N.isModifierKey=bD;N.keyName=bJ;N.fromTextArea=function(ez,ew){if(!ew){ew={};}ew.value=ez.value;if(!ew.tabindex&&ez.tabindex){ew.tabindex=ez.tabindex;}if(!ew.placeholder&&ez.placeholder){ew.placeholder=ez.placeholder;}if(ew.autofocus==null){var ev=document.body;try{ev=document.activeElement;}catch(et){}ew.autofocus=ev==ez||ez.getAttribute("autofocus")!=null&&ev==document.body;}function ey(){ez.value=es.getValue();}if(ez.form){cG(ez.form,"submit",ey);if(!ew.leaveSubmitMethodAlone){var eu=ez.form,ex=eu.submit;try{var eA=eu.submit=function(){ey();eu.submit=ex;eu.submit();eu.submit=eA;};}catch(et){}}}ez.style.display="none";var es=N(function(eB){ez.parentNode.insertBefore(eB,ez.nextSibling);},ew);es.save=ey;es.getTextArea=function(){return ez;};es.toTextArea=function(){ey();ez.parentNode.removeChild(es.getWrapperElement());ez.style.display="";if(ez.form){cF(ez.form,"submit",ey);if(typeof ez.form.submit=="function"){ez.form.submit=ex;}}};return es;};function dZ(es,et){this.pos=this.start=0;this.string=es;this.tabSize=et||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0;}dZ.prototype={eol:function(){return this.pos>=this.string.length;},sol:function(){return this.pos==this.lineStart;},peek:function(){return this.string.charAt(this.pos)||undefined;},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++);}},eat:function(et){var es=this.string.charAt(this.pos);if(typeof et=="string"){var eu=es==et;}else{var eu=es&&(et.test?et.test(es):et(es));}if(eu){++this.pos;return es;}},eatWhile:function(es){var et=this.pos;while(this.eat(es)){}return this.pos>et;},eatSpace:function(){var es=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos;}return this.pos>es;},skipToEnd:function(){this.pos=this.string.length;},skipTo:function(es){var et=this.string.indexOf(es,this.pos);if(et>-1){this.pos=et;return true;}},backUp:function(es){this.pos-=es;},column:function(){if(this.lastColumnPos<this.start){this.lastColumnValue=ag(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start;}return this.lastColumnValue-(this.lineStart?ag(this.string,this.lineStart,this.tabSize):0);},indentation:function(){return ag(this.string,null,this.tabSize)-(this.lineStart?ag(this.string,this.lineStart,this.tabSize):0);},match:function(ew,eu,et){if(typeof ew=="string"){var es=function(ey){return et?ey.toLowerCase():ey;};var ex=this.string.substr(this.pos,ew.length);if(es(ex)==es(ew)){if(eu!==false){this.pos+=ew.length;}return true;}}else{var ev=this.string.slice(this.pos).match(ew);if(ev&&ev.index>0){return null;}if(ev&&eu!==false){this.pos+=ev[0].length;}return ev;}},current:function(){return this.string.slice(this.start,this.pos);},hideFirstChars:function(et,es){this.lineStart+=et;try{return es();}finally{this.lineStart-=et;}}};N.StringStream=dZ;function d2(es,et){this.lines=[];this.type=et;this.doc=es;}N.TextMarker=d2;aJ(d2);d2.prototype.clear=function(){if(this.explicitlyCleared){return;}var es=this.doc.cm,eB=es&&!es.curOp;if(eB){dU(es);}if(bh(this,"clear")){var et=this.find();if(et){dN(this,"clear",et.from,et.to);}}var ey=null,ex=null;for(var eu=0;eu<this.lines.length;++eu){var ew=this.lines[eu];var ez=a7(ew.markedSpans,this);if(ez.to!=null){ex=bZ(ew);}ew.markedSpans=dm(ew.markedSpans,ez);if(ez.from!=null){ey=bZ(ew);}else{if(this.collapsed&&!bV(this.doc,ew)&&es){ea(ew,d1(es.display));}}}if(es&&this.collapsed&&!es.options.lineWrapping){for(var eu=0;eu<this.lines.length;++eu){var eA=ei(es.doc,this.lines[eu]),ev=bY(es.doc,eA);if(ev>es.display.maxLineLength){es.display.maxLine=eA;es.display.maxLineLength=ev;es.display.maxLineChanged=true;}}}if(ey!=null&&es){dh(es,ey,ex+1);}this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(es){dg(es);}}if(eB){aF(es);}};d2.prototype.find=function(es){var eu,ey;for(var ev=0;ev<this.lines.length;++ev){var ew=this.lines[ev];var ex=a7(ew.markedSpans,this);if(ex.from!=null||ex.to!=null){var et=bZ(ew);if(ex.from!=null){eu=c3(et,ex.from);}if(ex.to!=null){ey=c3(et,ex.to);}}}if(this.type=="bookmark"&&!es){return eu;}return eu&&{from:eu,to:ey};};d2.prototype.changed=function(){var ev=this.find(),es=this.doc.cm;if(!ev||!es){return;}if(this.type!="bookmark"){ev=ev.from;}var et=a4(this.doc,ev.line);E(es,et);if(ev.line>=es.display.showingFrom&&ev.line<es.display.showingTo){for(var eu=es.display.lineDiv.firstChild;eu;eu=eu.nextSibling){if(eu.lineObj==et){if(eu.offsetHeight!=et.height){ea(et,eu.offsetHeight);}break;}}ds(es,function(){es.curOp.selectionChanged=es.curOp.forceUpdate=es.curOp.updateMaxLine=true;});}};d2.prototype.attachLine=function(es){if(!this.lines.length&&this.doc.cm){var et=this.doc.cm.curOp;if(!et.maybeHiddenMarkers||bt(et.maybeHiddenMarkers,this)==-1){(et.maybeUnhiddenMarkers||(et.maybeUnhiddenMarkers=[])).push(this);}}this.lines.push(es);};d2.prototype.detachLine=function(es){this.lines.splice(bt(this.lines,es),1);if(!this.lines.length&&this.doc.cm){var et=this.doc.cm.curOp;(et.maybeHiddenMarkers||(et.maybeHiddenMarkers=[])).push(this);}};var cC=0;function ck(eu,ev,ey,ex,ez){if(ex&&ex.shared){return cl(eu,ev,ey,ex,ez);}if(eu.cm&&!eu.cm.curOp){return cS(eu.cm,ck)(eu,ev,ey,ex,ez);}var ew=new d2(eu,ez);if(ex){ad(ex,ew);}if(c7(ey,ev)||c4(ev,ey)&&ew.clearWhenEmpty!==false){return ew;}if(ew.replacedWith){ew.collapsed=true;ew.replacedWith=aD("span",[ew.replacedWith],"CodeMirror-widget");if(!ex.handleMouseEvents){ew.replacedWith.ignoreEvents=true;}}if(ew.collapsed){if(Y(eu,ev.line,ev,ey,ew)||ev.line!=ey.line&&Y(eu,ey.line,ev,ey,ew)){throw new Error("Inserting collapsed marker partially overlapping an existing one");}dv=true;}if(ew.addToHistory){d(eu,{from:ev,to:ey,origin:"markText"},{head:eu.sel.head,anchor:eu.sel.anchor},NaN);}var et=ev.line,es=eu.cm,eA;eu.iter(et,ey.line+1,function(eB){if(es&&ew.collapsed&&!es.options.lineWrapping&&ei(eu,eB)==es.display.maxLine){eA=true;}var eC={from:null,to:null,marker:ew};if(et==ev.line){eC.from=ev.ch;}if(et==ey.line){eC.to=ey.ch;}if(ew.collapsed&&et!=ev.line){ea(eB,0);}b(eB,eC);++et;});if(ew.collapsed){eu.iter(ev.line,ey.line+1,function(eB){if(bV(eu,eB)){ea(eB,0);}});}if(ew.clearOnEnter){cG(ew,"beforeCursorEnter",function(){ew.clear();});}if(ew.readOnly){dw=true;if(eu.history.done.length||eu.history.undone.length){eu.clearHistory();}}if(ew.collapsed){ew.id=++cC;ew.atomic=true;}if(es){if(eA){es.curOp.updateMaxLine=true;}if(ew.className||ew.title||ew.startStyle||ew.endStyle||ew.collapsed){dh(es,ev.line,ey.line+1);}if(ew.atomic){dg(es);}}return ew;}function dJ(et,ev){this.markers=et;this.primary=ev;for(var es=0,eu=this;es<et.length;++es){et[es].parent=this;cG(et[es],"clear",function(){eu.clear();});}}N.SharedTextMarker=dJ;aJ(dJ);dJ.prototype.clear=function(){if(this.explicitlyCleared){return;}this.explicitlyCleared=true;for(var es=0;es<this.markers.length;++es){this.markers[es].clear();}dN(this,"clear");};dJ.prototype.find=function(){return this.primary.find();};function cl(es,et,ex,ev,ey){ev=ad(ev);ev.shared=false;var eu=[ck(es,et,ex,ev,ey)],ew=eu[0];var ez=ev.replacedWith;b4(es,function(eA){if(ez){ev.replacedWith=ez.cloneNode(true);}eu.push(ck(eA,J(eA,et),J(eA,ex),ev,ey));for(var eB=0;eB<eA.linked.length;++eB){if(eA.linked[eB].isParent){return;}}ew=b7(eu);});return new dJ(eu,ew);}function a7(ev,et){if(ev){for(var es=0;es<ev.length;++es){var eu=ev[es];if(eu.marker==et){return eu;}}}}function dm(ev,eu){for(var et,es=0;es<ev.length;++es){if(ev[es]!=eu){(et||(et=[])).push(ev[es]);}}return et;}function b(es,et){es.markedSpans=es.markedSpans?es.markedSpans.concat([et]):[et];et.marker.attachLine(es);}function cj(ex,ez,eu){if(ex){for(var et=0,ew;et<ex.length;++et){var ey=ex[et],ev=ey.marker;var eA=ey.from==null||(ev.inclusiveLeft?ey.from<=ez:ey.from<ez);if(eA||ey.from==ez&&ev.type=="bookmark"&&(!eu||!ey.marker.insertLeft)){var es=ey.to==null||(ev.inclusiveRight?ey.to>=ez:ey.to>ez);(ew||(ew=[])).push({from:ey.from,to:es?null:ey.to,marker:ev});}}}return ew;}function ci(ey,es,ev){if(ey){for(var eu=0,ex;eu<ey.length;++eu){var ez=ey[eu],ew=ez.marker;var et=ez.to==null||(ew.inclusiveRight?ez.to>=es:ez.to>es);if(et||ez.from==es&&ew.type=="bookmark"&&(!ev||ez.marker.insertLeft)){var eA=ez.from==null||(ew.inclusiveLeft?ez.from<=es:ez.from<es);(ex||(ex=[])).push({from:eA?null:ez.from-es,to:ez.to==null?null:ez.to-es,marker:ew});}}}return ex;}function dY(et,es){var eE=bC(et,es.from.line)&&a4(et,es.from.line).markedSpans;var eF=bC(et,es.to.line)&&a4(et,es.to.line).markedSpans;if(!eE&&!eF){return null;}var eI=es.from.ch,eu=es.to.ch,eA=c4(es.from,es.to);var ev=cj(eE,eI,eA);var eB=ci(eF,eu,eA);var eG=es.text.length==1,eD=b7(es.text).length+(eG?eI:0);if(ev){for(var ez=0;ez<ev.length;++ez){var eH=ev[ez];if(eH.to==null){var ew=a7(eB,eH.marker);if(!ew){eH.to=eI;}else{if(eG){eH.to=ew.to==null?null:ew.to+eD;}}}}}if(eB){for(var ez=0;ez<eB.length;++ez){var eH=eB[ez];if(eH.to!=null){eH.to+=eD;}if(eH.from==null){var ew=a7(ev,eH.marker);if(!ew){eH.from=eD;if(eG){(ev||(ev=[])).push(eH);}}}else{eH.from+=eD;if(eG){(ev||(ev=[])).push(eH);}}}}if(ev){ev=G(ev);}if(eB&&eB!=ev){eB=G(eB);}var eC=[ev];if(!eG){var ex=es.text.length-2,ey;if(ex>0&&ev){for(var ez=0;ez<ev.length;++ez){if(ev[ez].to==null){(ey||(ey=[])).push({from:null,to:null,marker:ev[ez].marker});}}}for(var ez=0;ez<ex;++ez){eC.push(ey);}eC.push(eB);}return eC;}function G(eu){for(var es=0;es<eu.length;++es){var et=eu[es];if(et.from!=null&&et.from==et.to&&et.marker.clearWhenEmpty!==false){eu.splice(es--,1);}}if(!eu.length){return null;}return eu;}function ct(et,es){var ex=a8(et,es);var eB=dY(et,es);if(!ex){return eB;}if(!eB){return ex;}for(var eu=0;eu<ex.length;++eu){var ey=ex[eu],eA=eB[eu];if(ey&&eA){spans:for(var ev=0;ev<eA.length;++ev){var ez=eA[ev];for(var ew=0;ew<ey.length;++ew){if(ey[ew].marker==ez.marker){continue spans;}}ey.push(ez);}}else{if(eA){ex[eu]=eA;}}}return ex;}function dn(es,et,eC){var ex=null;es.iter(et.line,eC.line+1,function(eE){if(eE.markedSpans){for(var eD=0;eD<eE.markedSpans.length;++eD){var eF=eE.markedSpans[eD].marker;if(eF.readOnly&&(!ex||bt(ex,eF)==-1)){(ex||(ex=[])).push(eF);}}}});if(!ex){return null;}var eB=[{from:et,to:eC}];for(var eu=0;eu<ex.length;++eu){var ey=ex[eu],ew=ey.find();for(var ev=0;ev<eB.length;++ev){var eA=eB[ev];if(c7(eA.to,ew.from)||c7(ew.to,eA.from)){continue;}var ez=[ev,1];if(c7(eA.from,ew.from)||!ey.inclusiveLeft&&c4(eA.from,ew.from)){ez.push({from:eA.from,to:ew.from});}if(c7(ew.to,eA.to)||!ey.inclusiveRight&&c4(eA.to,ew.to)){ez.push({from:ew.to,to:eA.to});}eB.splice.apply(eB,ez);ev+=ez.length-1;}}return eB;}function aL(es){return es.inclusiveLeft?-1:0;}function aM(es){return es.inclusiveRight?1:0;}function T(es,eu){var ex=es.lines.length-eu.lines.length;if(ex!=0){return ex;}var et=es.find(),ev=eu.find();var ew=M(et.from,ev.from)||aL(es)-aL(eu);if(ew){return -ew;}var ey=M(et.to,ev.to)||aM(es)-aM(eu);if(ey){return ey;}return eu.id-es.id;}function P(eu,ex){var ew=dv&&eu.markedSpans,es;if(ew){for(var ev,et=0;et<ew.length;++et){ev=ew[et];if(ev.marker.collapsed&&(ex?ev.from:ev.to)==null&&(!es||T(es,ev.marker)<0)){es=ev.marker;}}}return es;}function Q(es){return P(es,true);}function O(es){return P(es,false);}function Y(es,ey,eu,eC,ez){var ex=a4(es,ey);var eB=dv&&ex.markedSpans;if(eB){for(var ew=0;ew<eB.length;++ew){var eA=eB[ew];if(!eA.marker.collapsed){continue;}var et=eA.marker.find(true);var ev=M(et.from,eu)||aL(eA.marker)-aL(ez);var eD=M(et.to,eC)||aM(eA.marker)-aM(ez);if(ev>=0&&eD<=0||ev<=0&&eD>=0){continue;}if(ev<=0&&(M(et.to,eu)||aM(eA.marker)-aL(ez))>0||ev>=0&&(M(et.from,eC)||aL(eA.marker)-aM(ez))<0){return true;}}}}function ei(es,et){var eu;while(eu=Q(et)){et=a4(es,eu.find().from.line);}return et;}function bV(es,eu){var ew=dv&&eu.markedSpans;if(ew){for(var ev,et=0;et<ew.length;++et){ev=ew[et];if(!ev.marker.collapsed){continue;}if(ev.from==null){return true;}if(ev.marker.replacedWith){continue;}if(ev.from==0&&ev.marker.inclusiveLeft&&bW(es,eu,ev)){return true;}}}}function bW(es,ew,ey){if(ey.to==null){var et=ey.marker.find().to,eu=a4(es,et.line);return bW(es,eu,a7(eu.markedSpans,ey.marker));}if(ey.marker.inclusiveRight&&ey.to==ew.text.length){return true;}for(var ex,ev=0;ev<ew.markedSpans.length;++ev){ex=ew.markedSpans[ev];if(ex.marker.collapsed&&!ex.marker.replacedWith&&ex.from==ey.to&&(ex.to==null||ex.to!=ey.from)&&(ex.marker.inclusiveLeft||ey.marker.inclusiveRight)&&bW(es,ew,ex)){return true;}}}function ap(et){var eu=et.markedSpans;if(!eu){return;}for(var es=0;es<eu.length;++es){eu[es].marker.detachLine(et);}et.markedSpans=null;}function j(et,eu){if(!eu){return;}for(var es=0;es<eu.length;++es){eu[es].marker.attachLine(et);}et.markedSpans=eu;}var b3=N.LineWidget=function(es,et,ev){if(ev){for(var eu in ev){if(ev.hasOwnProperty(eu)){this[eu]=ev[eu];}}}this.cm=es;this.node=et;};aJ(b3);function en(es){return function(){var eu=!this.cm.curOp;if(eu){dU(this.cm);}try{var et=es.apply(this,arguments);}finally{if(eu){aF(this.cm);}}return et;};}b3.prototype.clear=en(function(){var ev=this.line.widgets,eu=bZ(this.line);if(eu==null||!ev){return;}for(var et=0;et<ev.length;++et){if(ev[et]==this){ev.splice(et--,1);}}if(!ev.length){this.line.widgets=null;}var es=bj(this.cm,this.line)<this.cm.doc.scrollTop;ea(this.line,Math.max(0,this.line.height-em(this)));if(es){e(this.cm,0,-this.height);}dh(this.cm,eu,eu+1);});b3.prototype.changed=en(function(){var eu=this.height;this.height=null;var es=em(this)-eu;if(!es){return;}ea(this.line,this.line.height+es);var et=bZ(this.line);dh(this.cm,et,et+1);});function em(es){if(es.height!=null){return es.height;}if(!es.node.parentNode||es.node.parentNode.nodeType!=1){dk(es.cm.display.measure,aD("div",[es.node],null,"position: relative"));}return es.height=es.node.offsetHeight;}function a(es,et,eu,ev){var ew=new b3(es,eu,ev);if(ew.noHScroll){es.display.alignWidgets=true;}z(es,et,function(ey){var ez=ey.widgets||(ey.widgets=[]);if(ew.insertAt==null){ez.push(ew);}else{ez.splice(Math.min(ez.length-1,Math.max(0,ew.insertAt)),0,ew);}ew.line=ey;if(!bV(es.doc,ey)||ew.showIfHidden){var ex=bj(es,ey)<es.doc.scrollTop;ea(ey,ey.height+em(ew));if(ex){e(es,0,ew.height);}}return true;});return ew;}var bS=N.Line=function(eu,et,es){this.text=eu;j(this,et);this.height=es?es(this):1;};aJ(bS);bS.prototype.lineNo=function(){return bZ(this);};function d9(eu,ew,ev,et){eu.text=ew;if(eu.stateAfter){eu.stateAfter=null;}if(eu.styles){eu.styles=null;}if(eu.order!=null){eu.order=null;}ap(eu);j(eu,ev);var es=et?et(eu):1;if(es!=eu.height){ea(eu,es);}}function D(es){es.parent=null;ap(es);}function dt(es,eD,ey,eA,ev,ex){var ew=ey.flattenSpans;if(ew==null){ew=es.options.flattenSpans;}var et=0,eu=null;var eB=new dZ(eD,es.options.tabSize),eC;if(eD==""&&ey.blankLine){ey.blankLine(eA);}while(!eB.eol()){if(eB.pos>es.options.maxHighlightLength){ew=false;if(ex){c9(es,eD,eA,eB.pos);}eB.pos=eD.length;eC=null;}else{eC=ey.token(eB,eA);}if(!ew||eu!=eC){if(et<eB.start){ev(eB.start,eu);}et=eB.start;eu=eC;}eB.start=eB.pos;}while(et<eB.pos){var ez=Math.min(eB.pos,et+50000);ev(ez,eu);et=ez;}}function bl(et,ew,eA,eu){var ez=[et.state.modeGen];dt(et,ew.text,et.doc.mode,eA,function(eB,eC){ez.push(eB,eC);},eu);for(var ex=0;ex<et.state.overlays.length;++ex){var ey=et.state.overlays[ex],ev=1,es=0;dt(et,ew.text,ey.mode,true,function(eC,eF){var eE=ev;while(es<eC){var eD=ez[ev];if(eD>eC){ez.splice(ev,1,eC,ez[ev+1],eD);}ev+=2;es=Math.min(eC,eD);}if(!eF){return;}if(ey.opaque){ez.splice(eE,ev-eE,eC,eF);ev=eE+2;}else{for(;eE<ev;eE+=2){var eB=ez[eE+1];ez[eE+1]=eB?eB+" "+eF:eF;}}});}return ez;}function a6(es,et){if(!et.styles||et.styles[0]!=es.state.modeGen){et.styles=bl(es,et,et.stateAfter=bb(es,bZ(et)));}return et.styles;}function c9(es,ex,ev,eu){var et=es.doc.mode;var ew=new dZ(ex,es.options.tabSize);ew.start=ew.pos=eu||0;if(ex==""&&et.blankLine){et.blankLine(ev);}while(!ew.eol()&&ew.pos<=es.options.maxHighlightLength){et.token(ew,ev);ew.start=ew.pos;}}var d0={};function bx(ev,es){if(!ev){return null;}for(;;){var et=ev.match(/(?:^|\s)line-(background-)?(\S+)/);if(!et){break;}ev=ev.slice(0,et.index)+ev.slice(et.index+et[0].length);var eu=et[1]?"bgClass":"textClass";if(es[eu]==null){es[eu]=et[2];}else{if(!(new RegExp("(?:^|s)"+et[2]+"(?:$|s)")).test(es[eu])){es[eu]+=" "+et[2];}}}return d0[ev]||(d0[ev]="cm-"+ev.replace(/ +/g," cm-"));}function r(et,eE,ez,eu){var eA,ey=eE,ev=true;while(eA=Q(ey)){ey=a4(et.doc,eA.find().from.line);}var es={pre:aD("pre"),col:0,pos:0,measure:null,measuredSomething:false,cm:et,copyWidgets:eu};do{if(ey.text){ev=false;}es.measure=ey==eE&&ez;es.pos=0;es.addToken=es.measure?u:t;if((bo||ej)&&et.getOption("lineWrapping")){es.addToken=v(es.addToken);}var eB=bw(ey,es,a6(et,ey));if(ez&&ey==eE&&!es.measuredSomething){ez[0]=es.pre.appendChild(eq(et.display.measure));es.measuredSomething=true;}if(eB){ey=a4(et.doc,eB.to.line);}}while(eB);if(ez&&!es.measuredSomething&&!ez[0]){ez[0]=es.pre.appendChild(ev?aD("span","\u00a0"):eq(et.display.measure));}if(!es.pre.firstChild&&!bV(et.doc,eE)){es.pre.appendChild(document.createTextNode("\u00a0"));}var eC;if(ez&&(bo||bp)&&(eC=a9(ey))){var ew=eC.length-1;if(eC[ew].from==eC[ew].to){--ew;}var ex=eC[ew],eD=eC[ew-1];if(ex.from+1==ex.to&&eD&&ex.level<eD.level){var eF=ez[es.pos-1];if(eF){eF.parentNode.insertBefore(eF.measureRight=eq(et.display.measure),eF.nextSibling);}}}var eG=es.textClass?es.textClass+" "+(eE.textClass||""):eE.textClass;if(eG){es.pre.className=eG;}dL(et,"renderLine",et,eE,es.pre);return es;}function al(es){var et=aD("span","\u2022","cm-invalidchar");et.title="\\u"+es.charCodeAt(0).toString(16);return et;}function t(es,eE,eB,eA,eu,eF){if(!eE){return;}var ez=es.cm.options.specialChars;if(!ez.test(eE)){es.col+=eE.length;var et=document.createTextNode(eE);}else{var et=document.createDocumentFragment(),ex=0;while(true){ez.lastIndex=ex;var ew=ez.exec(eE);var ey=ew?ew.index-ex:eE.length-ex;if(ey){et.appendChild(document.createTextNode(eE.slice(ex,ex+ey)));es.col+=ey;}if(!ew){break;}ex+=ey+1;if(ew[0]=="\t"){var eC=es.cm.options.tabSize,eD=eC-es.col%eC;et.appendChild(aD("span",dQ(eD),"cm-tab"));es.col+=eD;}else{var eG=es.cm.options.specialCharPlaceholder(ew[0]);et.appendChild(eG);es.col+=1;}}}if(eB||eA||eu||es.measure){var ev=eB||"";if(eA){ev+=eA;}if(eu){ev+=eu;}var eG=aD("span",[et],ev);if(eF){eG.title=eF;}return es.pre.appendChild(eG);}es.pre.appendChild(et);}function u(es,eB,eA,ez,eu){var eC=es.cm.options.lineWrapping;for(var ev=0;ev<eB.length;++ev){var et=eB.charAt(ev),ey=ev==0;if(et>="\ud800"&&et<"\udbff"&&ev<eB.length-1){et=eB.slice(ev,ev+2);++ev;}else{if(ev&&eC&&dS(eB,ev)){es.pre.appendChild(aD("wbr"));}}var ew=es.measure[es.pos];var ex=es.measure[es.pos]=t(es,et,eA,ey&&ez,ev==eB.length-1&&eu);if(ew){ex.leftSide=ew.leftSide||ew;}if(bo&&eC&&et==" "&&ev&&!/\s/.test(eB.charAt(ev-1))&&ev<eB.length-1&&!/\s/.test(eB.charAt(ev+1))){ex.style.whiteSpace="normal";}es.pos+=et.length;}if(eB.length){es.measuredSomething=true;}}function v(es){function et(ev){var ew=" ";for(var eu=0;eu<ev.length-2;++eu){ew+=eu%2?" ":"\u00a0";}ew+=" ";return ew;}return function(eu,ey,ex,ew,ev,ez){return es(eu,ey.replace(/ {3,}/g,et),ex,ew,ev,ez);};}function q(es,ew,ev,eu){var ex=!eu&&ev.replacedWith;if(ex){if(es.copyWidgets){ex=ex.cloneNode(true);}es.pre.appendChild(ex);if(es.measure){if(ew){es.measure[es.pos]=ex;}else{var et=eq(es.cm.display.measure);if(ev.type=="bookmark"&&!ev.insertLeft){es.measure[es.pos]=es.pre.appendChild(et);}else{if(es.measure[es.pos]){return;}else{es.measure[es.pos]=es.pre.insertBefore(et,ex);}}}es.measuredSomething=true;}}es.pos+=ew;}function bw(eB,eu,eL){var eH=eB.markedSpans,es=eB.text,et=0;if(!eH){for(var ey=1;ey<eL.length;ey+=2){eu.addToken(eu,es.slice(et,et=eL[ey]),bx(eL[ey+1],eu));}return;}var eA=es.length,eE=0,ey=1,eM="",eK;var eD=0,eJ,eG,eI,eN,ev;for(;;){if(eD==eE){eJ=eG=eI=eN="";ev=null;eD=Infinity;var ex=[];for(var ez=0;ez<eH.length;++ez){var eF=eH[ez],eC=eF.marker;if(eF.from<=eE&&(eF.to==null||eF.to>eE)){if(eF.to!=null&&eD>eF.to){eD=eF.to;eG="";}if(eC.className){eJ+=" "+eC.className;}if(eC.startStyle&&eF.from==eE){eI+=" "+eC.startStyle;}if(eC.endStyle&&eF.to==eD){eG+=" "+eC.endStyle;}if(eC.title&&!eN){eN=eC.title;}if(eC.collapsed&&(!ev||T(ev.marker,eC)<0)){ev=eF;}}else{if(eF.from>eE&&eD>eF.from){eD=eF.from;}}if(eC.type=="bookmark"&&eF.from==eE&&eC.replacedWith){ex.push(eC);}}if(ev&&(ev.from||0)==eE){q(eu,(ev.to==null?eA:ev.to)-eE,ev.marker,ev.from==null);if(ev.to==null){return ev.marker.find();}}if(!ev&&ex.length){for(var ez=0;ez<ex.length;++ez){q(eu,0,ex[ez]);}}}if(eE>=eA){break;}var eP=Math.min(eA,eD);while(true){if(eM){var ew=eE+eM.length;if(!ev){var eO=ew>eP?eM.slice(0,eP-eE):eM;eu.addToken(eu,eO,eK?eK+eJ:eJ,eI,eE+eO.length==eD?eG:"",eN);}if(ew>=eP){eM=eM.slice(eP-eE);eE=eP;break;}eE=ew;eI="";}eM=es.slice(et,et=eL[ey++]);eK=bx(eL[ey++],eu);}}}function d6(eu,et,eD,eF,ew){function eG(eK){return eD?eD[eK]:null;}function eJ(eK,eM,eL){d9(eK,eM,eL,ew);dN(eK,"change",eK,et);}var ey=et.from,eI=et.to,eH=et.text;var ex=a4(eu,ey.line),eA=a4(eu,eI.line);var eC=b7(eH),eB=eG(eH.length-1),eE=eI.line-ey.line;if(ey.ch==0&&eI.ch==0&&eC==""&&(!eu.cm||eu.cm.options.wholeLineUpdateBefore)){for(var ez=0,ev=eH.length-1,es=[];ez<ev;++ez){es.push(new bS(eH[ez],eG(ez),ew));}eJ(eA,eA.text,eB);if(eE){eu.remove(ey.line,eE);}if(es.length){eu.insert(ey.line,es);}}else{if(ex==eA){if(eH.length==1){eJ(ex,ex.text.slice(0,ey.ch)+eC+ex.text.slice(eI.ch),eB);}else{for(var es=[],ez=1,ev=eH.length-1;ez<ev;++ez){es.push(new bS(eH[ez],eG(ez),ew));}es.push(new bS(eC+ex.text.slice(eI.ch),eB,ew));eJ(ex,ex.text.slice(0,ey.ch)+eH[0],eG(0));eu.insert(ey.line+1,es);}}else{if(eH.length==1){eJ(ex,ex.text.slice(0,ey.ch)+eH[0]+eA.text.slice(eI.ch),eG(0));eu.remove(ey.line+1,eE);}else{eJ(ex,ex.text.slice(0,ey.ch)+eH[0],eG(0));eJ(eA,eC+eA.text.slice(eI.ch),eB);for(var ez=1,ev=eH.length-1,es=[];ez<ev;++ez){es.push(new bS(eH[ez],eG(ez),ew));}if(eE>1){eu.remove(ey.line+1,eE-1);}eu.insert(ey.line+1,es);}}}dN(eu,"change",eu,et);dH(eu,eF.anchor,eF.head,null,true);}function bR(ev){this.lines=ev;this.parent=null;for(var eu=0,es=ev.length,et=0;eu<es;++eu){ev[eu].parent=this;et+=ev[eu].height;}this.height=et;}bR.prototype={chunkSize:function(){return this.lines.length;},removeInner:function(es,ew){for(var eu=es,et=es+ew;eu<et;++eu){var ev=this.lines[eu];this.height-=ev.height;D(ev);dN(ev,"delete");}this.lines.splice(es,ew);},collapse:function(es){es.splice.apply(es,[es.length,0].concat(this.lines));},insertInner:function(es,ew,eu){this.height+=eu;this.lines=this.lines.slice(0,es).concat(ew).concat(this.lines.slice(es));for(var ev=0,et=ew.length;ev<et;++ev){ew[ev].parent=this;}},iterN:function(es,eu,ev){for(var et=es+eu;es<et;++es){if(ev(this.lines[es])){return true;}}}};function p(et){this.children=et;var ex=0,ev=0;for(var ew=0,eu=et.length;ew<eu;++ew){var es=et[ew];ex+=es.chunkSize();ev+=es.height;es.parent=this;}this.size=ex;this.height=ev;this.parent=null;}p.prototype={chunkSize:function(){return this.size;},removeInner:function(es,ew){this.size-=ew;for(var eu=0;eu<this.children.length;++eu){var et=this.children[eu],ez=et.chunkSize();if(es<ez){var ey=Math.min(ew,ez-es),ex=et.height;et.removeInner(es,ey);this.height-=ex-et.height;if(ez==ey){this.children.splice(eu--,1);et.parent=null;}if((ew-=ey)==0){break;}es=0;}else{es-=ez;}}if(this.size-ew<25){var ev=[];this.collapse(ev);this.children=[new bR(ev)];this.children[0].parent=this;}},collapse:function(eu){for(var et=0,es=this.children.length;et<es;++et){this.children[et].collapse(eu);}},insertInner:function(es,ex,ev){this.size+=ex.length;this.height+=ev;for(var ew=0,eu=this.children.length;ew<eu;++ew){var et=this.children[ew],eA=et.chunkSize();if(es<=eA){et.insertInner(es,ex,ev);if(et.lines&&et.lines.length>50){while(et.lines.length>50){var ez=et.lines.splice(et.lines.length-25,25);var ey=new bR(ez);et.height-=ey.height;this.children.splice(ew+1,0,ey);ey.parent=this;}this.maybeSpill();}break;}es-=eA;}},maybeSpill:function(){if(this.children.length<=10){return;}var et=this;do{var ew=et.children.splice(et.children.length-5,5);var ev=new p(ew);if(!et.parent){var es=new p(et.children);es.parent=et;et.children=[es,ev];et=es;}else{et.size-=ev.size;et.height-=ev.height;var eu=bt(et.parent.children,et);et.parent.children.splice(eu+1,0,ev);}ev.parent=et.parent;}while(et.children.length>10);et.parent.maybeSpill();},iterN:function(es,ew,ex){for(var ev=0,eu=this.children.length;ev<eu;++ev){var et=this.children[ev],ey=et.chunkSize();if(es<ey){var ez=Math.min(ew,ey-es);if(et.iterN(es,ez,ex)){return true;}if((ew-=ez)==0){break;}es=0;}else{es-=ey;}}}};var cB=0;var ar=N.Doc=function(ev,et,es){if(!(this instanceof ar)){return new ar(ev,et,es);}if(es==null){es=0;}p.call(this,[new bR([new bS("",null)])]);this.first=es;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.history=ch();this.cleanGeneration=1;this.frontier=es;var eu=c3(es,0);this.sel={from:eu,to:eu,head:eu,anchor:eu,shift:false,extend:false,goalColumn:null};this.id=++cB;this.modeOption=et;if(typeof ev=="string"){ev=dT(ev);}d6(this,{from:eu,to:eu,text:ev},null,{head:eu,anchor:eu});};ar.prototype=ah(p.prototype,{constructor:ar,iter:function(es,eu,et){if(et){this.iterN(es-this.first,eu-es,et);}else{this.iterN(this.first,this.first+this.size,es);}},insert:function(es,ew){var eu=0;for(var ev=0,et=ew.length;ev<et;++ev){eu+=ew[ev].height;}this.insertInner(es-this.first,ew,eu);},remove:function(es,et){this.removeInner(es-this.first,et);},getValue:function(et){var es=a5(this,this.first,this.first+this.size);if(et===false){return es;}return es.join(et||"\n");},setValue:function(es){var eu=c3(this.first,0),et=this.first+this.size-1;cb(this,{from:eu,to:c3(et,a4(this,et).text.length),text:dT(es),origin:"setValue"},{head:eu,anchor:eu},true);},replaceRange:function(es,et,ev,eu){et=J(this,et);ev=ev?J(this,ev):et;dp(this,es,et,ev,eu);},getRange:function(es,ev,eu){var et=a0(this,J(this,es),J(this,ev));if(eu===false){return et;}return et.join(eu||"\n");},getLine:function(et){var es=this.getLineHandle(et);return es&&es.text;},setLine:function(es,et){if(bC(this,es)){dp(this,et,c3(es,0),J(this,c3(es)));}},removeLine:function(es){if(es){dp(this,"",J(this,c3(es-1)),J(this,c3(es)));}else{dp(this,"",c3(0,0),J(this,c3(1,0)));}},getLineHandle:function(es){if(bC(this,es)){return a4(this,es);}},getLineNumber:function(es){return bZ(es);},getLineHandleVisualStart:function(es){if(typeof es=="number"){es=a4(this,es);}return ei(this,es);},lineCount:function(){return this.size;},firstLine:function(){return this.first;},lastLine:function(){return this.first+this.size-1;},clipPos:function(es){return J(this,es);},getCursor:function(eu){var et=this.sel,es;if(eu==null||eu=="head"){es=et.head;}else{if(eu=="anchor"){es=et.anchor;}else{if(eu=="end"||eu===false){es=et.to;}else{es=et.from;}}}return ae(es);},somethingSelected:function(){return !c4(this.sel.head,this.sel.anchor);},setCursor:at(function(eu,es,et){var ev=J(this,typeof eu=="number"?c3(eu,es||0):eu);if(et){aK(this,ev);}else{dH(this,ev,ev);}}),setSelection:at(function(es,eu,et){dH(this,J(this,es),J(this,eu||es),et);}),extendSelection:at(function(et,eu,es){aK(this,J(this,et),eu&&J(this,eu),es);}),getSelection:function(es){return this.getRange(this.sel.from,this.sel.to,es);},replaceSelection:function(es,et,eu){cb(this,{from:this.sel.from,to:this.sel.to,text:dT(es),origin:eu},et||"around");},undo:at(function(){cc(this,"undo");}),redo:at(function(){cc(this,"redo");}),setExtending:function(es){this.sel.extend=es;},historySize:function(){var es=this.history;return{undo:es.done.length,redo:es.undone.length};},clearHistory:function(){this.history=ch(this.history.maxGeneration);},markClean:function(){this.cleanGeneration=this.changeGeneration();},changeGeneration:function(){this.history.lastOp=this.history.lastOrigin=null;return this.history.generation;},isClean:function(es){return this.history.generation==(es||this.cleanGeneration);},getHistory:function(){return{done:ac(this.history.done),undone:ac(this.history.undone)};},setHistory:function(et){var es=this.history=ch(this.history.maxGeneration);es.done=et.done.slice(0);es.undone=et.undone.slice(0);},markText:function(es,eu,et){return ck(this,J(this,es),J(this,eu),et,"range");},setBookmark:function(et,es){var eu={replacedWith:es&&(es.nodeType==null?es.widget:es),insertLeft:es&&es.insertLeft,clearWhenEmpty:false};et=J(this,et);return ck(this,et,et,eu,"bookmark");},findMarksAt:function(eu){eu=J(this,eu);var et=[],ew=a4(this,eu.line).markedSpans;if(ew){for(var es=0;es<ew.length;++es){var ev=ew[es];if((ev.from==null||ev.from<=eu.ch)&&(ev.to==null||ev.to>=eu.ch)){et.push(ev.marker.parent||ev.marker);}}}return et;},getAllMarks:function(){var es=[];this.iter(function(eu){var ev=eu.markedSpans;if(ev){for(var et=0;et<ev.length;++et){if(ev[et].from!=null){es.push(ev[et].marker);}}}});return es;},posFromIndex:function(eu){var es,et=this.first;this.iter(function(ev){var ew=ev.text.length+1;if(ew>eu){es=eu;return true;}eu-=ew;++et;});return J(this,c3(et,es));},indexFromPos:function(es){es=J(this,es);var et=es.ch;if(es.line<this.first||es.ch<0){return 0;}this.iter(this.first,es.line,function(eu){et+=eu.text.length+1;});return et;},copy:function(es){var et=new ar(a5(this,this.first,this.first+this.size),this.modeOption,this.first);et.scrollTop=this.scrollTop;et.scrollLeft=this.scrollLeft;et.sel={from:this.sel.from,to:this.sel.to,head:this.sel.head,anchor:this.sel.anchor,shift:this.sel.shift,extend:false,goalColumn:this.sel.goalColumn};if(es){et.history.undoDepth=this.history.undoDepth;et.setHistory(this.getHistory());}return et;},linkedDoc:function(eu){if(!eu){eu={};}var et=this.first,ev=this.first+this.size;if(eu.from!=null&&eu.from>et){et=eu.from;}if(eu.to!=null&&eu.to<ev){ev=eu.to;}var es=new ar(a5(this,et,ev),eu.mode||this.modeOption,et);if(eu.sharedHist){es.history=this.history;}(this.linked||(this.linked=[])).push({doc:es,sharedHist:eu.sharedHist});es.linked=[{doc:this,isParent:true,sharedHist:eu.sharedHist}];return es;},unlinkDoc:function(eu){if(eu instanceof N){eu=eu.doc;}if(this.linked){for(var es=0;es<this.linked.length;++es){var et=this.linked[es];if(et.doc!=eu){continue;}this.linked.splice(es,1);eu.unlinkDoc(this);break;}}if(eu.history==this.history){var ev=[eu.id];b4(eu,function(ew){ev.push(ew.id);},true);eu.history=ch();eu.history.done=ac(this.history.done,ev);eu.history.undone=ac(this.history.undone,ev);}},iterLinkedDocs:function(es){b4(this,es);},getMode:function(){return this.mode;},getEditor:function(){return this.cm;}});ar.prototype.eachLine=ar.prototype.iter;var av="iter insert remove copy getEditor".split(" ");for(var da in ar.prototype){if(ar.prototype.hasOwnProperty(da)&&bt(av,da)<0){N.prototype[da]=(function(es){return function(){return es.apply(this.doc,arguments);};})(ar.prototype[da]);}}aJ(ar);function b4(es,et,ev){function eu(ew,eB,eA){if(ew.linked){for(var ex=0;ex<ew.linked.length;++ex){var ey=ew.linked[ex];if(ey.doc==eB){continue;}var ez=eA&&ey.sharedHist;if(ev&&!ez){continue;}et(ey.doc,ez);eu(ey.doc,ew,ez);}}}eu(es,null,true);}function h(es,et){if(et.cm){throw new Error("This document is already in use.");}es.doc=et;et.cm=es;aH(es);b5(es);if(!es.options.lineWrapping){W(es);}es.options.mode=et.modeOption;dh(es);}function a4(et,ev){ev-=et.first;while(!et.lines){for(var eu=0;;++eu){var es=et.children[eu],ew=es.chunkSize();if(ev<ew){et=es;break;}ev-=ew;}}return et.lines[ev];}function a0(es,ew,et){var ev=[],eu=ew.line;es.iter(ew.line,et.line+1,function(ex){var ey=ex.text;if(eu==et.line){ey=ey.slice(0,et.ch);}if(eu==ew.line){ey=ey.slice(ew.ch);}ev.push(ey);++eu;});return ev;}function a5(es,et,ev){var eu=[];es.iter(et,ev,function(ew){eu.push(ew.text);});return eu;}function ea(eu,et){var es=et-eu.height;for(var ev=eu;ev;ev=ev.parent){ev.height+=es;}}function bZ(ev){if(ev.parent==null){return null;}var et=ev.parent,ew=bt(et.lines,ev);for(var es=et.parent;es;et=es,es=es.parent){for(var eu=0;;++eu){if(es.children[eu]==et){break;}ew+=es.children[eu].chunkSize();}}return ew+et.first;}function bT(eu,ew){var eA=eu.first;outer:do{for(var ex=0,ev=eu.children.length;ex<ev;++ex){var et=eu.children[ex],es=et.height;if(ew<es){eu=et;continue outer;}ew-=es;eA+=et.chunkSize();}return eA;}while(!eu.lines);for(var ex=0,ev=eu.lines.length;ex<ev;++ex){var ez=eu.lines[ex],ey=ez.height;if(ew<ey){break;}ew-=ey;}return eA+ex;}function bj(et,ey){ey=ei(et.doc,ey);var ev=0,es=ey.parent;for(var ew=0;ew<es.lines.length;++ew){var ex=es.lines[ew];if(ex==ey){break;}else{ev+=ex.height;}}for(var ez=es.parent;ez;es=ez,ez=es.parent){for(var ew=0;ew<ez.children.length;++ew){var eu=ez.children[ew];if(eu==es){break;}else{ev+=eu.height;}}}return ev;}function a9(es){var et=es.order;if(et==null){et=es.order=l(es.text);}return et;}function ch(es){return{done:[],undone:[],undoDepth:Infinity,lastTime:0,lastOp:null,lastOrigin:null,generation:es||1,maxGeneration:es||1};}function i(et,es,ev,ex){var eu=es["spans_"+et.id],ew=0;et.iter(Math.max(et.first,ev),Math.min(et.first+et.size,ex),function(ey){if(ey.markedSpans){(eu||(eu=es["spans_"+et.id]={}))[ew]=ey.markedSpans;}++ew;});}function bn(et,es){var eu={line:es.from.line,ch:es.from.ch};var ev={from:eu,to:y(es),text:a0(et,es.from,es.to)};i(et,ev,es.from.line,es.to.line+1);b4(et,function(ew){i(ew,ev,es.from.line,es.to.line+1);},true);return ev;}function d(eu,es,ey,ex){var ev=eu.history;ev.undone.length=0;var ez=+new Date,et=b7(ev.done);if(et&&(ev.lastOp==ex||ev.lastOrigin==es.origin&&es.origin&&((es.origin.charAt(0)=="+"&&eu.cm&&ev.lastTime>ez-eu.cm.options.historyEventDelay)||es.origin.charAt(0)=="*"))){var ew=b7(et.changes);if(c4(es.from,es.to)&&c4(es.from,ew.to)){ew.to=y(es);}else{et.changes.push(bn(eu,es));}et.anchorAfter=ey.anchor;et.headAfter=ey.head;}else{et={changes:[bn(eu,es)],generation:ev.generation,anchorBefore:eu.sel.anchor,headBefore:eu.sel.head,anchorAfter:ey.anchor,headAfter:ey.head};ev.done.push(et);ev.generation=++ev.maxGeneration;while(ev.done.length>ev.undoDepth){ev.done.shift();}}ev.lastTime=ez;ev.lastOp=ex;ev.lastOrigin=es.origin;}function dl(eu){if(!eu){return null;}for(var es=0,et;es<eu.length;++es){if(eu[es].marker.explicitlyCleared){if(!et){et=eu.slice(0,es);}}else{if(et){et.push(eu[es]);}}}return !et?eu:et.length?et:null;}function a8(et,es){var eu=es["spans_"+et.id];if(!eu){return null;}for(var ev=0,ew=[];ev<es.text.length;++ev){ew.push(dl(eu[ev]));}return ew;}function ac(ew,eB){for(var ex=0,eu=[];ex<ew.length;++ex){var ev=ew[ex],et=ev.changes,eA=[];eu.push({changes:eA,anchorBefore:ev.anchorBefore,headBefore:ev.headBefore,anchorAfter:ev.anchorAfter,headAfter:ev.headAfter});for(var ey=0;ey<et.length;++ey){var es=et[ey],ez;eA.push({from:es.from,to:es.to,text:es.text});if(eB){for(var eC in es){if(ez=eC.match(/^spans_(\d+)$/)){if(bt(eB,Number(ez[1]))>-1){b7(eA)[eC]=es[eC];delete es[eC];}}}}}}return eu;}function df(eu,et,ev,es){if(ev<eu.line){eu.line+=es;}else{if(et<eu.line){eu.line=et;eu.ch=0;}}}function de(es,ev,eA,eu){for(var ew=0;ew<es.length;++ew){var ez=es[ew],ey=true;for(var ex=0;ex<ez.changes.length;++ex){var et=ez.changes[ex];if(!ez.copied){et.from=ae(et.from);et.to=ae(et.to);}if(eA<et.from.line){et.from.line+=eu;et.to.line+=eu;}else{if(ev<=et.to.line){ey=false;break;}}}if(!ez.copied){ez.anchorBefore=ae(ez.anchorBefore);ez.headBefore=ae(ez.headBefore);ez.anchorAfter=ae(ez.anchorAfter);ez.readAfter=ae(ez.headAfter);ez.copied=true;}if(!ey){es.splice(0,ew+1);ew=0;}else{df(ez.anchorBefore);df(ez.headBefore);df(ez.anchorAfter);df(ez.headAfter);}}}function dd(ev,es){var eu=es.from.line,ew=es.to.line,et=es.text.length-(ew-eu)-1;de(ev.done,eu,ew,et);de(ev.undone,eu,ew,et);}function dX(){aA(this);}function c(es){if(!es.stop){es.stop=dX;}return es;}function az(es){if(es.preventDefault){es.preventDefault();}else{es.returnValue=false;}}function aB(es){if(es.stopPropagation){es.stopPropagation();}else{es.cancelBubble=true;}}function ay(es){return es.defaultPrevented!=null?es.defaultPrevented:es.returnValue==false;}function aA(es){az(es);aB(es);}N.e_stop=aA;N.e_preventDefault=az;N.e_stopPropagation=aB;function aC(es){return es.target||es.srcElement;}function ax(et){var es=et.which;if(es==null){if(et.button&1){es=1;}else{if(et.button&2){es=3;}else{if(et.button&4){es=2;}}}}if(b8&&et.ctrlKey&&es==1){es=3;}return es;}function cG(et,ew,eu){if(et.addEventListener){et.addEventListener(ew,eu,false);}else{if(et.attachEvent){et.attachEvent("on"+ew,eu);}else{var ev=et._handlers||(et._handlers={});var es=ev[ew]||(ev[ew]=[]);es.push(eu);}}}function cF(et,ew,eu){if(et.removeEventListener){et.removeEventListener(ew,eu,false);}else{if(et.detachEvent){et.detachEvent("on"+ew,eu);}else{var es=et._handlers&&et._handlers[ew];if(!es){return;}for(var ev=0;ev<es.length;++ev){if(es[ev]==eu){es.splice(ev,1);break;}}}}}function dL(eu,ew){var et=eu._handlers&&eu._handlers[ew];if(!et){return;}var es=Array.prototype.slice.call(arguments,2);for(var ev=0;ev<et.length;++ev){et[ev].apply(null,es);}}var ao,an=0;function dN(ev,ex){var et=ev._handlers&&ev._handlers[ex];if(!et){return;}var es=Array.prototype.slice.call(arguments,2);if(!ao){++an;ao=[];setTimeout(aV,0);}function eu(ey){return function(){ey.apply(null,es);};}for(var ew=0;ew<et.length;++ew){ao.push(eu(et[ew]));}}function dM(es,et,eu){dL(es,eu||et.type,es,et);return ay(et)||et.codemirrorIgnore;}function aV(){--an;var es=ao;ao=null;for(var et=0;et<es.length;++et){es[et]();}}function bh(et,eu){var es=et._handlers&&et._handlers[eu];return es&&es.length>0;}N.on=cG;N.off=cF;N.signal=dL;function aJ(es){es.prototype.on=function(eu,et){cG(this,eu,et);};es.prototype.off=function(eu,et){cF(this,eu,et);};}var dz=30;var c0=N.Pass={toString:function(){return"CodeMirror.Pass";}};function am(){this.id=null;}am.prototype={set:function(et,es){clearTimeout(this.id);this.id=setTimeout(es,et);}};function ag(ex,es,ey,ev,ew){if(es==null){es=ex.search(/[^\s\u00a0]/);if(es==-1){es=ex.length;}}for(var et=ev||0,eu=ew||0;et<es;++et){if(ex.charAt(et)=="\t"){eu+=ey-(eu%ey);}else{++eu;}}return eu;}N.countColumn=ag;var dR=[""];function dQ(es){while(dR.length<=es){dR.push(b7(dR)+" ");}return dR[es];}function b7(es){return es[es.length-1];}function dC(et){if(bz){et.selectionStart=0;et.selectionEnd=et.value.length;}else{try{et.select();}catch(es){}}}function bt(es,eu){if(es.indexOf){return es.indexOf(eu);}for(var ev=0,et=es.length;ev<et;++ev){if(es[ev]==eu){return ev;}}return -1;}function ah(es,ev){function eu(){}eu.prototype=es;var et=new eu();if(ev){ad(ev,et);}return et;}function ad(es,eu){if(!eu){eu={};}for(var et in es){if(es.hasOwnProperty(et)){eu[et]=es[et];}}return eu;}function aE(eu){for(var es=[],et=0;et<eu;++et){es.push(undefined);}return es;}function o(et){var es=Array.prototype.slice.call(arguments,1);return function(){return et.apply(null,es);};}var cE=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function bF(es){return/\w/.test(es)||es>"\x80"&&(es.toUpperCase()!=es.toLowerCase()||cE.test(es));}function bA(et){for(var es in et){if(et.hasOwnProperty(es)&&et[es]){return false;}}return true;}var bB=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\u1DC0-\u1DFF\u20D0-\u20FF\uA670-\uA672\uA674-\uA67D\uA69F\udc00-\udfff\uFE20-\uFE2F]/;function aD(ex,et,es,ew){var eu=document.createElement(ex);if(es){eu.className=es;}if(ew){eu.style.cssText=ew;}if(typeof et=="string"){dI(eu,et);}else{if(et){for(var ev=0;ev<et.length;++ev){eu.appendChild(et[ev]);}}}return eu;}function dj(et){for(var es=et.childNodes.length;es>0;--es){et.removeChild(et.firstChild);}return et;}function dk(et,es){return dj(et).appendChild(es);}function dI(es,et){if(br){es.innerHTML="";es.appendChild(document.createTextNode(et));}else{es.textContent=et;}}function ba(es){return es.getBoundingClientRect();}N.replaceGetRect=function(es){ba=es;};var aw=function(){if(br){return false;}var es=aD("div");return"draggable" in es||"dragDrop" in es;}();function dS(){return false;}if(aZ){dS=function(et,es){return et.charCodeAt(es-1)==36&&et.charCodeAt(es)==39;};}else{if(du&&!/Version\/([6-9]|\d\d)\b/.test(navigator.userAgent)){dS=function(et,es){return/\-[^ \-?]|\?[^ !\'\"\),.\-\/:;\?\]\}]/.test(et.slice(es-1,es+1));};}else{if(ej&&/Chrome\/(?:29|[3-9]\d|\d\d\d)\./.test(navigator.userAgent)){dS=function(eu,et){var es=eu.charCodeAt(et-1);return es>=8208&&es<=8212;};}else{if(ej){dS=function(et,es){if(es>1&&et.charCodeAt(es-1)==45){if(/\w/.test(et.charAt(es-2))&&/[^\-?\.]/.test(et.charAt(es))){return true;}if(es>2&&/[\d\.,]/.test(et.charAt(es-2))&&/[\d\.,]/.test(et.charAt(es))){return false;}}return/[~!#%&*)=+}\]\\|\"\.>,:;][({[<]|-[^\-?\.\u2010-\u201f\u2026]|\?[\w~`@#$%\^&*(_=+{[|><]|\u2026[\w~`@#$%\^&*(_=+{[><]/.test(et.slice(es-1,es+1));};}}}}var bM;function dx(es){if(bM!=null){return bM;}var et=aD("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");dk(es,et);if(et.offsetWidth){bM=et.offsetHeight-et.clientHeight;}return bM||0;}var er;function eq(es){if(er==null){var et=aD("span","\u200b");dk(es,aD("span",[et,document.createTextNode("x")]));if(es.firstChild.offsetHeight!=0){er=et.offsetWidth<=1&&et.offsetHeight>2&&!bq;}}if(er){return aD("span","\u200b");}else{return aD("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px");}}var dT="\n\nb".split(/\n/).length!=3?function(ey){var ev=0,ew=[],es=ey.length;while(ev<=es){var eu=ey.indexOf("\n",ev);if(eu==-1){eu=ey.length;}var et=ey.slice(ev,ey.charAt(eu-1)=="\r"?eu-1:eu);var ex=et.indexOf("\r");if(ex!=-1){ew.push(et.slice(0,ex));ev+=ex+1;}else{ew.push(et);ev=eu+1;}}return ew;}:function(es){return es.split(/\r\n?|\n/);};N.splitLines=dT;var bi=window.getSelection?function(et){try{return et.selectionStart!=et.selectionEnd;}catch(es){return false;}}:function(eu){try{var et=eu.ownerDocument.selection.createRange();}catch(es){}if(!et||et.parentElement()!=eu){return false;}return et.compareEndPoints("StartToEnd",et)!=0;};var bg=(function(){var es=aD("div");if("oncopy" in es){return true;}es.setAttribute("oncopy","return;");return typeof es.oncopy=="function";})();var bK={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};N.keyNames=bK;(function(){for(var es=0;es<10;es++){bK[es+48]=String(es);}for(var es=65;es<=90;es++){bK[es]=String.fromCharCode(es);}for(var es=1;es<=12;es++){bK[es+111]=bK[es+63235]="F"+es;}})();function bG(ew,eu,ey,es){if(!ew){return es(eu,ey,"ltr");}var et=false;for(var ev=0;ev<ew.length;++ev){var ex=ew[ev];if(ex.from<ey&&ex.to>eu||eu==ey&&ex.to==eu){es(Math.max(ex.from,eu),Math.min(ex.to,ey),ex.level==1?"rtl":"ltr");et=true;}}if(!et){es(eu,ey,"ltr");}}function k(es){return es.level%2?es.to:es.from;}function n(es){return es.level%2?es.from:es.to;}function bX(es){var et=a9(es);return et?k(et[0]):0;}function b1(es){var et=a9(es);if(!et){return es.text.length;}return n(b7(et));}function b2(et,ev){var eu=a4(et.doc,ev);var ex=ei(et.doc,eu);if(ex!=eu){ev=bZ(ex);}var ew=a9(ex);var es=!ew?0:ew[0].level%2?b1(ex):bX(ex);return c3(ev,es);}function bU(et,ev){var ew,eu;while(ew=O(eu=a4(et.doc,ev))){ev=ew.find().to.line;}var ex=a9(eu);var es=!ex?eu.text.length:ex[0].level%2?bX(eu):b1(eu);return c3(ev,es);}function S(ev,es,et){var eu=ev[0].level;if(es==eu){return true;}if(et==eu){return false;}return es<et;}var m;function a1(ev,ew){m=null;for(var eu=0,et;eu<ev.length;++eu){var es=ev[eu];if(es.from<ew&&es.to>ew){return eu;}if((es.from==ew||es.to==ew)){if(et==null){et=eu;}else{if(S(ev,es.level,ev[et].level)){if(es.from!=es.to){m=et;}return eu;}else{if(es.from!=es.to){m=eu;}return et;}}}}return et;}function cy(eu,ev,et,es){if(!es){return ev+et;}do{ev+=et;}while(ev>0&&bB.test(eu.text.charAt(ev)));return ev;}function cA(ev,ey,eu,et){var es=a9(ev);if(!es){return cz(ev,ey,eu,et);}var ex=a1(es,ey),ew=es[ex];var ez=cy(ev,ey,ew.level%2?-eu:eu,et);for(;;){if(ez>ew.from&&ez<ew.to){return ez;}if(ez==ew.from||ez==ew.to){if(a1(es,ez)==ex){return ez;}ew=es[ex+=eu];return(eu>0)==ew.level%2?ew.to:ew.from;}else{ew=es[ex+=eu];if(!ew){return null;}if((eu>0)==ew.level%2){ez=cy(ev,ew.to,-1,et);}else{ez=cy(ev,ew.from,1,et);}}}}function cz(eu,ev,et,es){var ew=ev+et;if(es){while(ew>0&&bB.test(eu.text.charAt(ew))){ew+=et;}}return ew<0||ew>eu.text.length?null:ew;}var l=(function(){var ez="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL";var es="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr";function eu(eB){if(eB<=255){return ez.charAt(eB);}else{if(1424<=eB&&eB<=1524){return"R";}else{if(1536<=eB&&eB<=1791){return es.charAt(eB-1536);}else{if(1792<=eB&&eB<=2220){return"r";}else{return"L";}}}}}var et=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var ex=/[stwN]/,ey=/[LRr]/,ev=/[Lb1n]/,ew=/[1n]/;var eA="L";return function(eQ){if(!et.test(eQ)){return false;}var eI=eQ.length,eS=[];for(var eG=0,eR;eG<eI;++eG){eS.push(eR=eu(eQ.charCodeAt(eG)));}for(var eG=0,eN=eA;eG<eI;++eG){var eR=eS[eG];if(eR=="m"){eS[eG]=eN;}else{eN=eR;}}for(var eG=0,eE=eA;eG<eI;++eG){var eR=eS[eG];if(eR=="1"&&eE=="r"){eS[eG]="n";}else{if(ey.test(eR)){eE=eR;if(eR=="r"){eS[eG]="R";}}}}for(var eG=1,eN=eS[0];eG<eI-1;++eG){var eR=eS[eG];if(eR=="+"&&eN=="1"&&eS[eG+1]=="1"){eS[eG]="1";}else{if(eR==","&&eN==eS[eG+1]&&(eN=="1"||eN=="n")){eS[eG]=eN;}}eN=eR;}for(var eG=0;eG<eI;++eG){var eR=eS[eG];if(eR==","){eS[eG]="N";}else{if(eR=="%"){for(var eF=eG+1;eF<eI&&eS[eF]=="%";++eF){}var eO=(eG&&eS[eG-1]=="!")||(eF<eI&&eS[eF]=="1")?"1":"N";for(var eH=eG;eH<eF;++eH){eS[eH]=eO;}eG=eF-1;}}}for(var eG=0,eE=eA;eG<eI;++eG){var eR=eS[eG];if(eE=="L"&&eR=="1"){eS[eG]="L";}else{if(ey.test(eR)){eE=eR;}}}for(var eG=0;eG<eI;++eG){if(ex.test(eS[eG])){for(var eF=eG+1;eF<eI&&ex.test(eS[eF]);++eF){}var eD=(eG?eS[eG-1]:eA)=="L";var eB=(eF<eI?eS[eF]:eA)=="L";var eO=eD||eB?"L":"R";for(var eH=eG;eH<eF;++eH){eS[eH]=eO;}eG=eF-1;}}var eL=[],eJ;for(var eG=0;eG<eI;){if(ev.test(eS[eG])){var eP=eG;for(++eG;eG<eI&&ev.test(eS[eG]);++eG){}eL.push({from:eP,to:eG,level:0});}else{var eM=eG,eC=eL.length;for(++eG;eG<eI&&eS[eG]!="L";++eG){}for(var eH=eM;eH<eG;){if(ew.test(eS[eH])){if(eM<eH){eL.splice(eC,0,{from:eM,to:eH,level:1});}var eK=eH;for(++eH;eH<eG&&ew.test(eS[eH]);++eH){}eL.splice(eC,0,{from:eK,to:eH,level:2});eM=eH;}else{++eH;}}if(eM<eG){eL.splice(eC,0,{from:eM,to:eG,level:1});}}}if(eL[0].level==1&&(eJ=eQ.match(/^\s+/))){eL[0].from=eJ[0].length;eL.unshift({from:0,to:eJ[0].length,level:0});}if(b7(eL).level==1&&(eJ=eQ.match(/\s+$/))){b7(eL).to-=eJ[0].length;eL.push({from:eI-eJ[0].length,to:eI,level:0});}if(eL[0].level!=b7(eL).level){eL.push({from:eI,to:eI,level:eL[0].level});}return eL;};})();N.version="3.20.1";return N;})();(function(){var d="()[]{}''\"\"";var e="[]{}";var f=/\s/;CodeMirror.defineOption("autoCloseBrackets",false,function(g,l,j){if(j!=CodeMirror.Init&&j){g.removeKeyMap("autoCloseBrackets");}if(!l){return;}var k=d,h=e;if(typeof l=="string"){k=l;}else{if(typeof l=="object"){if(l.pairs!=null){k=l.pairs;}if(l.explode!=null){h=l.explode;}}}var i=b(k);if(h){i.Enter=a(h);}g.addKeyMap(i);});function c(g,h){var i=g.getRange(CodeMirror.Pos(h.line,h.ch-1),CodeMirror.Pos(h.line,h.ch+1));return i.length==2?i:null;}function b(k){var j={name:"autoCloseBrackets",Backspace:function(l){if(l.somethingSelected()){return CodeMirror.Pass;}var m=l.getCursor(),i=c(l,m);if(i&&k.indexOf(i)%2==0){l.replaceRange("",CodeMirror.Pos(m.line,m.ch-1),CodeMirror.Pos(m.line,m.ch+1));}else{return CodeMirror.Pass;}}};var g="";for(var h=0;h<k.length;h+=2){(function(i,m){if(i!=m){g+=m;}function n(o){var p=o.getSelection();o.replaceSelection(i+p+m);}function l(p){var q=p.getCursor(),o=p.getRange(q,CodeMirror.Pos(q.line,q.ch+1));if(o!=m||p.somethingSelected()){return CodeMirror.Pass;}else{p.execCommand("goCharRight");}}j["'"+i+"'"]=function(p){if(i=="'"&&p.getTokenAt(p.getCursor()).type=="comment"){return CodeMirror.Pass;}if(p.somethingSelected()){return n(p);}if(i==m&&l(p)!=CodeMirror.Pass){return;}var q=p.getCursor(),o=CodeMirror.Pos(q.line,q.ch+1);var s=p.getLine(q.line),t=s.charAt(q.ch),r=q.ch>0?s.charAt(q.ch-1):"";if(i==m&&CodeMirror.isWordChar(r)){return CodeMirror.Pass;}if(s.length==q.ch||g.indexOf(t)>=0||f.test(t)){p.replaceSelection(i+m,{head:o,anchor:o});}else{return CodeMirror.Pass;}};if(i!=m){j["'"+m+"'"]=l;}})(k.charAt(h),k.charAt(h+1));}return j;}function a(g){return function(i){var j=i.getCursor(),h=c(i,j);if(!h||g.indexOf(h)%2!=0){return CodeMirror.Pass;}i.operation(function(){var k=CodeMirror.Pos(j.line+1,0);i.replaceSelection("\n\n",{anchor:k,head:k},"+input");i.indentLine(j.line+1,null,true);i.indentLine(j.line+2,null,true);});};}})();(function(){CodeMirror.defineOption("autoCloseTags",false,function(f,i,h){if(h!=CodeMirror.Init&&h){f.removeKeyMap("autoCloseTags");}if(!i){return;}var g={name:"autoCloseTags"};if(typeof i!="object"||i.whenClosing){g["'/'"]=function(j){return b(j);};}if(typeof i!="object"||i.whenOpening){g["'>'"]=function(j){return a(j);};}f.addKeyMap(g);});var c=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];var d=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"];function a(f){var o=f.getCursor(),r=f.getTokenAt(o);var l=CodeMirror.innerMode(f.getMode(),r.state),p=l.state;if(l.mode.name!="xml"||!p.tagName){return CodeMirror.Pass;}var n=f.getOption("autoCloseTags"),j=l.mode.configuration=="html";var i=(typeof n=="object"&&n.dontCloseTags)||(j&&c);var k=(typeof n=="object"&&n.indentTags)||(j&&d);var q=p.tagName;if(r.end>o.ch){q=q.slice(0,q.length-r.end+o.ch);}var m=q.toLowerCase();if(!q||r.type=="string"&&(r.end!=o.ch||!/[\"\']/.test(r.string.charAt(r.string.length-1))||r.string.length==1)||r.type=="tag"&&p.type=="closeTag"||r.string.indexOf("/")==(r.string.length-1)||i&&e(i,m)>-1||CodeMirror.scanForClosingTag&&CodeMirror.scanForClosingTag(f,o,q,Math.min(f.lastLine()+1,o.line+50))){return CodeMirror.Pass;}var h=k&&e(k,m)>-1;var g=h?CodeMirror.Pos(o.line+1,0):CodeMirror.Pos(o.line,o.ch+1);f.replaceSelection(">"+(h?"\n\n":"")+"</"+q+">",{head:g,anchor:g});if(h){f.indentLine(o.line+1);f.indentLine(o.line+2);}}function b(f){var h=f.getCursor(),k=f.getTokenAt(h);var g=CodeMirror.innerMode(f.getMode(),k.state),i=g.state;if(k.type=="string"||k.string.charAt(0)!="<"||k.start!=h.ch-1||g.mode.name!="xml"){return CodeMirror.Pass;}var j=i.context&&i.context.tagName;if(j){f.replaceSelection("/"+j+">","end");}}function e(f,h){if(f.indexOf){return f.indexOf(h);}for(var j=0,g=f.length;j<g;++j){if(f[j]==h){return j;}}return -1;}})();(function(){var a=/^(\s*)([*+-]|(\d+)\.)(\s*)/,b="*+-";CodeMirror.commands.newlineAndIndentContinueMarkdownList=function(e){var i=e.getCursor(),g=e.getStateAfter(i.line).list!==false,h;if(!g||!(h=e.getLine(i.line).match(a))){e.execCommand("newlineAndIndent");return;}var f=h[1],c=h[4];var d=b.indexOf(h[2])>=0?h[2]:(parseInt(h[3],10)+1)+".";e.replaceSelection("\n"+f+d+c,"end");};}());(function(){var d=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8);var g=CodeMirror.Pos;var f={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function c(h,A,y){var x=h.state.matchBrackets;var r=(x&&x.maxScanLineLength)||10000;var s=(x&&x.maxScanLines)||100;var j=A||h.getCursor(),p=h.getLineHandle(j.line),t=j.ch-1;var q=(t>=0&&f[p.text.charAt(t)])||f[p.text.charAt(++t)];if(!q){return null;}var m=q.charAt(1)==">",k=m?1:-1;if(y&&m!=(t==j.ch)){return null;}var z=h.getTokenTypeAt(g(j.line,t+1));var w=[p.text.charAt(t)],u=/[(){}[\]]/;function v(C,D,G){if(!C.text){return;}var F=m?0:C.text.length-1,B=m?C.text.length:-1;if(C.text.length>r){return null;}if(G!=null){F=G+k;}for(;F!=B;F+=k){var i=C.text.charAt(F);if(u.test(i)&&h.getTokenTypeAt(g(D,F+1))==z){var E=f[i];if(E.charAt(1)==">"==m){w.push(i);}else{if(w.pop()!=E.charAt(0)){return{pos:F,match:false};}else{if(!w.length){return{pos:F,match:true};}}}}}}for(var o=j.line,n,l=m?Math.min(o+s,h.lineCount()):Math.max(-1,o-s);o!=l;o+=k){if(o==j.line){n=v(p,o,t);}else{n=v(h.getLineHandle(o),o);}if(n){break;}}return{from:g(j.line,t),to:n&&g(o,n.pos),match:n&&n.match,forward:m};}function e(j,h){var l=j.state.matchBrackets.maxHighlightLineLength||1000;var k=c(j);if(!k||j.getLine(k.from.line).length>l||k.to&&j.getLine(k.to.line).length>l){return;}var n=k.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";var m=j.markText(k.from,g(k.from.line,k.from.ch+1),{className:n});var o=k.to&&j.markText(k.to,g(k.to.line,k.to.ch+1),{className:n});if(d&&j.state.focused){j.display.input.focus();}var i=function(){j.operation(function(){m.clear();o&&o.clear();});};if(h){setTimeout(i,800);}else{return i;}}var a=null;function b(h){h.operation(function(){if(a){a();a=null;}if(!h.somethingSelected()){a=e(h,false);}});}CodeMirror.defineOption("matchBrackets",false,function(h,j,i){if(i&&i!=CodeMirror.Init){h.off("cursorActivity",b);}if(j){h.state.matchBrackets=typeof j=="object"?j:{};h.on("cursorActivity",b);}});CodeMirror.defineExtension("matchBrackets",function(){e(this,true);});CodeMirror.defineExtension("findMatchingBracket",function(h,i){return c(this,h,i);});})();(function(){CodeMirror.defineOption("matchTags",false,function(d,f,e){if(e&&e!=CodeMirror.Init){d.off("cursorActivity",b);d.off("viewportChange",c);a(d);}if(f){d.state.matchBothTags=typeof f=="object"&&f.bothTags;d.on("cursorActivity",b);d.on("viewportChange",c);b(d);}});function a(d){if(d.state.tagHit){d.state.tagHit.clear();}if(d.state.tagOther){d.state.tagOther.clear();}d.state.tagHit=d.state.tagOther=null;}function b(d){d.state.failedTagMatch=false;d.operation(function(){a(d);if(d.somethingSelected()){return;}var e=d.getCursor(),i=d.getViewport();i.from=Math.min(i.from,e.line);i.to=Math.max(e.line+1,i.to);var g=CodeMirror.findMatchingTag(d,e,i);if(!g){return;}if(d.state.matchBothTags){var f=g.at=="open"?g.open:g.close;if(f){d.state.tagHit=d.markText(f.from,f.to,{className:"CodeMirror-matchingtag"});}}var h=g.at=="close"?g.open:g.close;if(h){d.state.tagOther=d.markText(h.from,h.to,{className:"CodeMirror-matchingtag"});}else{d.state.failedTagMatch=true;}});}function c(d){if(d.state.failedTagMatch){b(d);}}CodeMirror.commands.toMatchingTag=function(d){var e=CodeMirror.findMatchingTag(d,d.getCursor());if(e){var f=e.at=="close"?e.open:e.close;if(f){d.setSelection(f.to,f.from);}}};})();CodeMirror.defineOption("showTrailingSpace",false,function(a,c,b){if(b==CodeMirror.Init){b=false;}if(b&&!c){a.removeOverlay("trailingspace");}else{if(!b&&c){a.addOverlay({token:function(f){for(var e=f.string.length,d=e;d&&/\s/.test(f.string.charAt(d-1));--d){}if(d>f.pos){f.pos=d;return null;}f.pos=e;return"trailingspace";},name:"trailingspace"});}}});CodeMirror.registerHelper("fold","brace",function(a,o){var j=o.line,k=a.getLine(j);var p,s;function f(u){for(var i=o.ch,v=0;;){var t=i<=0?-1:k.lastIndexOf(u,i-1);if(t==-1){if(v==1){break;}v=1;i=k.length;continue;}if(v==1&&t<o.ch){break;}s=a.getTokenTypeAt(CodeMirror.Pos(j,t+1));if(!/^(comment|string)/.test(s)){return t+1;}i=t-1;}}var q="{",e="}",p=f("{");if(p==null){q="[",e="]";p=f("[");}if(p==null){return;}var b=1,h=a.lastLine(),c,d;outer:for(var g=j;g<=h;++g){var r=a.getLine(g),n=g==j?p:0;for(;;){var m=r.indexOf(q,n),l=r.indexOf(e,n);if(m<0){m=r.length;}if(l<0){l=r.length;}n=Math.min(m,l);if(n==r.length){break;}if(a.getTokenTypeAt(CodeMirror.Pos(g,n+1))==s){if(n==m){++b;}else{if(!--b){c=g;d=n;break outer;}}}++n;}}if(c==null||j==c&&d==p){return;}return{from:CodeMirror.Pos(j,p),to:CodeMirror.Pos(c,d)};});CodeMirror.braceRangeFinder=CodeMirror.fold.brace;CodeMirror.registerHelper("fold","import",function(a,g){function d(k){if(k<a.firstLine()||k>a.lastLine()){return null;}var m=a.getTokenAt(CodeMirror.Pos(k,1));if(!/\S/.test(m.string)){m=a.getTokenAt(CodeMirror.Pos(k,m.end+1));}if(m.type!="keyword"||m.string!="import"){return null;}for(var j=k,h=Math.min(a.lastLine(),k+10);j<=h;++j){var n=a.getLine(j),l=n.indexOf(";");if(l!=-1){return{startCh:m.end,end:CodeMirror.Pos(j,l)};}}}var g=g.line,c=d(g),f;if(!c||d(g-1)||((f=d(g-2))&&f.end.line==g-1)){return null;}for(var b=c.end;;){var e=d(b.line+1);if(e==null){break;}b=e.end;}return{from:a.clipPos(CodeMirror.Pos(g,c.startCh+1)),to:b};});CodeMirror.importRangeFinder=CodeMirror.fold["import"];CodeMirror.registerHelper("fold","include",function(a,f){function d(g){if(g<a.firstLine()||g>a.lastLine()){return null;}var h=a.getTokenAt(CodeMirror.Pos(g,1));if(!/\S/.test(h.string)){h=a.getTokenAt(CodeMirror.Pos(g,h.end+1));}if(h.type=="meta"&&h.string.slice(0,8)=="#include"){return h.start+8;}}var f=f.line,c=d(f);if(c==null||d(f-1)!=null){return null;}for(var b=f;;){var e=d(b+1);if(e==null){break;}++b;}return{from:CodeMirror.Pos(f,c+1),to:a.clipPos(CodeMirror.Pos(b))};});CodeMirror.includeRangeFinder=CodeMirror.fold.include;CodeMirror.registerGlobalHelper("fold","comment",function(a){return a.blockCommentStart&&a.blockCommentEnd;},function(b,r){var m=b.getModeAt(r),t=m.blockCommentStart,f=m.blockCommentEnd;if(!t||!f){return;}var k=r.line,l=b.getLine(k);var s;for(var a=r.ch,p=0;;){var g=a<=0?-1:l.lastIndexOf(t,a-1);if(g==-1){if(p==1){return;}p=1;a=l.length;continue;}if(p==1&&g<r.ch){return;}if(/comment/.test(b.getTokenTypeAt(CodeMirror.Pos(k,g+1)))){s=g+t.length;break;}a=g-1;}var c=1,j=b.lastLine(),d,e;outer:for(var h=k;h<=j;++h){var u=b.getLine(h),q=h==k?s:0;for(;;){var o=u.indexOf(t,q),n=u.indexOf(f,q);if(o<0){o=u.length;}if(n<0){n=u.length;}q=Math.min(o,n);if(q==u.length){break;}if(q==o){++c;}else{if(!--c){d=h;e=q;break outer;}}++q;}}if(d==null||k==d&&e==s){return;}return{from:CodeMirror.Pos(k,s),to:CodeMirror.Pos(d,e)};});(function(){function a(c,k,j,e){var d=j&&(j.call?j:j.rangeFinder);if(!d){d=CodeMirror.fold.auto;}if(typeof k=="number"){k=CodeMirror.Pos(k,0);}var g=j&&j.minFoldSize||0;function f(m){var p=d(c,k);if(!p||p.to.line-p.from.line<g){return null;}var o=c.findMarksAt(p.from);for(var n=0;n<o.length;++n){if(o[n].__isFold&&e!=="fold"){if(!m){return null;}p.cleared=true;o[n].clear();}}return p;}var l=f(true);if(j&&j.scanUp){while(!l&&k.line>c.firstLine()){k=CodeMirror.Pos(k.line-1,0);l=f(false);}}if(!l||l.cleared||e==="unfold"){return;}var i=b(j);CodeMirror.on(i,"mousedown",function(){h.clear();});var h=c.markText(l.from,l.to,{replacedWith:i,clearOnEnter:true,__isFold:true});h.on("clear",function(m,n){CodeMirror.signal(c,"unfold",c,m,n);});CodeMirror.signal(c,"fold",c,l.from,l.to);}function b(c){var e=(c&&c.widget)||"\u2194";if(typeof e=="string"){var d=document.createTextNode(e);e=document.createElement("span");e.appendChild(d);e.className="CodeMirror-foldmarker";}return e;}CodeMirror.newFoldFunction=function(c,d){return function(e,f){a(e,f,{rangeFinder:c,widget:d});};};CodeMirror.defineExtension("foldCode",function(e,d,c){a(this,e,d,c);});CodeMirror.commands.fold=function(c){c.foldCode(c.getCursor());};CodeMirror.registerHelper("fold","combine",function(){var c=Array.prototype.slice.call(arguments,0);return function(d,g){for(var f=0;f<c.length;++f){var e=c[f](d,g);if(e){return e;}}};});CodeMirror.registerHelper("fold","auto",function(c,g){var e=c.getHelpers(g,"fold");for(var f=0;f<e.length;f++){var d=e[f](c,g);if(d){return d;}}});})();(function(){CodeMirror.defineOption("foldGutter",false,function(l,n,m){if(m&&m!=CodeMirror.Init){l.clearGutter(l.state.foldGutter.options.gutter);l.state.foldGutter=null;l.off("gutterClick",e);l.off("change",c);l.off("viewportChange",f);l.off("fold",d);l.off("unfold",d);l.off("swapDoc",k);}if(n){l.state.foldGutter=new i(g(n));k(l);l.on("gutterClick",e);l.on("change",c);l.on("viewportChange",f);l.on("fold",d);l.on("unfold",d);l.on("swapDoc",k);}});var h=CodeMirror.Pos;function i(l){this.options=l;this.from=this.to=0;}function g(l){if(l===true){l={};}if(l.gutter==null){l.gutter="CodeMirror-foldgutter";}if(l.indicatorOpen==null){l.indicatorOpen="CodeMirror-foldgutter-open";}if(l.indicatorFolded==null){l.indicatorFolded="CodeMirror-foldgutter-folded";}return l;}function a(l,n){var o=l.findMarksAt(h(n));for(var m=0;m<o.length;++m){if(o[m].__isFold&&o[m].find().from.line==n){return true;}}}function b(m){if(typeof m=="string"){var l=document.createElement("div");l.className=m;return l;}else{return m.cloneNode(true);}}function j(l,n,p){var o=l.state.foldGutter.options,m=n;l.eachLine(n,p,function(r){var s=null;if(a(l,m)){s=b(o.indicatorFolded);}else{var t=h(m,0),q=o.rangeFinder||CodeMirror.fold.auto;var u=q&&q(l,t);if(u&&u.from.line+1<u.to.line){s=b(o.indicatorOpen);}}l.setGutterMarker(r,o.gutter,s);++m;});}function k(l){var n=l.getViewport(),m=l.state.foldGutter;if(!m){return;}l.operation(function(){j(l,n.from,n.to);});m.from=n.from;m.to=n.to;}function e(l,n,m){var o=l.state.foldGutter.options;if(m!=o.gutter){return;}l.foldCode(h(n,0),o.rangeFinder);}function c(l){var n=l.state.foldGutter,m=l.state.foldGutter.options;n.from=n.to=0;clearTimeout(n.changeUpdate);n.changeUpdate=setTimeout(function(){k(l);},m.foldOnChangeTimeSpan||600);}function f(l){var n=l.state.foldGutter,m=l.state.foldGutter.options;clearTimeout(n.changeUpdate);n.changeUpdate=setTimeout(function(){var o=l.getViewport();if(n.from==n.to||o.from-n.to>20||n.from-o.to>20){k(l);}else{l.operation(function(){if(o.from<n.from){j(l,o.from,n.from);n.from=o.from;}if(o.to>n.to){j(l,n.to,o.to);n.to=o.to;}});}},m.updateViewportTimeSpan||400);}function d(l,m){var o=l.state.foldGutter,n=m.line;if(n>=o.from&&n<o.to){j(l,n,n+1);}}})();CodeMirror.registerHelper("fold","indent",function(a,k){var l=a.getOption("tabSize"),e=a.getLine(k.line);if(!/\S/.test(e)){return;}var f=function(i){return CodeMirror.countColumn(i,null,l);};var j=f(e);var h=null;for(var g=k.line+1,d=a.lastLine();g<=d;++g){var c=a.getLine(g);var b=f(c);if(b>j){h=g;}else{if(!/\S/.test(c)){}else{break;}}}if(h){return{from:CodeMirror.Pos(k.line,e.length),to:CodeMirror.Pos(h,a.getLine(h).length)};}});CodeMirror.indentRangeFinder=CodeMirror.fold.indent;(function(){var h=CodeMirror.Pos;function a(p,q){return p.line-q.line||p.ch-q.ch;}var f="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD";var e=f+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040";var o=new RegExp("<(/?)(["+f+"]["+e+"]*)","g");function d(q,r,p,s){this.line=r;this.ch=p;this.cm=q;this.text=q.getLine(r);this.min=s?s.from:q.firstLine();this.max=s?s.to-1:q.lastLine();}function j(q,p){var r=q.cm.getTokenTypeAt(h(q.line,p));return r&&/\btag\b/.test(r);}function g(p){if(p.line>=p.max){return;}p.ch=0;p.text=p.cm.getLine(++p.line);return true;}function i(p){if(p.line<=p.min){return;}p.text=p.cm.getLine(--p.line);p.ch=p.text.length;return true;}function m(q){for(;;){var p=q.text.indexOf(">",q.ch);if(p==-1){if(g(q)){continue;}else{return;}}if(!j(q,p+1)){q.ch=p+1;continue;}var r=q.text.lastIndexOf("/",p);var s=r>-1&&!/\S/.test(q.text.slice(r+1,p));q.ch=p+1;return s?"selfClose":"regular";}}function n(p){for(;;){var q=p.ch?p.text.lastIndexOf("<",p.ch-1):-1;if(q==-1){if(i(p)){continue;}else{return;}}if(!j(p,q+1)){p.ch=q;continue;}o.lastIndex=q;p.ch=q;var r=o.exec(p.text);if(r&&r.index==q){return r;}}}function k(q){for(;;){o.lastIndex=q.ch;var p=o.exec(q.text);if(!p){if(g(q)){continue;}else{return;}}if(!j(q,p.index+1)){q.ch=p.index+1;continue;}q.ch=p.index+p[0].length;return p;}}function l(q){for(;;){var p=q.ch?q.text.lastIndexOf(">",q.ch-1):-1;if(p==-1){if(i(q)){continue;}else{return;}}if(!j(q,p+1)){q.ch=p;continue;}var r=q.text.lastIndexOf("/",p);var s=r>-1&&!/\S/.test(q.text.slice(r+1,p));q.ch=p+1;return s?"selfClose":"regular";}}function b(r,w){var t=[];for(;;){var s=k(r),p,v=r.line,u=r.ch-(s?s[0].length:0);if(!s||!(p=m(r))){return;}if(p=="selfClose"){continue;}if(s[1]){for(var q=t.length-1;q>=0;--q){if(t[q]==s[2]){t.length=q;break;}}if(q<0&&(!w||w==s[2])){return{tag:s[2],from:h(v,u),to:h(r.line,r.ch)};}}else{t.push(s[2]);}}}function c(s,w){var u=[];for(;;){var t=l(s);if(!t){return;}if(t=="selfClose"){n(s);continue;}var q=s.line,p=s.ch;var v=n(s);if(!v){return;}if(v[1]){u.push(v[2]);}else{for(var r=u.length-1;r>=0;--r){if(u[r]==v[2]){u.length=r;break;}}if(r<0&&(!w||w==v[2])){return{tag:v[2],from:h(s.line,s.ch),to:h(q,p)};}}}}CodeMirror.registerHelper("fold","xml",function(q,u){var s=new d(q,u.line,0);for(;;){var t=k(s),r;if(!t||s.line!=u.line||!(r=m(s))){return;}if(!t[1]&&r!="selfClose"){var u=h(s.line,s.ch);var p=b(s,t[2]);return p&&{from:u,to:p.from};}}});CodeMirror.tagRangeFinder=CodeMirror.fold.xml;CodeMirror.findMatchingTag=function(p,t,u){var s=new d(p,t.line,t.ch,u);if(s.text.indexOf(">")==-1&&s.text.indexOf("<")==-1){return;}var q=m(s),w=q&&h(s.line,s.ch);var v=q&&n(s);if(!q||q=="selfClose"||!v||a(s,t)>0){return;}var r={from:h(s.line,s.ch),to:w,tag:v[2]};if(v[1]){return{open:c(s,v[2]),close:r,at:"close"};}else{s=new d(p,w.line,w.ch,u);return{open:r,close:b(s,v[2]),at:"open"};}};CodeMirror.findEnclosingTag=function(q,u,v){var s=new d(q,u.line,u.ch,v);for(;;){var t=c(s);if(!t){break;}var r=new d(q,u.line,u.ch,v);var p=b(r,t.tag);if(p){return{open:t,close:p};}}};CodeMirror.scanForClosingTag=function(p,t,s,q){var r=new d(p,t.line,t.ch,q?{from:0,to:q}:null);return !!b(r,s);};})();CodeMirror.defineMode("css",function(c,i){if(!i.propertyKeywords){i=CodeMirror.resolveMode("text/css");}var e=c.indentUnit,r=i.tokenHooks,g=i.mediaTypes||{},f=i.mediaFeatures||{},m=i.propertyKeywords||{},b=i.colorKeywords||{},v=i.valueKeywords||{},a=i.allowNested;var u,h;function o(x,y){u=y;return x;}function q(A,z){var x=A.next();if(r[x]){var y=r[x](A,z);if(y!==false){return y;}}if(x=="@"){A.eatWhile(/[\w\\\-]/);return o("def",A.current());}else{if(x=="="||(x=="~"||x=="|")&&A.eat("=")){return o(null,"compare");}else{if(x=='"'||x=="'"){z.tokenize=t(x);return z.tokenize(A,z);}else{if(x=="#"){A.eatWhile(/[\w\\\-]/);return o("atom","hash");}else{if(x=="!"){A.match(/^\s*\w*/);return o("keyword","important");}else{if(/\d/.test(x)||x=="."&&A.eat(/\d/)){A.eatWhile(/[\w.%]/);return o("number","unit");}else{if(x==="-"){if(/[\d.]/.test(A.peek())){A.eatWhile(/[\w.%]/);return o("number","unit");}else{if(A.match(/^[^-]+-/)){return o("meta","meta");}}}else{if(/[,+>*\/]/.test(x)){return o(null,"select-op");}else{if(x=="."&&A.match(/^-?[_a-z][_a-z0-9-]*/i)){return o("qualifier","qualifier");}else{if(/[:;{}\[\]\(\)]/.test(x)){return o(null,x);}else{if(x=="u"&&A.match("rl(")){A.backUp(1);z.tokenize=s;return o("property","word");}else{if(/[\w\\\-]/.test(x)){A.eatWhile(/[\w\\\-]/);return o("property","word");}else{return o(null,null);}}}}}}}}}}}}}function t(y,x){return function(C,B){var A=false,z;while((z=C.next())!=null){if(z==y&&!A){if(x){C.backUp(1);}break;}A=!A&&z=="\\";}if(!A){B.tokenize=null;}return o("string","string");};}function s(y,x){y.next();if(!y.match(/\s*[\"\']/,false)){x.tokenize=t(")",true);}else{x.tokenize=null;}return o(null,"(");}function d(z,x,y){this.type=z;this.indent=x;this.prev=y;}function n(x,y){x.context=new d(y,x.context.indent+e,x.context);return y;}function l(x){x.context=x.context.prev;return x.context.type;}function j(z,y,x){return p[x.context.type](z,y,x);}function k(B,A,z,y){for(var x=y||1;x>0;x--){z.context=z.context.prev;}return j(B,A,z);}function w(x){var y=x.current().toLowerCase();if(v.hasOwnProperty(y)){h="atom";}else{if(b.hasOwnProperty(y)){h="keyword";}else{h="variable";}}}var p={};p.top=function(z,x,y){if(z=="{"){return n(y,"block");}else{if(z=="}"&&y.context.prev){return l(y);}else{if(z=="@media"){return n(y,"media");}else{if(z&&z.charAt(0)=="@"){return n(y,"at");}else{if(z=="hash"){h="builtin";}else{if(z=="word"){h="tag";}else{if(z=="variable-definition"){return"maybeprop";}else{if(z=="interpolation"){return n(y,"interpolation");}else{if(z==":"){return"pseudo";}else{if(a&&z=="("){return n(y,"params");}}}}}}}}}}return y.context.type;};p.block=function(z,y,x){if(z=="word"){if(m.hasOwnProperty(y.current().toLowerCase())){h="property";return"maybeprop";}else{if(a){h="tag";return"block";}else{h+=" error";return"maybeprop";}}}else{if(z=="meta"){return"block";}else{if(!a&&(z=="hash"||z=="qualifier")){h="error";return"block";}else{return p.top(z,y,x);}}}};p.maybeprop=function(z,y,x){if(z==":"){return n(x,"prop");}return j(z,y,x);};p.prop=function(z,y,x){if(z==";"){return l(x);}if(z=="}"||z=="{"){return k(z,y,x);}if(z=="("){return n(x,"parens");}if(z=="hash"&&!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(y.current())){h+=" error";}else{if(z=="word"){w(y);}else{if(z=="interpolation"){return n(x,"interpolation");}}}return"prop";};p.parens=function(z,y,x){if(z=="{"||z=="}"){return k(z,y,x);}if(z==")"){return l(x);}return"parens";};p.pseudo=function(z,y,x){if(z=="word"){h="variable-3";return x.context.type;}return j(z,y,x);};p.media=function(z,y,x){if(z=="("){return n(x,"media_parens");}if(z=="}"){return k(z,y,x);}if(z=="{"){return l(x)&&n(x,a?"block":"top");}if(z=="word"){var A=y.current().toLowerCase();if(A=="only"||A=="not"||A=="and"){h="keyword";}else{if(g.hasOwnProperty(A)){h="attribute";}else{if(f.hasOwnProperty(A)){h="property";}else{h="error";}}}}return x.context.type;};p.media_parens=function(z,y,x){if(z==")"){return l(x);}if(z=="{"||z=="}"){return k(z,y,x,2);}return p.media(z,y,x);};p.at=function(z,y,x){if(z==";"){return l(x);}if(z=="{"||z=="}"){return k(z,y,x);}if(z=="word"){h="tag";}else{if(z=="hash"){h="builtin";}}return"at";};p.interpolation=function(z,y,x){if(z=="}"){return l(x);}if(z=="{"||z==";"){return k(z,y,x);}if(z!="variable"){h="error";}return"interpolation";};p.params=function(z,y,x){if(z==")"){return l(x);}if(z=="{"||z=="}"){return k(z,y,x);}if(z=="word"){w(y);}return"params";};return{startState:function(x){return{tokenize:null,state:"top",context:new d("top",x||0,null)};},token:function(y,x){if(!x.tokenize&&y.eatSpace()){return null;}var z=(x.tokenize||q)(y,x);if(z&&typeof z=="object"){u=z[1];z=z[0];}h=z;x.state=p[x.state](u,y,x);return h;},indent:function(y,z){var x=y.context;if(/^\}/.test(z)&&x.prev){x=x.prev;}if(/^\{/.test(z)&&x.type=="media"){x=x.prev;}return x.indent;},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"};});(function(){function d(o){var q={};for(var p=0;p<o.length;++p){q[o[p]]=true;}return q;}var h=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],g=d(h);var f=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],e=d(f);var j=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid-cell","grid-column","grid-column-align","grid-column-sizing","grid-column-span","grid-columns","grid-flow","grid-row","grid-row-align","grid-row-sizing","grid-row-span","grid-rows","grid-template","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-inside","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","zoom","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-profile","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","kerning","text-anchor","writing-mode"],i=d(j);var c=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],b=d(c);var n=["above","absolute","activeborder","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","content-box","context-menu","continuous","copy","cover","crop","cross","crosshair","currentcolor","cursive","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ew-resize","expanded","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-table","inset","inside","intrinsic","invert","italic","justify","kannada","katakana","katakana-iroha","keep-all","khmer","landscape","lao","large","larger","left","level","lighter","line-through","linear","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","single","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","x-large","x-small","xor","xx-large","xx-small"],m=d(n);var a=h.concat(f).concat(j).concat(c).concat(n);CodeMirror.registerHelper("hintWords","css",a);function k(r,q){var p=false,o;while((o=r.next())!=null){if(p&&o=="/"){q.tokenize=null;break;}p=(o=="*");}return["comment","comment"];}function l(p,o){if(p.skipTo("-->")){p.match("-->");o.tokenize=null;}else{p.skipToEnd();}return["comment","comment"];}CodeMirror.defineMIME("text/css",{mediaTypes:g,mediaFeatures:e,propertyKeywords:i,colorKeywords:b,valueKeywords:m,tokenHooks:{"<":function(p,o){if(!p.match("!--")){return false;}o.tokenize=l;return l(p,o);},"/":function(p,o){if(!p.eat("*")){return false;}o.tokenize=k;return k(p,o);}},name:"css"});CodeMirror.defineMIME("text/x-scss",{mediaTypes:g,mediaFeatures:e,propertyKeywords:i,colorKeywords:b,valueKeywords:m,allowNested:true,tokenHooks:{"/":function(p,o){if(p.eat("/")){p.skipToEnd();return["comment","comment"];}else{if(p.eat("*")){o.tokenize=k;return k(p,o);}else{return["operator","operator"];}}},":":function(o){if(o.match(/\s*{/)){return[null,"{"];}return false;},"$":function(o){o.match(/^[\w-]+/);if(o.match(/^\s*:/,false)){return["variable-2","variable-definition"];}return["variable-2","variable"];},"#":function(o){if(!o.eat("{")){return false;}return[null,"interpolation"];}},name:"css",helperType:"scss"});CodeMirror.defineMIME("text/x-less",{mediaTypes:g,mediaFeatures:e,propertyKeywords:i,colorKeywords:b,valueKeywords:m,allowNested:true,tokenHooks:{"/":function(p,o){if(p.eat("/")){p.skipToEnd();return["comment","comment"];}else{if(p.eat("*")){o.tokenize=k;return k(p,o);}else{return["operator","operator"];}}},"@":function(o){if(o.match(/^(media|import)\b/,false)){return false;}o.eatWhile(/[\w\\\-]/);if(o.match(/^\s*:/,false)){return["variable-2","variable-definition"];}return["variable-2","variable"];},"&":function(){return["atom","atom"];}},name:"css",helperType:"less"});})();CodeMirror.defineMode("htmlmixed",function(b,j){var f=CodeMirror.getMode(b,{name:"xml",htmlMode:true});var d=CodeMirror.getMode(b,"css");var l=[],m=j&&j.scriptTypes;l.push({matches:/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,mode:CodeMirror.getMode(b,"javascript")});if(m){for(var g=0;g<m.length;++g){var a=m[g];l.push({matches:a.matches,mode:a.mode&&CodeMirror.getMode(b,a.mode)});}}l.push({matches:/./,mode:CodeMirror.getMode(b,"text/plain")});function e(q,p){var s=p.htmlState.tagName;var r=f.token(q,p.htmlState);if(s=="script"&&/\btag\b/.test(r)&&q.current()==">"){var o=q.string.slice(Math.max(0,q.pos-100),q.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i);o=o?o[1]:"";if(o&&/[\"\']/.test(o.charAt(0))){o=o.slice(1,o.length-1);}for(var n=0;n<l.length;++n){var t=l[n];if(typeof t.matches=="string"?o==t.matches:t.matches.test(o)){if(t.mode){p.token=k;p.localMode=t.mode;p.localState=t.mode.startState&&t.mode.startState(f.indent(p.htmlState,""));}break;}}}else{if(s=="style"&&/\btag\b/.test(r)&&q.current()==">"){p.token=c;p.localMode=d;p.localState=d.startState(f.indent(p.htmlState,""));}}return r;}function h(q,p,r){var n=q.current();var i=n.search(p),o;if(i>-1){q.backUp(n.length-i);}else{if(o=n.match(/<\/?$/)){q.backUp(n.length);if(!q.match(p,false)){q.match(n);}}}return r;}function k(n,i){if(n.match(/^<\/\s*script\s*>/i,false)){i.token=e;i.localState=i.localMode=null;return e(n,i);}return h(n,/<\/\s*script\s*>/,i.localMode.token(n,i.localState));}function c(n,i){if(n.match(/^<\/\s*style\s*>/i,false)){i.token=e;i.localState=i.localMode=null;return e(n,i);}return h(n,/<\/\s*style\s*>/,d.token(n,i.localState));}return{startState:function(){var i=f.startState();return{token:e,localMode:null,localState:null,htmlState:i};},copyState:function(n){if(n.localState){var i=CodeMirror.copyState(n.localMode,n.localState);}return{token:n.token,localMode:n.localMode,localState:i,htmlState:CodeMirror.copyState(f,n.htmlState)};},token:function(n,i){return i.token(n,i);},indent:function(i,n){if(!i.localMode||/^\s*<\//.test(n)){return f.indent(i.htmlState,n);}else{if(i.localMode.indent){return i.localMode.indent(i.localState,n);}else{return CodeMirror.Pass;}}},innerMode:function(i){return{state:i.localState||i.htmlState,mode:i.localMode||f};}};},"xml","javascript","css");CodeMirror.defineMIME("text/html","htmlmixed");CodeMirror.defineMode("javascript",function(o,ae){var J=o.indentUnit;var ar=ae.statementIndent;var O=ae.json;var M=ae.typescript;var P=function(){function aH(aL){return{type:aL,style:"keyword"};}var aB=aH("keyword a"),aE=aH("keyword b"),aF=aH("keyword c");var aI=aH("operator"),aC={type:"atom",style:"atom"};var aG={"if":aH("if"),"while":aB,"with":aB,"else":aE,"do":aE,"try":aE,"finally":aE,"return":aF,"break":aF,"continue":aF,"new":aF,"delete":aF,"throw":aF,"var":aH("var"),"const":aH("var"),let:aH("var"),"function":aH("function"),"catch":aH("catch"),"for":aH("for"),"switch":aH("switch"),"case":aH("case"),"default":aH("default"),"in":aI,"typeof":aI,"instanceof":aI,"true":aC,"false":aC,"null":aC,"undefined":aC,"NaN":aC,"Infinity":aC,"this":aH("this"),module:aH("module"),"class":aH("class"),"super":aH("atom"),yield:aF,"export":aH("export"),"import":aH("import"),"extends":aF};if(M){var aK={type:"variable",style:"variable-3"};var aJ={"interface":aH("interface"),"extends":aH("extends"),constructor:aH("constructor"),"public":aH("public"),"private":aH("private"),"protected":aH("protected"),"static":aH("static"),string:aK,number:aK,bool:aK,any:aK};for(var aD in aJ){aG[aD]=aJ[aD];}}return aG;}();var L=/[+\-*&%=<>!?|~^]/;function aa(aE,aB){var aC=false,aD;while((aD=aE.next())!=null){if(aD==aB&&!aC){return false;}aC=!aC&&aD=="\\";}return aC;}var ax,r;function ap(aD,aC,aB){ax=aD;r=aB;return aC;}function at(aE,aD){var aB=aE.next();if(aB=='"'||aB=="'"){aD.tokenize=aw(aB);return aD.tokenize(aE,aD);}else{if(aB=="."&&aE.match(/^\d+(?:[eE][+\-]?\d+)?/)){return ap("number","number");}else{if(aB=="."&&aE.match("..")){return ap("spread","meta");}else{if(/[\[\]{}\(\),;\:\.]/.test(aB)){return ap(aB);}else{if(aB=="="&&aE.eat(">")){return ap("=>");}else{if(aB=="0"&&aE.eat(/x/i)){aE.eatWhile(/[\da-f]/i);return ap("number","number");}else{if(/\d/.test(aB)){aE.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return ap("number","number");}else{if(aB=="/"){if(aE.eat("*")){aD.tokenize=au;return au(aE,aD);}else{if(aE.eat("/")){aE.skipToEnd();return ap("comment","comment");}else{if(aD.lastType=="operator"||aD.lastType=="keyword c"||aD.lastType=="sof"||/^[\[{}\(,;:]$/.test(aD.lastType)){aa(aE,"/");aE.eatWhile(/[gimy]/);return ap("regexp","string-2");}else{aE.eatWhile(L);return ap("operator",null,aE.current());}}}}else{if(aB=="`"){aD.tokenize=av;return av(aE,aD);}else{if(aB=="#"){aE.skipToEnd();return ap("error","error");}else{if(L.test(aB)){aE.eatWhile(L);return ap("operator",null,aE.current());}else{aE.eatWhile(/[\w\$_]/);var aF=aE.current(),aC=P.propertyIsEnumerable(aF)&&P[aF];return(aC&&aD.lastType!=".")?ap(aC.type,aC.style,aF):ap("variable","variable",aF);}}}}}}}}}}}}function aw(aB){return function(aD,aC){if(!aa(aD,aB)){aC.tokenize=at;}return ap("string","string");};}function au(aE,aD){var aC=false,aB;while(aB=aE.next()){if(aB=="/"&&aC){aD.tokenize=at;break;}aC=(aB=="*");}return ap("comment","comment");}function av(aE,aD){var aB=false,aC;while((aC=aE.next())!=null){if(!aB&&(aC=="`"||aC=="$"&&aE.eat("{"))){aD.tokenize=at;break;}aB=!aB&&aC=="\\";}return ap("quasi","string-2",aE.current());}var j="([{}])";function z(aI,aH){if(aH.fatArrowAt){aH.fatArrowAt=null;}var aB=aI.string.indexOf("=>",aI.start);if(aB<0){return;}var aE=0,aG=false;for(var aF=aB-1;aF>=0;--aF){var aD=aI.string.charAt(aF);var aC=j.indexOf(aD);if(aC>=0&&aC<3){if(!aE){++aF;break;}if(--aE==0){break;}}else{if(aC>=3&&aC<6){++aE;}else{if(/[$\w]/.test(aD)){aG=true;}else{if(aG&&!aE){++aF;break;}}}}}if(aG&&!aE){aH.fatArrowAt=aF;}}var h={atom:true,number:true,variable:true,string:true,regexp:true,"this":true};function N(aD,aC,aG,aB,aF,aE){this.indented=aD;this.column=aC;this.type=aG;this.prev=aF;this.info=aE;if(aB!=null){this.align=aB;}}function K(aC,aE){for(var aD=aC.localVars;aD;aD=aD.next){if(aD.name==aE){return true;}}for(var aB=aC.context;aB;aB=aB.prev){for(var aD=aB.vars;aD;aD=aD.next){if(aD.name==aE){return true;}}}}function ad(aE,aG,aH,aD,aF){var aB=aE.cc;t.state=aE;t.stream=aF;t.marked=null,t.cc=aB;if(!aE.lexical.hasOwnProperty("align")){aE.lexical.align=true;}while(true){var aC=aB.length?aB.pop():O?w:aq;if(aC(aH,aD)){while(aB.length&&aB[aB.length-1].lex){aB.pop()();}if(t.marked){return t.marked;}if(aH=="variable"&&K(aE,aD)){return"variable-2";}return aG;}}}var t={state:null,column:null,marked:null,cc:null};function af(){for(var aB=arguments.length-1;aB>=0;aB--){t.cc.push(arguments[aB]);}}function p(){af.apply(null,arguments);return true;}function ao(aD){function aB(aE){for(var aF=aE;aF;aF=aF.next){if(aF.name==aD){return true;}}return false;}var aC=t.state;if(aC.context){t.marked="def";if(aB(aC.localVars)){return;}aC.localVars={name:aD,next:aC.localVars};}else{if(aB(aC.globalVars)){return;}if(ae.globalVars){aC.globalVars={name:aD,next:aC.globalVars};}}}var u={name:"this",next:{name:"arguments"}};function al(){t.state.context={prev:t.state.context,vars:t.state.localVars};t.state.localVars=u;}function ah(){t.state.localVars=t.state.context.vars;t.state.context=t.state.context.prev;}function am(aD,aB){var aC=function(){var aF=t.state,aE=aF.indented;if(aF.lexical.type=="stat"){aE=aF.lexical.indented;}aF.lexical=new N(aE,t.stream.column(),aD,null,aF.lexical,aB);};aC.lex=true;return aC;}function ai(){var aB=t.state;if(aB.lexical.prev){if(aB.lexical.type==")"){aB.indented=aB.lexical.indented;}aB.lexical=aB.lexical.prev;}}ai.lex=true;function v(aB){return function(aC){if(aC==aB){return p();}else{if(aB==";"){return af();}else{return p(arguments.callee);}}};}function aq(aB,aC){if(aB=="var"){return p(am("vardef",aC.length),az,v(";"),ai);}if(aB=="keyword a"){return p(am("form"),w,aq,ai);}if(aB=="keyword b"){return p(am("form"),aq,ai);}if(aB=="{"){return p(am("}"),i,ai);}if(aB==";"){return p();}if(aB=="if"){return p(am("form"),w,aq,ai,S);}if(aB=="function"){return p(G);}if(aB=="for"){return p(am("form"),B,ai,aq,ai);}if(aB=="variable"){return p(am("stat"),W);}if(aB=="switch"){return p(am("form"),w,am("}","switch"),v("{"),i,ai,ai);}if(aB=="case"){return p(w,v(":"));}if(aB=="default"){return p(v(":"));}if(aB=="catch"){return p(am("form"),al,v("("),F,v(")"),aq,ai,ah);}if(aB=="module"){return p(am("form"),al,c,ah,ai);}if(aB=="class"){return p(am("form"),k,ab,ai);}if(aB=="export"){return p(am("form"),a,ai);}if(aB=="import"){return p(am("form"),b,ai);}return af(am("stat"),w,v(";"),ai);}function w(aB){return x(aB,false);}function y(aB){return x(aB,true);}function x(aE,aD){if(t.state.fatArrowAt==t.stream.start){var aB=aD?g:f;if(aE=="("){return p(al,am(")"),m(ag,")"),ai,v("=>"),aB,ah);}else{if(aE=="variable"){return af(al,ag,v("=>"),aB,ah);}}}var aC=aD?Y:X;if(h.hasOwnProperty(aE)){return p(aC);}if(aE=="function"){return p(G);}if(aE=="keyword c"){return p(aD?U:T);}if(aE=="("){return p(am(")"),T,n,v(")"),ai,aC);}if(aE=="operator"||aE=="spread"){return p(aD?y:w);}if(aE=="["){return p(am("]"),e,ai,aC);}if(aE=="{"){return q(ac,"}",null,aC);}return p();}function T(aB){if(aB.match(/[;\}\)\],]/)){return af();}return af(w);}function U(aB){if(aB.match(/[;\}\)\],]/)){return af();}return af(y);}function X(aB,aC){if(aB==","){return p(w);}return Y(aB,aC,false);}function Y(aE,aF,aD){var aC=aD==false?X:Y;var aB=aD==false?w:y;if(aF=="=>"){return p(al,aD?g:f,ah);}if(aE=="operator"){if(/\+\+|--/.test(aF)){return p(aC);}if(aF=="?"){return p(w,v(":"),aB);}return p(aB);}if(aE=="quasi"){t.cc.push(aC);return an(aF);}if(aE==";"){return;}if(aE=="("){return q(y,")","call",aC);}if(aE=="."){return p(aj,aC);}if(aE=="["){return p(am("]"),T,v("]"),ai,aC);}}function an(aB){if(!aB){;}if(aB.slice(aB.length-2)!="${"){return p();}return p(w,s);}function s(aB){if(aB=="}"){t.marked="string-2";t.state.tokenize=av;return p();}}function f(aB){z(t.stream,t.state);if(aB=="{"){return af(aq);}return af(w);}function g(aB){z(t.stream,t.state);if(aB=="{"){return af(aq);}return af(y);}function W(aB){if(aB==":"){return p(ai,aq);}return af(X,v(";"),ai);}function aj(aB){if(aB=="variable"){t.marked="property";return p();}}function ac(aB,aC){if(aB=="variable"){t.marked="property";if(aC=="get"||aC=="set"){return p(H);}}else{if(aB=="number"||aB=="string"){t.marked=aB+" property";}else{if(aB=="["){return p(w,v("]"),d);}}}if(h.hasOwnProperty(aB)){return p(d);}}function H(aB){if(aB!="variable"){return af(d);}t.marked="property";return p(G);}function d(aB){if(aB==":"){return p(y);}if(aB=="("){return af(G);}}function m(aD,aB){function aC(aF){if(aF==","){var aE=t.state.lexical;if(aE.info=="call"){aE.pos=(aE.pos||0)+1;}return p(aD,aC);}if(aF==aB){return p();}return p(v(aB));}return function(aE){if(aE==aB){return p();}return af(aD,aC);};}function q(aE,aB,aD){for(var aC=3;aC<arguments.length;aC++){t.cc.push(arguments[aC]);}return p(am(aB,aD),m(aE,aB),ai);}function i(aB){if(aB=="}"){return p();}return af(aq,i);}function Z(aB){if(M&&aB==":"){return p(ay);}}function ay(aB){if(aB=="variable"){t.marked="variable-3";return p();}}function az(){return af(ag,Z,R,aA);}function ag(aB,aC){if(aB=="variable"){ao(aC);return p();}if(aB=="["){return q(ag,"]");}if(aB=="{"){return q(ak,"}");}}function ak(aB,aC){if(aB=="variable"&&!t.stream.match(/^\s*:/,false)){ao(aC);return p(R);}if(aB=="variable"){t.marked="property";}return p(v(":"),ag,R);}function R(aB,aC){if(aC=="="){return p(y);}}function aA(aB){if(aB==","){return p(az);}}function S(aB,aC){if(aB=="keyword b"&&aC=="else"){return p(am("form"),aq,ai);}}function B(aB){if(aB=="("){return p(am(")"),C,v(")"));}}function C(aB){if(aB=="var"){return p(az,v(";"),D);}if(aB==";"){return p(D);}if(aB=="variable"){return p(A);}return af(w,v(";"),D);}function A(aB,aC){if(aC=="in"||aC=="of"){t.marked="keyword";return p(w);}return p(X,D);}function D(aB,aC){if(aB==";"){return p(E);}if(aC=="in"||aC=="of"){t.marked="keyword";return p(w);}return af(w,v(";"),E);}function E(aB){if(aB!=")"){p(w);}}function G(aB,aC){if(aC=="*"){t.marked="keyword";return p(G);}if(aB=="variable"){ao(aC);return p(G);}if(aB=="("){return p(al,am(")"),m(F,")"),ai,aq,ah);}}function F(aB){if(aB=="spread"){return p(F);}return af(ag,Z);}function k(aB,aC){if(aB=="variable"){ao(aC);return p(l);}}function l(aB,aC){if(aC=="extends"){return p(w);}}function ab(aB){if(aB=="{"){return q(ac,"}");}}function c(aB,aC){if(aB=="string"){return p(aq);}if(aB=="variable"){ao(aC);return p(V);}}function a(aB,aC){if(aC=="*"){t.marked="keyword";return p(V,v(";"));}if(aC=="default"){t.marked="keyword";return p(w,v(";"));}return af(aq);}function b(aB){if(aB=="string"){return p();}return af(I,V);}function I(aB,aC){if(aB=="{"){return q(I,"}");}if(aB=="variable"){ao(aC);}return p();}function V(aB,aC){if(aC=="from"){t.marked="keyword";return p(w);}}function e(aB){if(aB=="]"){return p();}return af(y,Q);}function Q(aB){if(aB=="for"){return af(n);}if(aB==","){return p(m(y,"]"));}return af(m(y,"]"));}function n(aB){if(aB=="for"){return p(B,n);}if(aB=="if"){return p(w,n);}}return{startState:function(aB){var aC={tokenize:at,lastType:"sof",cc:[],lexical:new N((aB||0)-J,0,"block",false),localVars:ae.localVars,context:ae.localVars&&{vars:ae.localVars},indented:0};if(ae.globalVars){aC.globalVars=ae.globalVars;}return aC;},token:function(aC,aB){if(aC.sol()){if(!aB.lexical.hasOwnProperty("align")){aB.lexical.align=false;}aB.indented=aC.indentation();z(aC,aB);}if(aB.tokenize!=au&&aC.eatSpace()){return null;}var aD=aB.tokenize(aC,aB);if(ax=="comment"){return aD;}aB.lastType=ax=="operator"&&(r=="++"||r=="--")?"incdec":ax;return ad(aB,aD,ax,r,aC);},indent:function(aG,aH){if(aG.tokenize==au){return CodeMirror.Pass;}if(aG.tokenize!=at){return 0;}var aD=aH&&aH.charAt(0),aF=aG.lexical;for(var aE=aG.cc.length-1;aE>=0;--aE){var aB=aG.cc[aE];if(aB==ai){aF=aF.prev;}else{if(aB!=S){break;}}}if(aF.type=="stat"&&aD=="}"){aF=aF.prev;}if(ar&&aF.type==")"&&aF.prev.type=="stat"){aF=aF.prev;}var aI=aF.type,aC=aD==aI;if(aI=="vardef"){return aF.indented+(aG.lastType=="operator"||aG.lastType==","?aF.info+1:0);}else{if(aI=="form"&&aD=="{"){return aF.indented;}else{if(aI=="form"){return aF.indented+J;}else{if(aI=="stat"){return aF.indented+(aG.lastType=="operator"||aG.lastType==","?ar||J:0);}else{if(aF.info=="switch"&&!aC&&ae.doubleIndentSwitch!=false){return aF.indented+(/^(?:case|default)\b/.test(aH)?J:2*J);}else{if(aF.align){return aF.column+(aC?0:1);}else{return aF.indented+(aC?0:J);}}}}}}},electricChars:":{}",blockCommentStart:O?null:"/*",blockCommentEnd:O?null:"*/",lineComment:O?null:"//",fold:"brace",helperType:O?"json":"javascript",jsonMode:O};});CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("text/ecmascript","javascript");CodeMirror.defineMIME("application/javascript","javascript");CodeMirror.defineMIME("application/ecmascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:true});CodeMirror.defineMIME("application/x-json",{name:"javascript",json:true});CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:true});CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:true});CodeMirror.defineMode("xml",function(i,t){var m=i.indentUnit;var r=t.multilineTagIndentFactor||1;var s=t.multilineTagIndentPastTag||true;var p=t.htmlMode?{autoSelfClosers:{area:true,base:true,br:true,col:true,command:true,embed:true,frame:true,hr:true,img:true,input:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true},implicitlyClosed:{dd:true,li:true,optgroup:true,option:true,p:true,rp:true,rt:true,tbody:true,td:true,tfoot:true,th:true,tr:true},contextGrabbers:{dd:{dd:true,dt:true},dt:{dd:true,dt:true},li:{li:true},option:{option:true,optgroup:true},optgroup:{optgroup:true},p:{address:true,article:true,aside:true,blockquote:true,dir:true,div:true,dl:true,fieldset:true,footer:true,form:true,h1:true,h2:true,h3:true,h4:true,h5:true,h6:true,header:true,hgroup:true,hr:true,menu:true,nav:true,ol:true,p:true,pre:true,section:true,table:true,ul:true},rp:{rp:true,rt:true},rt:{rp:true,rt:true},tbody:{tbody:true,tfoot:true},td:{td:true,th:true},tfoot:{tbody:true},th:{td:true,th:true},thead:{tbody:true,tfoot:true},tr:{tr:true}},doNotIndent:{pre:true},allowUnquoted:true,allowMissing:true}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:false,allowMissing:false};var a=t.alignCDATA;var x,y,w;function o(F,E){function B(G){E.tokenize=G;return G(F,E);}var A=F.next();if(A=="<"){if(F.eat("!")){if(F.eat("[")){if(F.match("CDATA[")){return B(l("atom","]]>"));}else{return null;}}else{if(F.match("--")){return B(l("comment","-->"));}else{if(F.match("DOCTYPE",true,true)){F.eatWhile(/[\w\._\-]/);return B(j(1));}else{return null;}}}}else{if(F.eat("?")){F.eatWhile(/[\w\._\-]/);E.tokenize=l("meta","?>");return"meta";}else{var C=F.eat("/");x="";var z;while((z=F.eat(/[^\s\u00a0=<>\"\'\/?]/))){x+=z;}if(!x){return"tag error";}y=C?"closeTag":"openTag";E.tokenize=n;return"tag";}}}else{if(A=="&"){var D;if(F.eat("#")){if(F.eat("x")){D=F.eatWhile(/[a-fA-F\d]/)&&F.eat(";");}else{D=F.eatWhile(/[\d]/)&&F.eat(";");}}else{D=F.eatWhile(/[\w\.\-:]/)&&F.eat(";");}return D?"atom":"error";}else{F.eatWhile(/[^&<]/);return null;}}}function n(C,B){var z=C.next();if(z==">"||(z=="/"&&C.eat(">"))){B.tokenize=o;y=z==">"?"endTag":"selfcloseTag";return"tag";}else{if(z=="="){y="equals";return null;}else{if(z=="<"){B.tokenize=o;B.state=f;B.tagName=B.tagStart=null;var A=B.tokenize(C,B);return A?A+" error":"error";}else{if(/[\'\"]/.test(z)){B.tokenize=k(z);B.stringStartCol=C.column();return B.tokenize(C,B);}else{C.eatWhile(/[^\s\u00a0=<>\"\']/);return"word";}}}}}function k(A){var z=function(C,B){while(!C.eol()){if(C.next()==A){B.tokenize=n;break;}}return"string";};z.isInAttribute=true;return z;}function l(z,A){return function(C,B){while(!C.eol()){if(C.match(A)){B.tokenize=o;break;}C.next();}return z;};}function j(z){return function(C,B){var A;while((A=C.next())!=null){if(A=="<"){B.tokenize=j(z+1);return B.tokenize(C,B);}else{if(A==">"){if(z==1){B.tokenize=o;break;}else{B.tokenize=j(z-1);return B.tokenize(C,B);}}}}return"meta";};}function v(B,C,A){var z=p.doNotIndent.hasOwnProperty(C)||(B.context&&B.context.noIndent);B.context={prev:B.context,tagName:C,indent:B.indented,startOfLine:A,noIndent:z};}function u(z){if(z.context){z.context=z.context.prev;}}function q(B,z){var A;while(true){if(!B.context){return;}A=B.context.tagName.toLowerCase();if(!p.contextGrabbers.hasOwnProperty(A)||!p.contextGrabbers[A].hasOwnProperty(z)){return;}u(B);}}function f(C,B,A){if(C=="openTag"){A.tagName=x;A.tagStart=B.column();return d;}else{if(C=="closeTag"){var z=false;if(A.context){if(A.context.tagName!=x){if(p.implicitlyClosed.hasOwnProperty(A.context.tagName.toLowerCase())){u(A);}z=!A.context||A.context.tagName!=x;}}else{z=true;}if(z){w="error";}return z?h:g;}else{return f;}}}function g(B,z,A){if(B!="endTag"){w="error";return g;}u(A);return f;}function h(B,A,z){w="error";return g(B,A,z);}function d(D,A,z){if(D=="word"){w="attribute";return c;}else{if(D=="endTag"||D=="selfcloseTag"){var B=z.tagName,C=z.tagStart;z.tagName=z.tagStart=null;if(D=="selfcloseTag"||p.autoSelfClosers.hasOwnProperty(B.toLowerCase())){q(z,B.toLowerCase());}else{q(z,B.toLowerCase());v(z,B,C==A.indentation());}return f;}}w="error";return d;}function c(B,A,z){if(B=="equals"){return e;}if(!p.allowMissing){w="error";}else{if(B=="word"){w="attribute";return d;}}return d(B,A,z);}function e(B,A,z){if(B=="string"){return b;}if(B=="word"&&p.allowUnquoted){w="string";return d;}w="error";return d(B,A,z);}function b(B,A,z){if(B=="string"){return b;}return d(B,A,z);}return{startState:function(){return{tokenize:o,state:f,indented:0,startOfLine:true,tagName:null,tagStart:null,context:null};},token:function(A,z){if(!z.tagName&&A.sol()){z.startOfLine=true;z.indented=A.indentation();}if(A.eatSpace()){return null;}x=y=null;var B=z.tokenize(A,z);if((B||y)&&B!="comment"){w=null;z.state=z.state(y||B,A,z);if(w){B=w=="error"?B+" error":w;}}z.startOfLine=false;return B;},indent:function(B,C,A){var z=B.context;if(B.tokenize.isInAttribute){return B.stringStartCol+1;}if((B.tokenize!=n&&B.tokenize!=o)||z&&z.noIndent){return A?A.match(/^(\s*)/)[0].length:0;}if(B.tagName){if(s){return B.tagStart+B.tagName.length+2;}else{return B.tagStart+m*r;}}if(a&&/<!\[CDATA\[/.test(C)){return 0;}if(z&&/^<\//.test(C)){z=z.prev;}while(z&&!z.startOfLine){z=z.prev;}if(z){return z.indent+m;}else{return 0;}},electricChars:"/",blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:t.htmlMode?"html":"xml",helperType:t.htmlMode?"html":"xml"};});CodeMirror.defineMIME("text/xml","xml");CodeMirror.defineMIME("application/xml","xml");if(!CodeMirror.mimeModes.hasOwnProperty("text/html")){CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:true});}(function(d,c,b){if(!c.UI.EditHtmlDialog){c.UI.EditHtmlDialog=a;}function a(t,s,M){s=s||{};var I=this,O="WA.UI.EditHtmlDialog",Q=t,H=s.parentComponent,x=Q.modelAccessor,K=Q.resources;I.toString=function(){return O;};I.ChangeCancel=c.Tools.EventHandlers.createHandlers(I,{id:"ChangeCancel"});I.ValidationFailed=c.Tools.EventHandlers.createHandlers(I,{id:"ValidationFailed"});I.RenderComplete=c.Tools.EventHandlers.createHandlers(I,{id:"RenderComplete"});I.ValueChanged=c.Tools.EventHandlers.createHandlers(I,{id:"ValueChanged"});I.Dispose=c.Tools.EventHandlers.createHandlers(I,{id:"Dispose"});I.render=J;I.getType=function(){return Q.layoutControlType;};var G=Q.openDialogButtonType||c.UI.EditHtmlDialogTemplate.OpenDialogButtonType.Button,R=Q.windowResizeWatcherEnabled!=b?Q.windowResizeWatcherEnabled:true,m=null,j=null,f=[],F=null,L=null,e=null,n,u,w=false,v=false,o=null;function J(){return c.UI.EditHtmlDialogTemplate(Q);}function g(){var U,V,W,T,S=[],X={dataSource:M?M.dataSource:b,modelAccessor:x};for(U=0,V=Q.elements.length;U<V;U++){W=Q.elements[U];W.id=Q.id+U;T=M.controlFactory.createControl(W.layoutControlType,W,{parentComponent:I},X);S.push(T.render());T.ValueChanged.addHandler(E);f.push(T);}j.setContent(c.UI.EditHtmlDialogTemplate.Content({contentHTML:S.join("")}));}function l(){var S,T;for(S=0,T=f.length;S<T;S++){f[S].dispose();}f=[];}function B(T,S){j.Cancel.addHandler(z);w=false;I.RenderComplete.fireHandlers();}function A(){g();j.show();I.RenderComplete.fireHandlers();j.setNormalState();}function C(){var T=q(),S,U;if(T!=null&&T!==""){S=i(T);N(S.htmlContent);if(!S.validationResult.isValid){P(S.validationResult);if(v&&o===S.htmlContent){v=false;o=null;}else{v=true;o=S.htmlContent;return;}}}U=x.applyChanges();if(!U.isSuccess){I.ValidationFailed.fireHandlers();return;}if(U.hasChanges){I.ValueChanged.fireHandlers();}if(!w&&!u){j.hide();l();}}function q(){var S=p("HtmlTextArea");if(S&&S.valueAccessor){return x.getValue(S.valueAccessor.getPath());}return null;}function N(T){var S=p("HtmlTextArea");if(S&&S.valueAccessor&&S.valueAccessor.path){x.setValue(S.valueAccessor.path,T);}}function p(T){var S;for(S=0;S<Q.elements.length;S++){if(Q.elements[S].layoutControlType===T){return Q.elements[S];}}return null;}function i(V){var W,ad=/<SCRIPT[\s>]/ig,Z=/(?:<\/SCRIPT\s*>|"|')/ig,Y=/'/ig,ab=/"/ig,ae,aa=/<PLAINTEXT[\s>]/ig,af=[{begin:/<!--/g,end:/-->/g},{begin:/<IFRAME[\s>]/ig,end:/<\/IFRAME\s*>/ig},{begin:/<APPLET[\s>]/ig,end:/<\/APPLET\s*>/ig},{begin:/<NOEMBED[\s>]/ig,end:/<\/NOEMBED\s*>/ig},{begin:/<NOFRAMES[\s>]/ig,end:/<\/NOFRAMES\s*>/ig},{begin:/<NOSCRIPT[\s>]/ig,end:/<\/NOSCRIPT\s*>/ig},{begin:/<TEXTAREA[\s>]/ig,end:/<\/TEXTAREA\s*>/ig},{begin:/<XMP[\s>]/ig,end:/<\/XMP\s*>/ig},{begin:/<OBJECT[\s>]/ig,end:/<\/OBJECT\s*>/ig},{begin:/<MARQUEE[\s>]/ig,end:/<\/MARQUEE\s*>/ig}],U=V,ac,ag=false,S,T,X=true;while(ad.test(U)){ag=true;Z.lastIndex=ad.lastIndex;while(ac=Z.exec(U)){if(ac[0].indexOf("<")===0){ag=false;break;}else{ae=(ac[0]==='"')?ab:Y;ae.lastIndex=Z.lastIndex;while(ae.test(U)){if(U.substring(ae.lastIndex-2,ae.lastIndex-1)!=="\\"){Z.lastIndex=ae.lastIndex;break;}}}}}for(W=0;W<af.length;W++){S=0;T=0;while(af[W].begin.exec(U)){S++;}while(af[W].end.exec(U)){T++;}if(ag||S!==T){X=false;break;}}return{htmlContent:V.replace(/<(\/?PLAINTEXT)(?:>|(\s[^>]*)>)/ig,"&lt;$1$2&gt;"),validationResult:{isValid:X,message:[Q.resources.htmlErrorMessage]}};}function P(T){var S=p("HtmlTextArea");if(S&&S.id){c.UI.Helpers.ControlHelper.showValidationHTMLMessages(S.id,T.message);}}function z(){I.ChangeCancel.fireHandlers();x.resetChanges();j.hide();l();}function E(){w=false;}function h(){if(G==c.UI.EditHtmlDialogTemplate.OpenDialogButtonType.Button){F=new c.UI.WaButton({id:Q.id+c.UI.EditHtmlDialogTemplate.IdEditHtmlOpenDialogButtonPostfix},{parentComponent:I});F.WaButtonClick.addHandler(A);return;}F=new c.UI.Link({id:Q.id+c.UI.EditHtmlDialogTemplate.IdEditHtmlOpenDialogButtonPostfix,jsAction:true},{parentComponent:I});F.ButtonClick.addHandler(A);}function D(){w=true;I.ValidationFailed.fireHandlers();}function y(T,S){switch(S.id){case Q.id+c.UI.EditHtmlDialogTemplate.IdEditHtmlSaveButtonPostfix:C();break;case Q.id+c.UI.EditHtmlDialogTemplate.IdEditHtmlCancelButtonPostfix:z();break;default:}}function r(){if(j==null){j=new c.UI.WaDialogV2({id:Q.id+"EditHtmlDialog",cssClass:"editHtmlDialog"},{maxWidth:Q.maxWidth||950,minWidth:Q.minWidth||450,maxHeight:Q.maxHeight||600,minHeight:Q.minHeight||350,titleText:Q.dialogTitle!=b?Q.dialogTitle:K.dialogTitle,buttons:[{model:{id:Q.id+c.UI.EditHtmlDialogTemplate.IdEditHtmlSaveButtonPostfix,name:c.Admin.Cms.Text.Button_Save},args:{color:c.UI.WaButton.ButtonColor.Grey}},{model:{id:Q.id+c.UI.EditHtmlDialogTemplate.IdEditHtmlCancelButtonPostfix,name:c.Admin.Cms.Text.Button_Cancel},args:{color:c.UI.WaButton.ButtonColor.Grey}}],tabs:[],showTitle:true,showTabs:false,parentComponent:I});j.ActionButtonClick.addHandler(y);}h();if(H.ValidationFailed){H.ValidationFailed.addHandler(D);}H.RenderComplete.addHandler(B);H.Dispose.addHandler(k);}function k(){if(u){return;}u=true;I.Dispose.fireHandlers();if(H.ValidationFailed){H.ValidationFailed.removeHandler(D);}H.RenderComplete.removeHandler(B);H.Dispose.removeHandler(k);Q=null;H=null;m=null;j=null;F=null;L=null;e=null;n=null;I.ChangeCancel=null;I.ValueChanged=null;I.ValidationFailed=null;I.RenderComplete=null;I.Dispose=null;}r();}})(window,WA);(function(d,c,b){if(!c.UI.EditHtmlDialogTemplate){c.UI.EditHtmlDialogTemplate=a;c.UI.EditHtmlDialogTemplate.IdEditHtmlDialogPostfix="_editHtmlDialog";c.UI.EditHtmlDialogTemplate.IdEditHtmlOpenDialogButtonPostfix="_editHtmlOpenDialogButton";c.UI.EditHtmlDialogTemplate.IdEditHtmlCancelButtonPostfix="_editHtmlCancelButton";c.UI.EditHtmlDialogTemplate.IdEditHtmlSaveButtonPostfix="_editHtmlSaveButton";c.UI.EditHtmlDialogTemplate.OpenDialogButtonType={Button:"button",Link:"link"};}function a(h){var j=c.UI.WaButtonTemplate,g=c.UI.LinkTemplate,f=c.UI.ContainerTemplate,e=c.UI.ControlLayoutTemplate,i=h.openDialogButtonType||c.UI.EditHtmlDialogTemplate.OpenDialogButtonType.Button;h.controlContainerDisplayType=h.controlContainerDisplayType?h.controlContainerDisplayType:c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;h.cssClass="editHtmlDialogButton"+(h.cssClass?" "+h.cssClass:"");h.layoutContentHTML=f({cssClass:"editHtmlDialogButtonContainer",contentHTML:(i==c.UI.EditHtmlDialogTemplate.OpenDialogButtonType.Button)?j({cssClass:"editHtmlButton",id:h.id+c.UI.EditHtmlDialogTemplate.IdEditHtmlOpenDialogButtonPostfix,name:h.openDialogButtonTitle?h.openDialogButtonTitle:h.resources.openDialogButtonTitle},{color:c.UI.WaButton.ButtonColor.Grey}):g({id:h.id+c.UI.EditHtmlDialogTemplate.IdEditHtmlOpenDialogButtonPostfix,jsAction:true,contentText:h.openDialogButtonTitle?h.openDialogButtonTitle:h.resources.openDialogButtonTitle})});return e(h);}c.UI.EditHtmlDialogTemplate.Buttons=function(f){var e=c.UI.ContainerTemplate,g=c.UI.WaButtonTemplate;return e({cssClass:"actionButtons",contentHTML:g({id:f.id+c.UI.EditHtmlDialogTemplate.IdEditHtmlSaveButtonPostfix,name:c.Admin.Cms.Text.Button_Save},{color:c.UI.WaButton.ButtonColor.Grey})+g({id:f.id+c.UI.EditHtmlDialogTemplate.IdEditHtmlCancelButtonPostfix,name:c.Admin.Cms.Text.Button_Cancel},{color:c.UI.WaButton.ButtonColor.Grey})});};c.UI.EditHtmlDialogTemplate.Content=function(e){return c.UI.ContainerTemplate({cssClass:"editHtmlDialogContent",contentHTML:e.contentHTML});};})(window,WA);(function(d,c,b){if(!c.UI.EditHtmlTextArea){c.UI.EditHtmlTextArea=a;}function a(h,g){g=g||{};var n=this,q="WA.UI.EditHtmlTextArea",s=h,m=g.parentComponent,r;n.toString=function(){return q;};n.ValidationFailed=c.Tools.EventHandlers.createHandlers(n,{id:"ValidationFailed"});n.RenderComplete=c.Tools.EventHandlers.createHandlers(n,{id:"RenderComplete"});n.Dispose=c.Tools.EventHandlers.createHandlers(n,{id:"Dispose"});n.ValueChanged=c.Tools.EventHandlers.createHandlers(n,{id:"ValueChanged"});n.VisualStateChanged=c.Tools.EventHandlers.createHandlers(n,{id:"VisualStateChanged"});n.render=o;n.dispose=e;n.setValue=function(t){r.setValue(t);};n.getValue=function(){return r.getValue();};n.getType=function(){return s.layoutControlType;};var p=null;function o(){return c.UI.EditHtmlTextAreaTemplate(s);}function i(u,t){n.RenderComplete.fireHandlers();}function k(){n.ValueChanged.fireHandlers();}function j(){n.ValidationFailed.fireHandlers();}function l(u,t){n.VisualStateChanged.fireHandlers();}function f(){m.RenderComplete.addHandler(i);m.Dispose.addHandler(e);m.ValidationFailed.addHandler(j);r=c.UI.Helpers.ValueAccessorHelper.createValueAccessor(h,n);p=new c.UI.TextBox({id:s.id,attr:{eventTags:s.attr.eventTags},valueAccessor:r,isMultiline:true},{parentComponent:n});p.ValueChanged.addHandler(k);p.VisualStateChanged.addHandler(l);}function e(){n.Dispose.fireHandlers();m.ValidationFailed.removeHandler(j);m.RenderComplete.removeHandler(i);m.Dispose.removeHandler(e);s=null;m=null;p=null;n.ValidationFailed=null;n.RenderComplete=null;n.ValueChanged=null;n.Dispose=null;n.VisualStateChanged=null;}f();}})(window,WA);(function(d,c,b){if(!c.UI.EditHtmlTextAreaTemplate){c.UI.EditHtmlTextAreaTemplate=a;c.UI.EditHtmlTextAreaTemplate.TextAreaPostfix="_textArea";c.UI.EditHtmlTextAreaTemplate.EditHtmlTextAreaContainerPostfix="_editHtmlTextAreaContainer";}function a(f){var e=c.UI.ContainerTemplate,g=c.UI.TextBoxTemplate;return e({cssClass:"editHtmlTextAreaContainer",id:f.id+c.UI.EditHtmlTextAreaTemplate.EditHtmlTextAreaContainerPostfix,contentHTML:g({id:f.id,isMultiline:true,attr:{eventTags:f.attr.eventTags+c.UI.EditHtmlTextAreaTemplate.TextAreaPostfix},cssClass:"editHtmlTextArea",value:f.value,title:f.title,titlePosition:f.titlePosition,prefix:f.prefix,postfix:f.postfix})});}})(window,WA);(function(d,c,b){if(!c.UI.FileList){c.UI.FileList=a;c.UI.FileList.ListControlCssClasses={ThumbView:"thumbView",TableView:"tableView"};}function a(o){var x=this,G="WA.UI.FileList",H=o,B=o.resources,w=H.parentComponent;x.toString=function(){return G;};x.RenderComplete=c.Tools.EventHandlers.createHandlers(x,{id:"RenderComplete"});x.Dispose=c.Tools.EventHandlers.createHandlers(x,{id:"Dispose"});x.FileListValueChange=c.Tools.EventHandlers.createHandlers(x,{id:"FileListValueChange"});x.RemoveItemClick=c.Tools.EventHandlers.createHandlers(x,{id:"RemoveItemClick"});x.ItemMouseDown=c.Tools.EventHandlers.createHandlers(x,{id:"ItemMouseDown"});x.SetAccessPermissionsItemClick=c.Tools.EventHandlers.createHandlers(x,{id:"SetAccessPermissionsItemClick"});var p=false,i=H.viewMode,j=H.fileSortType,r=c.Object.copy(H.listItemsModel.listItems),q,l;x.render=A;x.renderComplete=v;x.changeViewMode=e;x.sortFiles=D;x.setActiveItem=C;x.dispose=k;function C(I){if(!I){return;}q.setSelectedValue(I);}function D(I){j=I;y();}function E(){var L=[],I=[];switch(j){case c.UI.FileSortType.SortByDateDes:L=c.Array.sortObjectsArray(r.filter(K),"lastModified",true);I=c.Array.sortObjectsArray(r.filter(J),"lastModified",true);break;case c.UI.FileSortType.SortByDateAsc:L=c.Array.sortObjectsArray(r.filter(K),"lastModified");I=c.Array.sortObjectsArray(r.filter(J),"lastModified");break;case c.UI.FileSortType.SortByNameDes:L=c.Array.sortObjectsArray(r.filter(K),"displayName",true);I=c.Array.sortObjectsArray(r.filter(J),"displayName",true);break;case c.UI.FileSortType.SortByNameAsc:L=c.Array.sortObjectsArray(r.filter(K),"displayName");I=c.Array.sortObjectsArray(r.filter(J),"displayName");break;case c.UI.FileSortType.SortByTypeDes:L=c.Array.sortObjectsArray(r.filter(K),"displayName",true);I=c.Array.sortObjectsArray(r.filter(J),"contentType",true);break;case c.UI.FileSortType.SortByTypeAsc:L=c.Array.sortObjectsArray(r.filter(K),"displayName");I=c.Array.sortObjectsArray(r.filter(J),"contentType");break;case c.UI.FileSortType.SortBySizeDes:L=c.Array.sortObjectsArray(r.filter(K),"displayName",true);I=c.Array.sortObjectsArray(r.filter(J),"contentLength",true);break;case c.UI.FileSortType.SortBySizeAsc:L=c.Array.sortObjectsArray(r.filter(K),"displayName");I=c.Array.sortObjectsArray(r.filter(J),"contentLength");break;default:}r=L.concat(I);function K(M){return M.contentType==b;}function J(M){return M.contentType!=b;}}function A(){if(!r.length==0){return c.UI.FileListTemplate({id:H.id,viewModeCssClass:m(i),contentHTML:q.render()});}else{return c.UI.FileListEmptyTemplate({id:H.id,message:H.resources.emptyFolderMessage});}}function y(){if(r.length==0){return;}x.Dispose.fireHandlers();E();h();z();}function z(){l.innerHTML="";F(i);l.innerHTML=q.render();x.RenderComplete.fireHandlers();}function e(I){if(I==i){return;}i=I;y();}function s(K){var M=c.getEventTarget(K),I=M.getAttribute(c.UI.FileListTemplate.DeleteAttr,0),J=M.getAttribute(c.UI.FileListTemplate.SetAccessAttr,0),L=M.getAttribute(c.UI.FileListTemplate.IsFolderAttr,0)=="true";if(I){x.RemoveItemClick.fireHandlers({id:I,isFolder:L});}if(J){x.SetAccessPermissionsItemClick.fireHandlers({id:J,isFolder:L});}}function v(J,I){if(r.length==0){return;}l=c.$(H.id);c.addHandler(l,"click",s);x.RenderComplete.fireHandlers();}function F(I){switch(I){case c.UI.FileListViewMode.ThumbView:c.Dom.removeClassName(l,c.UI.FileList.ListControlCssClasses.TableView);c.Dom.addClassName(l,c.UI.FileList.ListControlCssClasses.ThumbView);break;case c.UI.FileListViewMode.TableView:c.Dom.removeClassName(l,c.UI.FileList.ListControlCssClasses.ThumbView);c.Dom.addClassName(l,c.UI.FileList.ListControlCssClasses.TableView);break;default:}}function h(){q=new c.UI.ListControl({id:H.id+c.UI.FileListTemplate.IdListControlPostfix,listName:i+"List",items:g(r),headerHTML:i==c.UI.FileListViewMode.TableView?c.UI.FileListHeaderTemplate(H):null},{processDoubleClick:true,parentComponent:x});q.ValueChanged.addHandler(u);q.ContainerMouseDown.addHandler(t);}function u(J,I){x.FileListValueChange.fireHandlers(I);}function m(I){switch(I){case c.UI.FileListViewMode.ThumbView:return c.UI.FileList.ListControlCssClasses.ThumbView;case c.UI.FileListViewMode.TableView:return c.UI.FileList.ListControlCssClasses.TableView;default:}}function g(J){var L=[];var K,M,I;for(K=0,M=J.length;K<M;K++){I=J[K];L.push(f(I));}return L;}function f(K){var J=c.eventTagsAttribute,L=c.UI.ListControlTemplate.SelectItemEventTagPrefix,I={};I[J]=L+K.id;K.attr=I;if(!K.uploading){return{id:K.id+c.UI.FileListItemTemplate.IdPostfix,value:K.id,href:K.href,contentHTML:c.UI.FileListItemTemplate(i,K,B)};}else{return{id:K.id+c.UI.FileListItemTemplate.IdPostfix,value:K.id,href:K.href,contentHTML:c.UI.FileListItemTemplate(i,K,B)};}}function t(J,I){x.ItemMouseDown.fireHandlers(I);}function n(){if(r.length){E();}h();w.RenderComplete.addHandler(v);w.Dispose.addHandler(k);}function k(){if(p){return;}x.Dispose.fireHandlers();w.RenderComplete.removeHandler(v);w.Dispose.removeHandler(k);if(l){c.removeHandler(l,"click",s);}H=null;w=null;r=null;q=null;l=null;x.RenderComplete=null;x.Dispose=null;x.FileListValueChange=null;x.RemoveItemClick=null;x.SetAccessPermissionsItemClick=null;p=true;}n();}})(window,WA);(function(d,c,b){if(!c.UI.FileListEmptyTemplate){c.UI.FileListEmptyTemplate=a;}function a(f){var e=c.UI.ContainerTemplate,g=c.UI.TextControlSimpleTemplate;return e({id:f.id,cssClass:"emptyFileListContainer",contentHTML:g({cssClass:"messageContainer",contentText:f.message})});}})(window,WA);(function(d,c,b){if(!c.UI.FileListHeaderTemplate){c.UI.FileListHeaderTemplate=a;c.UI.FileListHeaderTemplate.Titles={Name:"Name",AccessLevel:"Access Level",Date:"Date",Size:"Size"};}function a(g){var f=c.UI.ContainerTemplate,e="";e=f({cssClass:"accessLevelColumn",contentText:c.UI.FileListHeaderTemplate.Titles.AccessLevel});return f({cssClass:"nameColumn",contentText:c.UI.FileListHeaderTemplate.Titles.Name})+e+f({cssClass:"dateColumn",contentText:c.UI.FileListHeaderTemplate.Titles.Date})+f({cssClass:"sizeColumn",contentText:c.UI.FileListHeaderTemplate.Titles.Size})+f({cssClass:"deleteColumn"});}})(window,WA);(function(d,c,b){if(!c.UI.FileListTemplate){c.UI.FileListTemplate=a;c.UI.FileListTemplate.IdPostfix="_FileList";c.UI.FileListTemplate.IdListControlPostfix="_ListControl";c.UI.FileListTemplate.DeleteAttr="data-delete-action";c.UI.FileListTemplate.IsFolderAttr="data-folder";c.UI.FileListTemplate.SetAccessAttr="data-storage-item-id";}function a(f){var e=c.UI.ContainerTemplate;return e({id:f.id,cssClass:f.viewModeCssClass?"fileListContainer "+f.viewModeCssClass:"fileListContainer",contentHTML:f.contentHTML});}})(window,WA);(function(c,b,a){if(!b.UI.FileList.ValidationHelper){b.UI.FileList.ValidationHelper={};}b.UI.FileList.ValidationHelper.validateFolderExisting=function(f,e,k){if(e.length==0){return;}var g,j,h,d=[];for(g=0,j=e.length;g<j;g++){h=e[g];if(h.contentType==a&&h.displayName.toLowerCase()===f.toLowerCase()){d.push(k.folderExists);}}return d;};})(window,WA);(function(c,b,a){if(b.UI.FileListViewMode){return;}b.UI.FileListViewMode={ThumbView:"ThumbView",TableView:"TableView"};})(window,WA);(function(c,b,a){if(b.UI.MimeTypes){return;}b.UI.MimeTypes={Image:{Gif:"image/gif",Jpeg:"image/jpeg",Jpg:"image/jpg",Pjpg:"image/pjpeg",Png:"image/png"}};})(window,WA);(function(c,b,a){if(b.UI.FileSortType){return;}b.UI.FileSortType={SortByDateDes:"SortByDateDes",SortByDateAsc:"SortByDateAsc",SortByNameDes:"SortByNameDes",SortByNameAsc:"SortByNameAsc",SortByTypeAsc:"SortByTypeAsc",SortByTypeDes:"SortByTypeDes",SortBySizeDes:"SortBySizeDes",SortBySizeAsc:"SortBySizeAsc"};})(window,WA);(function(f,e,d){if(!e.UI.FileListItemTemplate){e.UI.FileListItemTemplate=b;e.UI.FileListItemTemplate.IdPostfix="_FileListItem";}function b(k,i,j){var h=e.UI.ContainerTemplate,g=i.attr||{};g.title=i.isReadOnly===true?j.folderReadOnlyTitle:null;return h({id:i.id,cssClass:"fileListItem "+c(i)+(i.isReadOnly===true?" readOnly":""),contentHTML:a(k,i,j),attr:g});}function a(k,g,h){var j=e.UI.ThumbListItemTemplate,i=e.UI.TableListItemTemplate;switch(k){case e.UI.FileListViewMode.ThumbView:return j(g);case e.UI.FileListViewMode.TableView:return i(g,h);default:}}function c(g){if(!g.contentType){return"folder";}switch(g.contentType){case e.UI.MimeTypes.Image.Gif:return"image gif";case e.UI.MimeTypes.Image.Jpg:return"image jpg";case e.UI.MimeTypes.Image.Jpeg:return"image jpg";case e.UI.MimeTypes.Image.Pjpg:return"image jpg";case e.UI.MimeTypes.Image.Png:return"image png";default:return"file";}}})(window,WA);(function(f,e,d){if(!e.UI.TableListItemTemplate){e.UI.TableListItemTemplate=c;}function c(p,r){var o=e.UI.ContainerTemplate,n={},k={eventTags:p.attr.eventTags},l="",h="",i="",g,j="",m="",q=e.UI.LinkTemplate,s=e.UI.TextControlSimpleTemplate;n[e.UI.FileListTemplate.DeleteAttr]=p.id;n[e.UI.FileListTemplate.IsFolderAttr]=p.isFolder;g=p.accessLevel;if(g!=null){j=e.FileBrowser.AccessLevelNameMappings[g].className;m=e.FileBrowser.AccessLevelNameMappings[g].caption;if(p.canBeRestricted){k[e.UI.FileListTemplate.SetAccessAttr]=p.storageItemId;k[e.UI.FileListTemplate.IsFolderAttr]=p.isFolder;i=q({attr:k,contentText:m});}else{i=s({contentText:m,eventTags:p.attr.eventTags});}}l=o({cssClass:"fileAccessIcon "+j,attr:k,contentHTML:""});h=o({cssClass:"fileAccessLevel",attr:k,contentHTML:i});return o({cssClass:"icon",attr:p.attr,contentHTML:""})+o({cssClass:"fileName",attr:p.attr,contentHTML:s({contentText:p.displayName,eventTags:p.attr.eventTags})})+l+h+o({cssClass:"fileDateModified",attr:p.attr,contentHTML:s({contentText:p.lastModified!=d?b(p.lastModified):"",eventTags:p.attr.eventTags})})+o({cssClass:"fileSize",attr:p.attr,contentHTML:s({contentText:p.contentLength!=d?""+a(p.contentLength):"",eventTags:p.attr.eventTags})})+o({cssClass:"deleteAction",attr:!p.isReadOnly?n:null,contentHTML:!p.isReadOnly?q({contentText:r.deleteText,attr:n}):""});}function b(g){return e.Date.format(new Date(g),"dd/mm/yyyy, HH:MM TT");}function a(g){if(g<=1024){return Math.ceil(g/1024)+"KB";}else{return(g/1024).toFixed(3)+"KB";}}})(window,WA);(function(e,d,c){if(!d.UI.ThumbListItemTemplate){d.UI.ThumbListItemTemplate=b;}function b(h){var g=d.UI.ContainerTemplate,i=d.UI.TextContainerTemplate,f={};f[d.UI.FileListTemplate.DeleteAttr]=h.id;f[d.UI.FileListTemplate.IsFolderAttr]=h.isFolder;return g({cssClass:"thumbPreviewWrapper",attr:h.attr,contentHTML:!h.uploading?g({cssClass:"thumbPreview"+(h.thumb?" preview":""),attr:{eventTags:h.attr.eventTags,style:h.thumb?"background-image: url('"+h.thumb.replace(/'/g,"%27")+"')":""},contentHTML:(!h.isReadOnly?g({cssClass:"deleteAction",attr:f}):"")}):g({cssClass:"thumbPreview uploading",contentHTML:d.UI.ImageTemplate({src:d.StaticResources+"Admin/Cms/PlaceHolder/waiting.gif?"+d.version})})})+i({cssClass:"fileName",contentHTML:a(h),attr:h.attr,fadeMode:true,displayType:d.UI.TextContainerTemplate.DisplayType.SingleLine});}function a(h){var f,g="",i=d.UI.TextControlSimpleTemplate;f=h.accessLevel;if(f!=null){g=i({cssClass:"accessLevel "+d.FileBrowser.AccessLevelNameMappings[f].className});}return g+i({contentText:h.displayName});}})(window,WA);(function(d,c,b){if(!c.UI.FloatingToolBar){c.UI.FloatingToolBar=a;}function a(p){var B=this,O="WA.UI.FloatingToolBar",Q=p,z=p.parentComponent;B.toString=function(){return O;};B.RenderComplete=c.Tools.EventHandlers.createHandlers(B,{id:"RenderComplete"});B.Dispose=c.Tools.EventHandlers.createHandlers(B,{id:"Dispose"});B.FloatingToolBarClose=c.Tools.EventHandlers.createHandlers(B,{id:"FloatingToolBarClose"});B.FloatingToolBarOutOfViewPort=c.Tools.EventHandlers.createHandlers(B,{id:"FloatingToolBarOutOfViewPort"});var q=false,J="idSystemFloatingToolBarsHolder",N,r=true,M,j,k,f,K,L,D,R=true,G=150,s=false,A={X:null,Y:null,verticalShift:-15};B.render=C;B.setContent=E;B.keepPosition=t;B.show=H;B.hide=n;B.setPosition=F;function t(S){if(S==b){return s;}s=S;F();}function H(S){r=false;if(!S&&!K){throw new Error("target element is undefined");}K=S||K;L=K.ownerDocument.defaultView||K.ownerDocument.parentWindow;c.Dom.removeClassName(M,c.UI.FloatingToolBarTemplate.CssClasses.Out);c.Dom.removeClassName(M,c.UI.FloatingToolBarTemplate.CssClasses.Hidden);F();if(R){I();}}function n(){r=true;c.Dom.addClassName(M,c.UI.FloatingToolBarTemplate.CssClasses.Out);c.Dom.addClassName(M,c.UI.FloatingToolBarTemplate.CssClasses.Hidden);M.style.left="";M.style.top="";P();B.FloatingToolBarClose.fireHandlers();}function F(){if(r){return;}if(s===true){return;}var U=g(),S=Math.floor(K.offsetWidth/4)-Math.floor(f.offsetWidth/2),T=45;if(U){B.FloatingToolBarOutOfViewPort.fireHandlers();}if(A.forcedX!==null){S=A.X-A.forcedX+S;A.X=A.forcedX;}if(S>M.offsetWidth-T){S=T;}f.style.left=S+"px";M.style.left=A.X+"px";M.style.top=A.Y+"px";}function I(){c.addGlobalHandler("window","mousewheel",v,Q.id+"_mousewheel");c.addGlobalHandler("window","resize",y,Q.id+"_resize");c.addGlobalHandler("window","scroll",x,Q.id+"_scroll");}function P(){c.removeGlobalHandler(Q.id+"_mousewheel");c.removeGlobalHandler(Q.id+"_resize");c.removeGlobalHandler(Q.id+"_scroll");}function v(S){c.throttle(F,G);}function y(S){c.throttle(F,G);}function x(S){c.throttle(F,G);}function E(S){if(!S){k.innerHTML="";}k.innerHTML=S;}function g(){var X=K.ownerDocument.defaultView||K.ownerDocument.parentWindow,W=X.parent.document.body.querySelector('IFRAME[name="'+X.name+'"]'),V=c.Dimensions.getElementAutoAbsXY(K),Y=c.Dimensions.getWindowAbsScroll(X),S=c.Window.getFullScroll((W||K),X,{isOnlyElements:true,limiters:D}),T={left:Y.X+S.left,top:Y.Y+S.top},Z=c.Window.getInnerWidth(c.topWindow),U=false;if(V.Y-M.offsetHeight/2-T.top<0){U=true;}if(V.Y-T.top>d.document.body.offsetHeight){U=true;}A.X=V.X-T.left;A.forcedX=null;if(A.X+M.offsetWidth+17>Z){A.forcedX=(Z-M.offsetWidth-17>0)?Z-M.offsetWidth-17:0;}A.Y=V.Y-M.offsetHeight+A.verticalShift-T.top;return U;}function C(){return c.UI.FloatingToolBarTemplate(Q);}function w(T,S){B.RenderComplete.fireHandlers();}function e(){var S=document.createElement("div");S.innerHTML=c.UI.FloatingToolBarTemplate(Q);M=N.appendChild(S.firstChild);j=c.$(Q.id+c.UI.FloatingToolBarTemplate.IdCloseButtonPostfix);c.addHandler(j,"click",u);k=c.$(Q.id+c.UI.FloatingToolBarTemplate.IdToolBarContentPostfix);f=c.$(Q.id+c.UI.FloatingToolBarTemplate.IdToolBarBeakPostfix);S=null;}function u(S){n();}function i(){var S=document.createElement("div");S.appendChild(M);S.innerHTML="";S=null;}function h(){c.clearThrottle(F);}function l(){N=c.$(J);if(!N){N=d.document.createElement("DIV");N.id=J;document.body.appendChild(N);}}function o(){z.RenderComplete.addHandler(w);z.Dispose.addHandler(m);l();e();}function m(){if(q){return;}B.Dispose.fireHandlers();z.RenderComplete.removeHandler(w);z.Dispose.removeHandler(m);h();P();i();Q=null;z=null;j=null;k=null;M=null;N=null;r=true;s=false;B.RenderComplete=null;B.FloatingToolBarOutOfViewPort=null;B.Dispose=null;B.FloatingToolBarClose=null;q=true;}o();}})(window,WA);(function(d,c,b){if(!c.UI.FloatingToolBarTemplate){c.UI.FloatingToolBarTemplate=a;c.UI.FloatingToolBarTemplate.IdToolBarContentPostfix="_toolBarContent";c.UI.FloatingToolBarTemplate.IdCloseButtonPostfix="_toolBarCloseBtn";c.UI.FloatingToolBarTemplate.IdToolBarBeakPostfix="_toolBarBeak";c.UI.FloatingToolBarTemplate.CssClasses={Hidden:"hidden",Out:"out"};}function a(f){var e=c.UI.ContainerTemplate;return e({id:f.id,cssClass:"floatingToolBar out hidden"+(f.cssClass?" "+f.cssClass:""),contentHTML:e({cssClass:"floatingToolBarContainer",contentHTML:e({id:f.id+c.UI.FloatingToolBarTemplate.IdToolBarContentPostfix,cssClass:"floatingToolBarContent"})+e({id:f.id+c.UI.FloatingToolBarTemplate.IdCloseButtonPostfix,cssClass:"closeBtn"+(f.hideCloseButton?" hidden":"")})+e({id:f.id+c.UI.FloatingToolBarTemplate.IdToolBarBeakPostfix,cssClass:"floatingToolBarBeak",contentHTML:e({cssClass:"beak"})})})});}})(window,WA);(function(d,c,b){if(!c.UI.FloatingToolBarDropDownOption){c.UI.FloatingToolBarDropDownOption=a;}function a(h){var m=this,q="WA.UI.FloatingToolBarDropDownOption",r=h,l=r.parentComponent;m.toString=function(){return q;};m.OptionClick=c.Tools.EventHandlers.createHandlers(m,{id:"OptionClick"});m.RenderComplete=c.Tools.EventHandlers.createHandlers(m,{id:"RenderComplete"});m.Dispose=c.Tools.EventHandlers.createHandlers(m,{id:"Dispose"});var e,p,i=false;m.render=n;m.setTitle=o;function o(s){p.contentText=s;}function n(){return c.UI.FloatingToolBarDropDownOptionTemplate(r);}function k(t,s){e=c.$(r.id);c.addHandler(e,"click",j);m.RenderComplete.fireHandlers();}function j(s){if(r.action){r.action();}if(i){return;}if(r.eventTags){m.OptionClick.fireHandlers({id:r.id,eventTags:r.eventTags});}}function g(){l.RenderComplete.addHandler(k);l.Dispose.addHandler(f);p=c.UI.TextContainer({id:r+c.UI.FloatingToolBarDropDownOptionTemplate.OptionTitleIdPostfix},{parentComponent:m});}function f(){m.Dispose.fireHandlers();l.RenderComplete.removeHandler(k);l.Dispose.removeHandler(f);if(e){c.removeHandler(e,"click",j);}r=null;l=null;p=null;m.OptionClick=null;m.RenderComplete=null;m.Dispose=null;i=true;}g();}})(window,WA);(function(d,c,b){if(!c.UI.FloatingToolBarDropDownOptionTemplate){c.UI.FloatingToolBarDropDownOptionTemplate=a;c.UI.FloatingToolBarDropDownOptionTemplate.OptionTitleIdPostfix="_optionTitle";}function a(e){return c.UI.ContainerTemplate({id:e.id,cssClass:"floatingToolBarDropDownOption"+(e.cssClass?" "+e.cssClass:""),attr:{eventTags:e.eventTags},contentHTML:c.UI.TextContainerTemplate({id:e.id+c.UI.FloatingToolBarDropDownOptionTemplate.OptionTitleIdPostfix,attr:{eventTags:e.eventTags},contentHTML:e.contentHTML,contentText:e.name})});}})(window,WA);(function(b,a){if(!a.UI.FrameTemplate){a.UI.FrameTemplate=function(e){var f={id:"id",src:"src",width:"width",height:"height"},d,c=[];c.push('<iframe frameBorder="0"');for(d in f){if(f.hasOwnProperty(d)&&d in e){if(e[d]!=undefined&&e[d]!=""){c.push(" "+f[d]+'="'+e[d]+'"');}}}c.push("></iframe>");return c.join("");};}})(window,WA);(function(d,c,b){if(!c.UI.GadgetCssOffsetValueSelector){c.UI.GadgetCssOffsetValueSelector=a;}function a(l,k,w){k=k||{};var u=this,x="WA.UI.GadgetCssOffsetValueSelector",B=l,z,t=k.parentComponent,g=k.gadget;u.toString=function(){return x;};u.RenderComplete=c.Tools.EventHandlers.createHandlers(u,{id:"RenderComplete"});u.Dispose=c.Tools.EventHandlers.createHandlers(u,{id:"Dispose"});u.ValueChanged=c.Tools.EventHandlers.createHandlers(u,{id:"ValueChanged"});u.ValidationFailed=c.Tools.EventHandlers.createHandlers(u,{id:"ValidationFailed"});u.render=v;u.getType=function(){return B.layoutControlType;};var e,A={},n,m,i=[],o;function v(){return c.UI.GadgetCssOffsetValueSelectorTemplate(B);}function r(D,C){i.top=c.$(B.id+c.UI.OffsetSelectorTemplate.ControlsIdPostfixes.Top);i.right=c.$(B.id+c.UI.OffsetSelectorTemplate.ControlsIdPostfixes.Right);i.bottom=c.$(B.id+c.UI.OffsetSelectorTemplate.ControlsIdPostfixes.Bottom);i.left=c.$(B.id+c.UI.OffsetSelectorTemplate.ControlsIdPostfixes.Left);u.RenderComplete.fireHandlers();}function s(){u.ValidationFailed.fireHandlers();}function h(){var C;e={left:0,top:0,right:0,bottom:0};switch(B.attr.eventTags){case"padding":C=c.Dimensions.getElementBox(g.getPaddingContainer());e.left=C.paddingLeft;e.top=C.paddingTop;e.right=C.paddingRight;e.bottom=C.paddingBottom;n=0;m=10000;return;case"margin":C=c.Dimensions.getElementBox(g.getContainer());e.left=C.marginLeft;e.top=C.marginTop;e.right=C.marginRight;e.bottom=C.marginBottom;n=-100000;m=100000;return;default:n=-100000;m=100000;return;}}function p(){h();y();}function y(){var D,C;for(D in A){if(!A.hasOwnProperty(D)){continue;}C=A[D];i[D].placeholder=C.getValue()==null?e[D]:"";}}function q(E,C){var D=o.getValue();z.setValue(D.top,"top.value");z.setValue(D.right,"right.value");z.setValue(D.bottom,"bottom.value");z.setValue(D.left,"left.value");u.ValueChanged.fireHandlers();}function j(){t.RenderComplete.addHandler(r);t.Dispose.addHandler(f);z=c.UI.Helpers.ValueAccessorHelper.createValueAccessor(l,u);h();o=new c.UI.OffsetSelector({id:B.id+c.UI.OffsetSelectorTemplate.IdPostfix,value:{top:z.getValue("top.value"),right:z.getValue("right.value"),bottom:z.getValue("bottom.value"),left:z.getValue("left.value")},offsetMinValue:n,offsetMaxValue:m,hints:e},{parentComponent:u});o.ValueChanged.addHandler(q);g.ComponentHtmlChanged.addHandler(p);}function f(){u.Dispose.fireHandlers();t.RenderComplete.removeHandler(r);t.Dispose.removeHandler(f);if(g&&g.ComponentHtmlChanged){g.ComponentHtmlChanged.removeHandler(p);}if(t.ValidationFailed){t.ValidationFailed.removeHandler(s);}B=null;z=null;t=null;g=null;o=null;u.RenderComplete=null;u.Dispose=null;u.ValidationFailed=null;u.ValueChanged=null;}j();}})(window,WA);(function(d,c,b){if(!c.UI.GadgetCssOffsetValueSelectorTemplate){c.UI.GadgetCssOffsetValueSelectorTemplate=a;}function a(f){var e=c.UI.OffsetSelectorTemplate,g={id:f.id+c.UI.OffsetSelectorTemplate.IdPostfix,cssClass:f.cssClass?f.cssClass+" gadgetOffsetSelector":"gadgetOffsetSelector",title:f.title,titleDescription:f.titleDescription};return e(g);}})(window,WA);(function(b,a){if(!a.UI.GenericList){a.UI.GenericList={};}})(window,WA);(function(window,WA){if(!WA.UI.GenericList.ListRenderingLibrary){WA.UI.GenericList.ListHandlingLibrary=ListHandlingLibrary;}var ListHandlingLibraryHash=new Array();function ListHandlingLibrary(params){this.Id=(new Date()).getTime();ListHandlingLibraryHash[this.Id]=this;if(!params.name){alert("name property is null");return;}if(!params.listRenderer){alert("listRenderer property is null");return;}if(!params.cacheProvider){alert("cacheProvider property is null");return;}var renderingProcess=null;var searchTimeout=null;var isInitialized=false;var pThis=this;this.loadFiltersState=null;this.Name=params.name;this.CacheKeySuffix=params.cacheKeySuffix;this.ListRenderer=params.listRenderer;this.CacheProvider=params.cacheProvider;this.ClearCache=clearCache;this.SearchEnabled=params.searchEnabled!=null?params.searchEnabled:true;this.Cache=null;this.UsingCachedListItems=true;this.DataSourceWebService=params.dataSourceWebService?params.dataSourceWebService:{Function:null,Parameters:null};this.DataSource=params.dataSource?params.dataSource:null;this.StoreRecords=params.storeRecords?params.storeRecords:null;this.notFocusSearchBoxAfterRender=params.notFocusSearchBoxAfterRender;this.Controls={OutputContainerId:null,ListPagerContainers:[],SearchBoxId:null,ReloadCacheButtonId:null,RecordsFoundLabelContainerId:null,RecordsCountContainerId:null,MessageContainerId:null,LoadingIndicatorId:null};this.Labels={LoadingLabel:"",LoadingErrorMessage:"",ResetSearchBoxRefererParameter:"",ClearCacheRefererParameter:""};this.IsInitialized=function(){return isInitialized;};this.Initialize=initialize;this.FilteredItems=filteredItems;this.LoadListAndRender=loadListAndRender;function initialize(){initContainers();initObjects();initListRenderer();loadControlsState();isInitialized=true;if(pThis.SearchEnabled){pThis.Controls.SearchBox.onkeydown=function(){scheduleSearch();};scheduleSearch();}}function initContainers(){pThis.Controls.OutputContainer=WA.$c(pThis.Controls.OutputContainerId);pThis.Controls.SearchBox=WA.$c(pThis.Controls.SearchBoxId);pThis.Controls.ReloadCacheButton=WA.$c(pThis.Controls.ReloadCacheButtonId);pThis.Controls.RecordsFoundLabelContainer=WA.$c(pThis.Controls.RecordsFoundLabelContainerId);pThis.Controls.RecordsCountContainer=WA.$c(pThis.Controls.RecordsCountContainerId);pThis.Controls.MessageContainer=WA.$c(pThis.Controls.MessageContainerId);pThis.Controls.LoadingIndicator=WA.$c(pThis.Controls.LoadingIndicatorId);}function initListRenderer(){pThis.ListRenderer.OutputContainerId=pThis.Controls.OutputContainerId;pThis.ListRenderer.Pager.Containers=pThis.Controls.ListPagerContainers;pThis.ListRenderer.Pager.Page=pThis.Cache.Page?pThis.Cache.Page:0;pThis.ListRenderer.OnPageChanged=onPageChanged;}function clearCache(){var cacheProvider=new TopCacheProvider();cacheProvider.Clear(pThis.Name+pThis.CacheKeySuffix+"Cache");initObjects();}function initObjects(){var cacheItem=new CacheItem(pThis.CacheProvider,pThis.Name+pThis.CacheKeySuffix+"Cache");if(cacheItem.IsNull()){cacheItem.Set({ListItems:null,SearchTerms:null});}pThis.Cache=cacheItem.Get();}function loadControlsState(){if(pThis.Controls.SearchBox&&pThis.Cache.SearchTerms){pThis.Controls.SearchBox.value=pThis.Cache.SearchTerms;}if(pThis.loadFiltersState){pThis.loadFiltersState(pThis.Cache);}}function setRenderedState(){if(pThis.StoreRecords){pThis.StoreRecords();}if(pThis.Controls.ReloadCacheButton){pThis.Controls.ReloadCacheButton.style.display=pThis.UsingCachedListItems?"inline":"none";}if(pThis.Controls.RecordsFoundLabelContainer){pThis.Controls.RecordsFoundLabelContainer.style.display="inline";}if(pThis.Controls.RecordsCountContainer){pThis.Controls.RecordsCountContainer.innerHTML=(pThis.ListRenderer.FilteredItems?pThis.ListRenderer.FilteredItems.length:0);pThis.Controls.RecordsCountContainer.style.display="inline";}if(pThis.Controls.MessageContainer){pThis.Controls.MessageContainer.innerHTML="";}if(pThis.Controls.LoadingIndicator){pThis.Controls.LoadingIndicator.style.display="none";}try{if(pThis.Controls.SearchBox&&!pThis.notFocusSearchBoxAfterRender){pThis.Controls.SearchBox.focus();}}catch(e){}}function setLoadingState(){for(var i=0;i<pThis.Controls.ListPagerContainers.length;i++){var dropDownContainer=WA.$c(pThis.Controls.ListPagerContainers[i].dropDownContainerId);if(dropDownContainer){dropDownContainer.innerHTML="";if(pThis.Controls.ListPagerContainers[i].labelContainerId){var label=WA.$c(pThis.Controls.ListPagerContainers[i].labelContainerId);label.style.display="none";}}}if(pThis.Controls.ReloadCacheButton){pThis.Controls.ReloadCacheButton.style.display="none";}if(pThis.Controls.LoadingIndicator){pThis.Controls.LoadingIndicator.style.display="inline";}if(pThis.Controls.MessageContainer){pThis.Controls.MessageContainer.innerHTML=pThis.Labels.LoadingLabel;}if(pThis.Controls.RecordsFoundLabelContainer){pThis.Controls.RecordsFoundLabelContainer.style.display="none";}if(pThis.Controls.RecordsCountContainer){pThis.Controls.RecordsCountContainer.style.display="none";}}function loadListAndRender(refreshCache,hideRefreshButton){setLoadingState();if(pThis.DataSourceWebService.Function){if(refreshCache||pThis.Cache.ListItems==null){pThis.Cache.ListItems=null;if(pThis.ListRenderer.isForceSearchList){pThis.ListRenderer.isSearchList=false;pThis.Controls.SearchBox.disabled=true;if(contactListFilterElement){contactListFilterElement.disabled=true;}}var params=pThis.DataSourceWebService.Parameters?pThis.DataSourceWebService.Parameters.clone():new Array();params.push(loadRecordsCallback);params.push(loadRecordsErrorCallback);params.push(loadRecordsErrorCallback);pThis.DataSourceWebService.Function.apply(pThis,params);return;}pThis.ListRenderer.ListItems=pThis.Cache.ListItems;}else{pThis.UsingCachedListItems=false;pThis.ListRenderer.ListItems=pThis.DataSource;}pThis.ListRenderer.Pager.Page=0;pThis.Cache.Page=0;terminateRenderingProcess();renderingProcess=setTimeout(function(){runRenderingProcess(hideRefreshButton);},70);}function runRenderingProcess(){if(pThis.ListRenderer.IsRendering&&pThis.ListRenderer.ShouldTerminateRenderingProcess){setTimeout(function(){runRenderingProcess();},1000);return;}pThis.ListRenderer.ShouldTerminateRenderingProcess=false;if(pThis.Controls.SearchBox){pThis.Cache.SearchTerms=pThis.Controls.SearchBox.value;pThis.ListRenderer.SearchTerms=getSearchTermsArray();}if(pThis.ListRenderer.isForceSearchList&&!pThis.ListRenderer.isSearchList){pThis.Controls.SearchBox.disabled=true;if(pThis.ListRenderer.forceSearchListTM){clearTimeout(pThis.ListRenderer.forceSearchListTM);}pThis.ListRenderer.forceSearchList(function(){pThis.Controls.SearchBox.disabled=false;if(contactListFilterElement){contactListFilterElement.disabled=false;}setTimeout(runRenderingProcessStep1,7);});}else{pThis.ListRenderer.Render();setRenderedState();}}function runRenderingProcessStep1(){pThis.ListRenderer.Render();setRenderedState();}function loadRecordsCallback(result){if(result){var loadedData=eval(result);pThis.Cache.ListItems=loadedData;}else{if(!pThis.Cache.ListItems){pThis.Cache.ListItems=new Array();}}pThis.UsingCachedListItems=false;loadListAndRender(false,true);}function loadRecordsErrorCallback(result){}function filteredItems(){return pThis.ListRenderer.FilteredItems;}function scheduleSearch(){if(searchTimeout){clearTimeout(searchTimeout);}searchTimeout=setTimeout(runSearch,250);}function runSearch(){var searchBox=pThis.Controls.SearchBox;if(!isInitialized){scheduleSearch();return false;}if(searchBox){var searchValue=searchBox.value.replace(/^\s+|\s+$/g,"");if((pThis.Cache.SearchTerms||"").replace(/^\s+|\s+$/g,"")==searchValue){scheduleSearch();return false;}pThis.Cache.SearchTerms=searchBox.value;}pThis.ListRenderer.Pager.Page=0;pThis.Cache.Page=0;pThis.LoadListAndRender(false,true);scheduleSearch();}function getSearchTermsArray(){var searchBox=pThis.Controls.SearchBox;if(!searchBox||!searchBox.value){return null;}var normalizedSearchBoxValue=searchBox.value.toLowerCase().replace(/^\s+|\s+$/g,"");if(normalizedSearchBoxValue.indexOf(" ")==-1){return[WA.encodeHtml(normalizedSearchBoxValue)];}var searchTerms=normalizedSearchBoxValue.split(" ");for(var i=0;i<searchTerms.length-1;i++){searchTerms.splice(i,1,WA.encodeHtml(searchTerms[i]));for(var j=i+1;j<searchTerms.length;j++){if(searchTerms[i]==searchTerms[j]){searchTerms.splice(j,1);}}}return searchTerms;}function terminateRenderingProcess(){if(renderingProcess){pThis.ListRenderer.ShouldTerminateRenderingProcess=true;clearTimeout(renderingProcess);}}function onPageChanged(){pThis.Cache.Page=pThis.ListRenderer.Pager.Page;}}})(window,WA);(function(i,h){if(!h.UI.GenericList.ListHelper){h.UI.GenericList.ListHelper={};}var e=h.UI.GenericList.ListHelper;e.onMouseOver=d;e.onMouseOut=c;e.onClick=b;e.checkForNull=a;function d(l,j,m){f(l,"#F0F0F0");g(l,"fadeGradientHover");if(j){var k=h.Dom.getNextSiblingByTagName(l,"TR");f(k,"#F0F0F0");g(k,"fadeGradientHover");}if(m){var n=h.Dom.getPreviousSiblingByTagName(l,"TR");f(n,"#F0F0F0");g(n,"fadeGradientHover");}}function c(l,j,m){f(l,"");g(l,"fadeGradient");if(j){var k=h.Dom.getNextSiblingByTagName(l,"TR");f(k,"");g(k,"fadeGradient");}if(m){var n=h.Dom.getPreviousSiblingByTagName(l,"TR");f(n,"");g(n,"fadeGradient");}}function b(j,k){k=k||i;k.location=j;return false;}function a(j){return j&&j.length>0?j:"&nbsp;";}function f(m,j){var k;if(!m){return;}var l=m.getElementsByTagName("TD");for(k=0;k<l.length;k++){l[k].style.backgroundColor=j;}}function g(m,l){var k;if(!m){return;}var j=m.getElementsByTagName("i");cnt=j.length;for(k=0;k<cnt;k++){j[k].className=l;}}})(window,WA);(function(c,b){if(!b.UI.GenericList.ListRenderingLibrary){b.UI.GenericList.ListRenderingLibrary=a;}b.UI.GenericList.ListRenderingLibrary.ListRenderingLibraryHash={};function a(){var g=this;this.id=(new Date()).getTime();b.UI.GenericList.ListRenderingLibrary.ListRenderingLibraryHash[this.id]=this;this.HeaderRenderingFunction=null;this.ItemRenderingFunction=null;this.SeparatorRenderingFunction=null;this.FooterRenderingFunction=null;this.EmptyListRenderingFunction=null;this.AuxListFilteringFunction=null;this.SearchStringFromListItemGenerationFunction=null;this.PagerLabelGenerationFunction=null;this.OnRenderInit=null;this.OnRenderBegin=null;this.OnRenderComplete=null;this.OnSearchBegin=null;this.OnSearchComplete=null;this.OnPageChanged=null;this.ListItems=null;this.FilteredItems=null;this.ItemsOnPage=null;this.OutputContainerId=null;this.SearchTerms=null;this.ShouldTerminateRenderingProcess=false;this.IsRendering=false;this.RebuildIndexOnNextFiltering=false;this.isSearchList=false;this.forceSearchListTM=null;this.Pager=new Object();this.Pager.Enabled=true;this.Pager.ItemsPeerPage=50;this.Pager.Containers=null;this.Pager.LabelMaxLength=4;this.Pager.Page=0;this.ShowTableHeadersForNoRecords=false;this.Render=function(){h(this.OnRenderInit);h(this.OnSearchBegin);var j=this.filterItems(this.ListItems);var l=new Array();h(this.OnSearchEnd);var m=new Array();var n=b.$c(this.OutputContainerId);var o=0;var p=j.length-1;if(this.Pager.Enabled){o=this.Pager.Page*this.Pager.ItemsPeerPage;p=Math.min(o+this.Pager.ItemsPeerPage,j.length)-1;}h(this.OnRenderBegin);this.IsRendering=true;if(j.length>0){if(!this.ItemRenderingFunction){alert("item rendering function is ebsent");return false;}if(this.HeaderRenderingFunction){m.push(this.HeaderRenderingFunction());}for(var k=o;k<=p;k++){if(this.ShouldTerminateRenderingProcess){this.ShouldTerminateRenderingProcess=false;this.IsRendering=false;return true;}m.push(this.ItemRenderingFunction(j[k],k));l.push(j[k]);if(this.SeparatorRenderingFunction&&(k!=j.length-1)){m.push(this.SeparatorRenderingFunction());}}if(this.FooterRenderingFunction){m.push(this.FooterRenderingFunction());}this.FilteredItems=j;this.ItemsOnPage=l;}else{m.splice(0,m.length);this.FilteredItems=j;this.ItemsOnPage=l;if(this.ShowTableHeadersForNoRecords){if(this.HeaderRenderingFunction){m.push(this.HeaderRenderingFunction());}if(this.FooterRenderingFunction){m.push(this.FooterRenderingFunction());}}if(this.EmptyListRenderingFunction){m.push(this.EmptyListRenderingFunction());}}if(this.Pager.Enabled){for(var k=0;k<this.Pager.Containers.length;k++){this.renderPager(this.Pager.Containers[k]);}}if(n){n.innerHTML=m.join("");}this.IsRendering=false;this.ShouldTerminateRenderingProcess=false;h(this.OnRenderComplete);return true;};this.forceSearchList=function(j,o){if(g.forceSearchListTM){clearTimeout(g.forceSearchListTM);}var m;var n=g.ListItems;var k=g.CurrentList||null;o=o||0;var l=(o+250>n.length)?n.length:o+250;for(m=o;m<l;m++){if(!n[m].SearchIndex){n[m].SearchIndex=g.SearchStringFromListItemGenerationFunction(n[m],k).toLowerCase();}}if(m>=n.length){g.isSearchList=true;j();}else{g.forceSearchListTM=setTimeout(function(){g.forceSearchList(j,m);},3);}};this.filterItems=function(l){var j=this.CurrentList||null;var m=new Array();h(this.OnFilteringBegin);if(!l){h(this.OnSearchEnd);return m;}for(var k=0;k<l.length;k++){if(this.ShouldTerminateRenderingProcess){this.ShouldTerminateRenderingProcess=false;return true;}if(this.isItemMatchingFilters(l[k],j)){if(this.OnItemMatchedForFilter){this.OnItemMatchedForFilter(l[k]);}m.push(l[k]);}}this.RebuildIndexOnNextFiltering=false;return m;};this.isItemMatchingFilters=function(l,j){if(!this.AuxListFilteringFunction||this.AuxListFilteringFunction(l)){if(this.SearchTerms){if(!l.SearchIndex||this.RebuildIndexOnNextFiltering){if(this.SearchStringFromListItemGenerationFunction){l.SearchIndex=this.SearchStringFromListItemGenerationFunction(l,j).toLowerCase();}else{l.SearchIndex=f(l).toLowerCase();}this.isSearchList=true;}for(var k=0;k<this.SearchTerms.length;k++){if(l.SearchIndex.indexOf(this.SearchTerms[k])==-1){return false;}}return true;}else{return true;}}return false;};this.renderPager=function(q){var m=b.$c(q.labelContainerId);var k=b.$c(q.dropDownContainerId);var o=new Array();var l;var r;var n;if(!this.FilteredItems||this.FilteredItems.length==0||this.FilteredItems.length-1<this.Pager.ItemsPeerPage){if(k){k.innerHTML="";k.style.display="none";}if(m){m.style.display="none";}return;}if(k){k.style.display="";}if(m){m.style.display="";}for(i=0;i<this.FilteredItems.length;i+=this.Pager.ItemsPeerPage){l=i;r=Math.min(this.FilteredItems.length-1,i+this.Pager.ItemsPeerPage-1);n=Math.floor(i/this.Pager.ItemsPeerPage);var p;if(this.GenerateSingleLabelPager){p=this.preparePagerItemLabel(this.FilteredItems[l],true);}else{p=this.preparePagerItemLabel(this.FilteredItems[l],true)+" - "+this.preparePagerItemLabel(this.FilteredItems[r],false);}o.push('<option value="'+n+'" '+(n==this.Pager.Page?"selected":"")+">"+p+" ("+(l+1)+" - "+(r+1)+")</option>");}if(k){var j="";if(!m){j="<span>Show:</span> ";}j+='<select onchange="WA.UI.GenericList.ListRenderingLibrary.ListRenderingLibraryHash['+this.id+'].pagerChanged(this);" onblur="WA.UI.GenericList.ListRenderingLibrary.ListRenderingLibraryHash['+this.id+'].pagerChanged(this);">'+o.join("")+"</select>";k.innerHTML=j;}};this.preparePagerItemLabel=function(k,j){if(!this.PagerLabelGenerationFunction){return"";}var l=this.PagerLabelGenerationFunction(k).toString().substr(0,this.Pager.LabelMaxLength);while(l.length<this.Pager.LabelMaxLength){if(j){l=" "+l;}else{l=l+" ";}}l=l.replace(/\s/g,"&nbsp;");return l;};this.pagerChanged=function(k){var j=parseInt(k.options[k.selectedIndex].value,10)||0;if(this.Pager.Page===j){return;}this.Pager.Page=j;h(this.OnPageChanged);this.Render();};function f(k){var l=new Array();for(var j in k){l.push(k[j]);}return l.join(" ").toLowerCase();}a.highlightRowAndNext=function(j){d(j,"normal","hover");};a.normlightRowAndNext=function(j){d(j,"hover","normal");};a.highlightRowAndPrev=function(j){e(j,"normal","hover");};a.normlightRowAndPrev=function(j){e(j,"hover","normal");};function e(m,k,j){m.className=m.className.replace(k,j);var l=m.previousSibling;if(!l){return;}while(l.nodeType!=1){l=l.previousSibling;if(!l){return;}}l.className=l.className.replace(k,j);}function d(m,l,j){m.className=m.className.replace(l,j);var k=m.nextSibling;if(!k){return;}while(k.nodeType!=1){k=k.nextSibling;if(!k){return;}}if(k.getAttribute("bottomrow",0)=="true"){k.className=k.className.replace(l,j);}}function h(j){if(j){j();}}return this;}})(window,WA);(function(d,c,b){if(!c.UI.GroupedCheckBoxList){c.UI.GroupedCheckBoxList=a;c.UI.GroupedCheckBoxList.TypeName="WA.UI.GroupedCheckBoxList";}function a(u,t,I){t=t||{};var D=this,N=c.UI.GroupedCheckBoxList.TypeName,P=u,O,B=t.parentComponent,H=P.selectedItemsLimit;P.maxHeight=P.maxHeight||250;D.toString=function(){return N;};D.RenderComplete=c.Tools.EventHandlers.createHandlers(D,{id:"RenderComplete"});D.ValidationFailed=c.Tools.EventHandlers.createHandlers(D,{id:"ValidationFailed"});D.Dispose=c.Tools.EventHandlers.createHandlers(D,{id:"Dispose"});D.ValueChanged=c.Tools.EventHandlers.createHandlers(D,{id:"ValueChanged"});D.VisualStateChanged=c.Tools.EventHandlers.createHandlers(D,{id:"VisualStateChanged"});var f=[],e,F,v,h,M=0,p=50,G=false;D.render=E;D.parentSelected=C;D.show=J;D.hide=q;D.disable=l;D.enable=n;D.dispose=m;D.getValue=function(){return O.getValue();};D.getType=function(){return P.layoutControlType;};function C(Q){c.UI.Helpers.ControlHelper.applyParentSelectedBehavior(D,P.parentChangeBehaviour,Q);}function l(){if(P.isAnySelectedOptionDisabled!==true){e.disable();}for(var Q=0,R=f.length;Q<R;Q++){f[Q].disable();}c.Dom.addClassName(h,"disabled");r();}function n(){if(P.isAnySelectedOptionDisabled!==true){e.enable();}for(var Q=0,R=f.length;Q<R;Q++){f[Q].enable();}c.Dom.removeClassName(h,"disabled");K();}function J(){c.Dom.removeClassName(h,"hidden");c.throttle(o,p);}function q(){c.Dom.addClassName(h,"hidden");c.throttle(o,p);}function o(){D.VisualStateChanged.fireHandlers();}function E(){return c.UI.GroupedCheckBoxListTemplate(P);}function y(R,Q){v=c.$(P.id+c.UI.GroupedCheckBoxListTemplate.ListsContainerPostfix);h=c.$(P.id+c.UI.ControlLayoutTemplate.IdControlLayoutPostfix);D.RenderComplete.fireHandlers();F.calculate();g();}function g(){if(!H){return;}var Q,S,T,R=O.getValue().items.length>=H;for(Q=0,S=f.length;Q<S;Q++){T=f[Q];R?T.disableUnselectedItems():T.enableUnselectedItems();}}function K(){var Q=O.getErrors();if(Q.length>0){L(O.getErrors());}}function L(Q){if(!h){return;}c.UI.Helpers.ControlHelper.showValidationMessages(P.id,Q);}function r(){if(!h){return;}c.UI.Helpers.ControlHelper.hideValidationMessages(P.id);}function z(){K();D.ValidationFailed.fireHandlers();}function A(R,Q){D.VisualStateChanged.fireHandlers();}function x(R,Q){r();if(G){return;}if((P.isAnySelectedOptionDisabled!==true)&&(Q.checkBoxCheckedState===false&&e.getValue()!=null)){e.setValue(null,false);}g();D.ValueChanged.fireHandlers(Q);}function w(U,R){G=true;var S,T,Q=e.getValue();for(S=0,T=f.length;S<T;S++){if(Q){f[S].selectAll();}else{f[S].deselectAll();}}G=false;D.ValueChanged.fireHandlers();}function j(){var Q,R,T,S;for(Q=0,R=P.items.length;Q<R;Q++){T=P.items[Q];T.id=T.id||(P.id+"_list"+Q);switch(O.toString()){case c.ValueAccessor.TypeName:T.valueAccessor=O.createChildValueAccessor("items",D);break;case c.SimpleAccessor.TypeName:T.value=O.getValue("items");break;default:}T.groupOperationsDisabled=T.groupOperationsDisabled!=b?T.groupOperationsDisabled:true;S=new c.UI.CheckBoxList(T,{parentComponent:D},I);if(P.isAnySelectedOptionDisabled!==true&&O.getValue("allSelected")===true){S.selectAll();}S.ValueChanged.addHandler(x);S.VisualStateChanged.addHandler(A);f.push(S);M+=T.items.length;}}function i(){if(P.isAnySelectedOptionDisabled===true){return;}e=new c.UI.CheckBox({id:P.id+c.UI.GroupedCheckBoxListTemplate.AnyOptionSelectedCheckBoxPostfix,valueAccessor:O.createChildValueAccessor("allSelected",D),contentText:"Any Option",fadeMode:false},{parentComponent:D},I);e.ValueChanged.addHandler(w);}function k(){F=new c.UI.ScrollablePanelV2({id:P.id+c.UI.GroupedCheckBoxListTemplate.ScrollablePanelPostfix},{parentComponent:D});}function s(){B.RenderComplete.addHandler(y);B.Dispose.addHandler(m);if(B.ValidationFailed){B.ValidationFailed.addHandler(z);}O=c.UI.Helpers.ValueAccessorHelper.createValueAccessor(u,D);j();i();k();}function m(){D.Dispose.fireHandlers();B.RenderComplete.removeHandler(y);B.Dispose.removeHandler(m);if(B.ValidationFailed){B.ValidationFailed.removeHandler(z);}c.clearThrottle(o);P=null;B=null;e=null;f=null;F=null;v=null;D.RenderComplete=null;D.Dispose=null;D.ValidationFailed=null;D.ValueChanged=null;D.VisualStateChanged=null;}s();}})(window,WA);(function(h,g,f){if(!g.UI.GroupedCheckBoxListTemplate){g.UI.GroupedCheckBoxListTemplate=e;g.UI.GroupedCheckBoxListTemplate.AnyOptionSelectedCheckBoxPostfix="_anyOptionSelected";g.UI.GroupedCheckBoxListTemplate.ScrollablePanelPostfix="_scrollablePanel";g.UI.GroupedCheckBoxListTemplate.ListsContainerPostfix="_listsContainer";}function e(j){var i=g.UI.ControlLayoutTemplate;j.controlContainerDisplayType=g.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;j.cssClass="groupedCheckboxList"+(j.cssClass?" "+j.cssClass:"");j.layoutContentHTML=b(j);return i(j);}function b(k){var j=g.UI.ContainerTemplate,l=g.UI.ScrollablePanelV2Template,i={};if(k.maxHeight!=f){i.style="max-height:"+k.maxHeight+"px";}return j({cssClass:"groupedCheckboxListHeadContainer",contentHTML:d(k)})+j({cssClass:"groupedCheckBoxListContentContainer",attr:i,contentHTML:l({id:k.id+g.UI.GroupedCheckBoxListTemplate.ScrollablePanelPostfix,containerMaxHeight:k.maxHeight,contentHTML:j({id:k.id+g.UI.GroupedCheckBoxListTemplate.ListsContainerPostfix,cssClass:"listsContainer",contentHTML:(k.items&&k.items.length>0)?a({items:k.items,resources:k.resources}):c(k)})})});}function c(i){return g.UI.ContainerTemplate({cssClass:"emptyListDescription",contentHTML:i.emptyListDescription!=f?i.emptyListDescription:i.resources.defaultEmptyListDescription});}function d(k){var i=g.UI.CheckBoxTemplate,l=g.UI.TextContainerTemplate,j=g.UI.ContainerTemplate;if(k.title&&!k.isAnySelectedOptionDisabled){return j({cssClass:"titleAndAnyOptionSelector",contentHTML:j({cssClass:"titleContainer",contentHTML:l({fadeMode:false,contentText:k.title})})+j({cssClass:"anyOptionSelectorContainer",contentHTML:i({id:k.id+g.UI.GroupedCheckBoxListTemplate.AnyOptionSelectedCheckBoxPostfix,cssClass:"anyOptionSelectorCheckbox",controlContainerDisplayType:g.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed,contentText:k.anyOptionSelectorTitle||k.resources.defaultAllSelectedOptionTitle,fadeMode:false})})});}if(k.title&&k.isAnySelectedOptionDisabled){return l({cssClass:"titleOnly",contentText:k.title});}if(!k.title&&!k.isAnySelectedOptionDisabled){return i({id:k.id+g.UI.GroupedCheckBoxListTemplate.AnyOptionSelectedCheckBoxPostfix,cssClass:"anyOptionSelectorCheckbox anyOptionSelectorOnly",controlContainerDisplayType:g.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed,contentText:k.anyOptionSelectorTitle||k.resources.defaultAllSelectedOptionTitle,fadeMode:false});}return"";}function a(o){var l,n,k,i=[],j=g.UI.CheckBoxListTemplate;for(l=0,n=o.items.length;l<n;l++){k=o.items[l];k.groupOperationsDisabled=k.groupOperationsDisabled!=f?k.groupOperationsDisabled:true;if(o.resources){k.resources=o.resources;}i.push(j(k));}return i.join("");}})(window,WA);(function(b,a){if(!a.UI.Helpers){a.UI.Helpers={};}})(window,WA);(function(c,b,a){if(!b.UI.Helpers.ServiceHelper){b.UI.Helpers.ServiceHelper={};}b.UI.Helpers.ServiceHelper.parseResponse=function(e){var f=e.responseText;if(f&&f.length>0){try{return JSON.parse(f);}catch(d){}return null;}};})(window,WA);(function(d,c,b){if(!c.UI.Helpers.ControlHelper){c.UI.Helpers.ControlHelper={};c.UI.Helpers.ControlHelper.applyParentValueTemplateBehavior=function(g,e){if(!e.parentModel||!e.parentModel.valueAccessor||!g.parentChangeBehaviour){return;}var f=g.parentChangeBehaviour,i=e.parentModel,h=i.valueAccessor.getValue();if(i.disabled===true){g.disabled=true;}if(f.onValueChanged!="undefined"&&f.onValueChangedFilter.length>0){switch(f.onValueChanged){case c.UI.LinkedControlBehavior.Disable:if(f.onValueChangedFilter.indexOf(h)>=0){g.disabled=true;}break;default:throw new Error("Unsupported behavior");}}};c.UI.Helpers.ControlHelper.applyParentValueChangedBehavior=function(h,g,f){g=g||{};g.onValueChangedFilter=g.onValueChangedFilter||[];if(g.onValueChanged!="undefined"){e(g.onValueChanged,(g.onValueChangedFilter.indexOf(f.newValue)>=0));}function e(i,j){switch(i){case c.UI.LinkedControlBehavior.Disable:if(j){h.disable();}else{h.enable();}break;case c.UI.LinkedControlBehavior.Show:if(j){h.show();}else{h.hide();}break;default:throw new Error("Unsupported behavior");}}};c.UI.Helpers.ControlHelper.applyParentSelectedBehavior=function(g,f,h){var i=f||{};i.onSelected=(i.onSelected&&i.onSelected!="undefined")?i.onSelected:c.UI.LinkedControlBehavior.Show;i.onDeselected=(i.onDeselected&&i.onDeselected!="undefined")?i.onDeselected:c.UI.LinkedControlBehavior.Hide;if(h){e(g,i.onSelected);}else{e(g,i.onDeselected);}function e(k,j){switch(j){case c.UI.LinkedControlBehavior.Show:k.show();return;case c.UI.LinkedControlBehavior.Hide:k.hide();return;case c.UI.LinkedControlBehavior.Enable:k.enable();return;case c.UI.LinkedControlBehavior.Disable:k.disable();return;default:}}};c.UI.Helpers.ControlHelper.getValueFromEventTag=function(e,k){if(!e||!k){return null;}var f=e.split(" ");var g,h,j;for(g=0,h=f.length;g<h;g++){j=f[g];if(j.indexOf(k)===0){return j.replace(k,"");}}return null;};c.UI.Helpers.ControlHelper.renderAttributes=function(g){var e=[];for(var f in g){if(g.hasOwnProperty(f)){if(f=="style"&&g[f]&&typeof(g[f])=="object"){e.push(" "+f+'="'+a(g[f])+'"');}if(g[f]!=null&&g[f]!=""){e.push(" "+f+'="'+g[f]+'"');}}}return e.join("");};c.UI.Helpers.ControlHelper.createContainerAttributes=function(f){var e={};if(f.attr){e=c.Object.copy(f.attr);}if(f.isHidden!=b){e.style={display:f.isHidden==true?"none;":""};}return e;};c.UI.Helpers.ControlHelper.createElementsHtml=function(k){var g,j,h,f=[],e;for(g=0,j=k.elements.length;g<j;g++){h=k.elements[g];if(!h){continue;}h.id=h.id||k.id+g;e=c.UI.ControlFactory.createTemplate(h.layoutControlType);f.push(e(h));}return f.join("");};c.UI.Helpers.ControlHelper.createElementId=function(f,e){return f+e;};c.UI.Helpers.ControlHelper.createElementEventTags=function(f,e){return f+"_"+e;};c.UI.Helpers.ControlHelper.createElements=function(o,k,n,f){var j,l,m,e,g={},h;for(j=0,l=o.elements.length;j<l;j++){m=o.elements[j];if(!m){continue;}m.id=m.id||c.UI.Helpers.ControlHelper.createElementId(o.id,j);m.attr=m.attr||{};m.attr.eventTags=m.attr.eventTags||c.UI.Helpers.ControlHelper.createElementEventTags(o.attr.eventTags,j);e=n.controlFactory.createControl(m.layoutControlType,m,k,n);if(typeof f=="object"){for(h in f){if(f.hasOwnProperty(h)&&e.hasOwnProperty(h)){if(e[h]&&typeof e[h].addHandler=="function"&&typeof f[h]=="function"){e[h].addHandler(f[h]);}}}}g[m.attr.eventTags]=e;}return g;};c.UI.Helpers.ControlHelper.createControlSummary=function(e){if(e.hideInSummary){return"";}var f=c.UI.ControlFactory.createTemplate(e.layoutControlType);return f.createSummary(e);};c.UI.Helpers.ControlHelper.createElementsSummary=function(h){var f,j,g,e=[];for(f=0,j=h.length;f<j;f++){g=h[f];e.push(c.UI.Helpers.ControlHelper.createControlSummary(g));}return e.join("");};c.UI.Helpers.ControlHelper.createNoValueMessage=function(e){return c.UI.ContainerTemplate({cssClass:"noValueMessage",contentHTML:c.UI.TextContainerTemplate({contentText:(e.noValueMessage||"")})});};c.UI.Helpers.ControlHelper.setControlTitle=function(e,f,h){var g=c.$(e+c.UI.ControlLayoutTemplate.IdContainerTitlePostfix);if(!g){throw new Error("Could not find titleContainerElement.");}g.innerHTML=c.UI.ControlLayoutTemplate.createTitleHTML(f,h);};c.UI.Helpers.ControlHelper.createControlTitle=function(f,e){e=e||{};if(f.title==b){return"";}return c.UI.SplittedContainerColumnTemplate({id:f.id+(e.postfix||"_titleContainer"),cssClass:c.Templates.UI.Css.ColumnLabel,contentHTML:c.UI.TextContainerTemplate({id:f.id+(e.titlePostfix||"_title"),contentText:f.title})});};c.UI.Helpers.ControlHelper.createControlTitleV2=function(g,e){e=e||{};if(g.title==b){return"";}var f=c.UI.ContainerTemplate;return f({cssClass:"controlTitleContainer"+(e.titlePosition?" "+e.titlePosition:""),contentHTML:c.UI.TextContainerTemplate({id:g.id+(e.titlePostfix||"_title"),contentText:g.title})});};c.UI.Helpers.ControlHelper.createControlDescription=function(f,e){e=e||{};if(!f.description){return"";}return c.UI.ContainerTemplate({id:f.id+(e.postfix||"_descriptionContainer"),cssClass:"descriptionContainer",contentHTML:c.UI.Helpers.ControlHelper.createControlDescriptionContent(f)});};c.UI.Helpers.ControlHelper.createControlDescriptionContent=function(e){if(!e.description){return"";}return c.UI.TextContainerTemplate({cssClass:"textSmall textGray",contentText:e.description});};c.UI.Helpers.ControlHelper.createControlSummaryTitle=function(e){if(!e.title&&!e.summaryTitle){return"";}return c.UI.IndentTemplate({smallIndentBottom:true,contentHTML:c.UI.TextContainerTemplate({contentText:e.summaryTitle!=b?e.summaryTitle:e.title})});};c.UI.Helpers.ControlHelper.createLinkedControlHtml=function(h,e){if(!h.linkedControl){return"";}e=e||{};var f,g;c.UI.Helpers.ControlHelper.createModel(h);g=c.UI.ControlFactory.createTemplate(h.linkedControl.layoutControlType);f=g(h.linkedControl,e);return f;};c.UI.Helpers.ControlHelper.createLinkedControl=function(j,e,i,g){if(!j.linkedControl){return;}var f,h;c.UI.Helpers.ControlHelper.createModel(j);f=i.controlFactory.createControl(j.linkedControl.layoutControlType,j.linkedControl,e,i);if(typeof g=="object"){for(h in g){if(g.hasOwnProperty(h)&&f.hasOwnProperty(h)){if(f[h]&&typeof f[h].addHandler=="function"&&typeof g[h]=="function"){f[h].addHandler(g[h]);}}}}return f;};c.UI.Helpers.ControlHelper.createModel=function(e){if(!e.linkedControl.id){e.linkedControl.id=c.UI.Helpers.ControlHelper.createLinkedId(e.id);}e.linkedControl.name=e.linkedControl.name||e.linkedControl.id;};c.UI.Helpers.ControlHelper.createLinkedId=function(e){return e+"_linked_";};c.UI.Helpers.ControlHelper.ListOptionBullet='<span class="listOptionSummaryBullet">-</span>';c.UI.Helpers.ControlHelper.showDescription=function(e){if(!e){return;}var f=c.$(e+"_controlDescriptionContainer");c.Dom.removeClassName(f,"hidden");f=null;};c.UI.Helpers.ControlHelper.hideDescription=function(e){if(!e){return;}var f=c.$(e+"_controlDescriptionContainer");c.Dom.addClassName(f,"hidden");f=null;};c.UI.Helpers.ControlHelper.showValidationMessages=function(f,j){if(!j||j.length===0){return;}var g,h,k="",l,e;l=c.$(f+c.UI.ControlLayoutTemplate.IdValidationContainerPostfix);e=c.$(f+c.UI.ControlLayoutTemplate.IdControlLayoutPostfix);for(g=0,h=j.length;g<h;g++){k+=c.UI.ContainerTemplate({contentHTML:c.UI.TextContainerTemplate({contentText:j[g]})});}l.innerHTML=k;c.Dom.addClassName(e,"error");l=null;e=null;};c.UI.Helpers.ControlHelper.showValidationHTMLMessages=function(f,j){if(!j||j.length===0){return;}var g,h,k="",l,e;l=c.$(f+c.UI.ControlLayoutTemplate.IdValidationContainerPostfix);e=c.$(f+c.UI.ControlLayoutTemplate.IdControlLayoutPostfix);for(g=0,h=j.length;g<h;g++){k+=c.UI.ContainerTemplate({contentHTML:c.UI.TextContainerTemplate({contentHTML:j[g]})});}l.innerHTML=k;c.Dom.addClassName(e,"error");l=null;e=null;};c.UI.Helpers.ControlHelper.hideValidationMessages=function(f){var g=c.$(f+c.UI.ControlLayoutTemplate.IdValidationContainerPostfix),e=c.$(f+c.UI.ControlLayoutTemplate.IdControlLayoutPostfix);c.Dom.removeClassName(e,"error");g.innerHTML="";g=null;e=null;};c.UI.Helpers.ControlHelper.setPostfix=function(e,f){var g=c.$(e+c.UI.ControlLayoutTemplate.PostfixPostfix);g.innerHTML=c.UI.Helpers.ControlHelper.createPostfix(f);};c.UI.Helpers.ControlHelper.createPostfix=function(e,f){if(e){return c.UI.ContainerTemplate({cssClass:"waControlPostfixText",contentText:e});}if(f){return c.UI.ContainerTemplate({cssClass:"waControlPostfixHtml",contentHTML:f});}return"";};}function a(g){var e=[];for(var f in g){if(g.hasOwnProperty(f)&&g[f]!=null&&g[f]!=""){e.push(f+":"+g[f]);}}return e.join(";");}})(window,WA);(function(e,d,c){if(!d.UI.Helpers.ValidationHelper){d.UI.Helpers.ValidationHelper={};}d.UI.Helpers.ValidationHelper.updateValidationMessages=function(f){var g=false;if(f.messages.length>0){if(!f.isEditInProgress){b(f);}}else{a(f);g=true;}return g;};function b(f){if(f.showValidationCallback){f.showValidationCallback(f.messages);}else{d.UI.Helpers.ControlHelper.showValidationMessages(f.controlId,f.messages);}}function a(f){if(f.hideValidationCallback){f.hideValidationCallback();}else{d.UI.Helpers.ControlHelper.hideValidationMessages(f.controlId);}}})(window,WA);(function(c,b,a){if(!b.UI.Helpers.ValueAccessorHelper){b.UI.Helpers.ValueAccessorHelper={};}b.UI.Helpers.ValueAccessorHelper.createValueAccessor=function(d,e){return d.valueAccessor||new b.SimpleAccessor({value:d.value},{parentComponent:e});};b.UI.Helpers.ValueAccessorHelper.mapLayoutElementsToValue=function(e,l){var f,g,d,h={};for(f=0,g=e.length;f<g;f++){d=e[f];if(!d){continue;}h[d.attr.eventTags]={};h[d.attr.eventTags].elemIndex=f;var j,k,i;for(j=0,k=l.length;j<k;j++){i=l[j];if(i.name===d.attr.eventTags){h[d.attr.eventTags].valueIndex=j;break;}}}return h;};})(window,WA);(function(c,b){if(!c.WA.UI.HiddenField){b.UI.HiddenField=a;b.UI.HiddenField.TypeName="WA.UI.HiddenField";}function a(g,d){d=d||{};var i=this,h=d.parentComponent,l=g;i.init=f;i.render=j;i.dispose=e;i.value=k;i.ValueChanged=b.Tools.EventHandlers.createHandlers(i,{id:"ValueChanged"});function k(){var m=Array.prototype.slice.call(arguments,0);var n=l.frameWindow.document.getElementById(l.id);if(!n){throw new Error('Element with id "'+l.id+'" was not found');}if(m.length==0){return n.value;}n.value=m[0];i.ValueChanged.fireHandlers({value:n.value,id:l.id});}function j(){return b.UI.HiddenFieldTemplate(l);}function f(){h.Dispose.addHandler(e);}function e(){h.Dispose.removeHandler(e);}}})(window,WA);(function(b,a){if(!a.UI.HiddenFieldTemplate){a.Templates.UI.Css.HiddenField={CssClass:"typeHiddenField"};a.UI.HiddenFieldTemplate=function(d){var c=[];c.push('<input type="hidden" class="'+a.Templates.UI.Css.HiddenField.CssClass);if(d.cssClass){c.push(" "+d.cssClass);}c.push('"');if(d.id){c.push(' id="'+d.id+'"');}if(d.value!=undefined){c.push(' value="'+d.value+'"');}if(d.name){c.push(' name="'+d.name+'"');}if(d.attr){c.push(a.UI.Helpers.ControlHelper.renderAttributes(d.attr));}c.push(" />");return c.join("");};}})(window,WA);(function(c,b){if(!c.WA.UI.HorizontalRadioTab){b.UI.HorizontalRadioTab=a;}function a(m,g){g=g||{};var q=this,s="WA.UI.HorizontalRadioTab";q.toString=function(){return s;};var i=[],j=m.clientId,e=null,p=g.parentComponent,h=m.buttons;q.TabActivated=b.Tools.EventHandlers.createHandlers(q,{id:"TabActivated"});q.Dispose=b.Tools.EventHandlers.createHandlers(q,{id:"Dispose"});q.RenderComplete=b.Tools.EventHandlers.createHandlers(q,{id:"RenderComplete"});q.init=l;q.render=r;q.activate=d;function o(){var t=document.getElementById(j);b.addHandler(t,"click",n);q.RenderComplete.fireHandlers();}function n(u){var v=b.getEventTarget(u),t=v.getAttribute("eventTags");if(t){d(t);}}function d(u){var w,x,t,v=false;for(w=0,x=i.length;w<x;w++){t=i[w];if(t.getId()==u){t.activate();v=e==null?false:true;e=u;q.TabActivated.fireHandlers({tabId:e,changed:v});}else{t.deActivate();}}}function r(){return b.UI.HorizontalRadioTabTemplate({buttons:i,clientId:j});}function f(t){i.push(b.Object.create(b.UI.HorizontalRadioTabButton,[t,{parentComponent:q}]));}function l(){var t,u;for(t=0,u=h.length;t<u;t++){f(h[t]);}p.RenderComplete.addHandler(o);p.Dispose.addHandler(k);}function k(){q.Dispose.fireHandlers();p.RenderComplete.removeHandler(o);p.Dispose.removeHandler(k);q.TabActivated=null;q.Dispose=null;q.RenderComplete=null;e=i=m=p=null;}}})(window,WA);(function(c,b){if(!c.WA.UI.HorizontalRadioTabTemplate){b.UI.HorizontalRadioTabTemplate=a;}function a(j){var k=this,n="WA.UI.HorizontalRadioTabTemplate";k.toString=function(){return n;};var e=b.UI.ContainerTemplate,m=b.UI.SplittedContainerTemplate,l=b.UI.SplittedContainerColumnTemplate,d=j.clientId;var g,h,f=[];for(g=0,h=j.buttons.length;g<h;g++){f.push(l({attr:{style:"width: "+(j.buttons[g].getWidth()||150)+"px;"},contentHTML:j.buttons[g].render()}));}return e({cssClass:"typeSection firstSection",contentHTML:m({id:j.clientId,contentHTML:f.join("")})});}})(window,WA);(function(c,b){if(!c.WA.UI.HorizontalDialogTabRoundedButton){b.UI.HorizontalDialogTabRoundedButton=a;b.UI.HorizontalDialogTabRoundedButton.TypeName="WA.UI.HorizontalDialogTabRoundedButton";}function a(j,f){f=f||{};var l=this,k=f.parentComponent,n=j;l.toString=function(){return typeName;};l.init=i;l.dispose=h;l.render=m;l.activateTab=e;function m(){return b.UI.HorizontalDialogTabRoundedButtonTemplate(n);}function i(){k.Dispose.addHandler(h);}function h(){k.Dispose.removeHandler(h);}function e(p,o){o=o||{};if(o.activeTabId){if(n.id==o.activeTabId){d();}else{g();}}}function d(){var o=n.frameWindow.document.getElementById(n.id);b.Dom.addClassName(o,"activeButton");o=null;}function g(){var o=n.frameWindow.document.getElementById(n.id);b.Dom.removeClassName(o,"activeButton");o=null;}}})(window,WA);(function(b,a){if(!a.UI.HorizontalDialogTabRoundedButtonTemplate){a.UI.HorizontalDialogTabRoundedButtonTemplate=function(f){var c=[];var e=a.UI.ContainerTemplate;var g=a.UI.TextContainerTemplate;var d=f.attr||{};d.eventTags=f.id;d.onselectstart="return false;";return a.UI.SplittedContainerColumnTemplate({id:f.id,cssClass:"HorizontalDialogTabRoundedButtonContainer"+(f.cssClass?(" "+f.cssClass):""),attr:d,contentHTML:e({cssClass:"leftContainer",attr:d,contentHTML:e({cssClass:"rightContainer",attr:d,contentHTML:e({cssClass:"middleContainer",attr:d,contentHTML:g({cssClass:"bold",attr:d,contentText:f.contentText})})})})});};}})(window,WA);(function(c,b){if(!b.UI.HorizontalRadioTabButton){b.UI.HorizontalRadioTabButton=a;}function a(j,e){e=e||{};var l=this,n="WA.UI.HorizontalRadioTabButton";l.toString=function(){return n;};var i=j,k=e.parentComponent||null;l.Dispose=b.Tools.EventHandlers.createHandlers(l,{id:"Dispose"});l.init=h;l.dispose=g;l.render=m;l.activate=d;l.deActivate=f;l.getId=function(){return j.id;};l.getWidth=function(){return j.width;};function m(){return b.UI.HorizontalRadioTabButtonTemplate(i);}function d(){var o=i.frameWindow.document.getElementById(i.id);o.className="activeButton";var q=i.frameWindow.document.getElementById(i.id+"_radio");if(q){q.checked="checked";}var p=i.frameWindow.document.getElementById(i.id+"_description");if(p){p.style.visibility="hidden";}q=null;p=null;o=null;}function f(){var o=i.frameWindow.document.getElementById(i.id);o.className="inactiveButton";var q=i.frameWindow.document.getElementById(i.id+"_radio");if(q){q.checked="";}var p=i.frameWindow.document.getElementById(i.id+"_description");if(p){p.style.visibility="visible";}p=null;q=null;o=null;}function h(){i.frameWindow=i.frameWindow||c;k.Dispose.addHandler(g);}function g(){l.Dispose.fireHandlers();k.Dispose.removeHandler(g);l.Dispose=null;i=k=null;}}})(window,WA);(function(b,a){if(!a.UI.HorizontalRadioTabButtonTemplate){a.UI.HorizontalRadioTabButtonTemplate=function(f){var c=[],g=a.UI.RadioButtonTemplate,e=a.UI.ContainerTemplate,h=a.UI.TextContainerTemplate,d=f.attr||{};d.eventTags=f.id;d.onselectstart="return false;";c.push(g({id:(f.id+"_radio"),checked:f.active,contentText:f.contentText,attr:d}));if(f.description){c.push(e({cssClass:"typeIndentList",attr:d,contentHTML:h({id:(f.id+"_description"),cssClass:"textSmall textGray",contentText:f.description,attr:d})}));}return e({cssClass:"horizontalDialogTabButton"+(f.cssClass?(" "+f.cssClass):""),attr:d,contentHTML:a.UI.ContainerTemplate({id:f.id,cssClass:f.cssClass,contentHTML:c.join(""),attr:d})});};}})(window,WA);(function(d,c,b){if(!c.UI.Icon){c.UI.Icon=a;c.UI.IconType={AdminOnly:"adminonly",Empty:"iconEmpty",Visible:"iconVisible",Limited:"limited",Home:"iconHome",Wheel:"iconWheel",Plus:"iconPlus",Cross:"iconCross",GreyCross:"iconGreyCross",Minus:"iconMinus",Star:"iconStar",Wait:"iconWait",Warning:"iconWarning",SystemInfo:"iconSysInfo",Info:"iconInfo",Read:"read",ReadComment:"readcomment",ReadCommentAdd:"readcommentadd",NoAccess:"noaccess",CalendarIcon:"calendarIcon",OrangeCircle:"iconStar",RedCircle:"noaccess",Check:"check",Question:"question",RecurringEvent:"recurringEvent",RecurringEventPast:"recurringEventPast",LeftRotationArrow:"leftRotationArrow",RightRotationArrow:"rightRotationArrow",TextWrappingInlineToLeft:"textWrappingInlineToLeft",TextWrappingWrapTextToLeft:"textWrappingWrapTextToLeft",TextWrappingWrapTextToRight:"textWrappingWrapTextToRight",TextWrappingBreakTextToLeft:"textWrappingBreakTextToLeft",TextWrappingBreakTextToCenter:"textWrappingBreakTextToCenter",New:"iconNew"};}function a(o,n){n=n||{};var t=this,w="WA.UI.Icon",x=o,s=n.parentComponent,l=o.iconType;t.toString=function(){return w;};t.RenderComplete=c.Tools.EventHandlers.createHandlers(t,{id:"RenderComplete"});t.Dispose=c.Tools.EventHandlers.createHandlers(t,{id:"Dispose"});t.IconClick=c.Tools.EventHandlers.createHandlers(t,{id:"IconClick"});var v,f,e,p=false;t.dispose=i;t.disableIcon=g;t.enableIcon=j;t.disableToolTip=h;t.enableToolTip=k;function k(){if(v){v.enableToolTip();}}function h(){if(v){v.disableToolTip();}}function g(){x.disabled=true;c.Dom.addClassName(f,"disabled");}function j(){x.disabled=false;c.Dom.removeClassName(f,"disabled");}function u(){return c.UI.IconTemplate(x);}function r(z,y){f=c.$(x.id);if(x.disableSelect){c.disableSelect(f);}if(x.iconToolTip!=b&&l!=c.UI.IconType.Empty){x.iconToolTip.id=x.id+"_toolTip";x.iconToolTip.target=f;v=new c.UI.ToolTip(x.iconToolTip,{parentComponent:t});}e=new c.PointerClickHandler({id:x.id+"_clickHandler"},{elementId:x.id,handler:q,parentComponent:t});t.RenderComplete.fireHandlers();}function q(z,y){if(x.disabled===true){return;}t.IconClick.fireHandlers({iconId:x.id});}function m(){s.RenderComplete.addHandler(r);s.Dispose.addHandler(i);}function i(){if(p){return;}t.Dispose.fireHandlers();s.RenderComplete.removeHandler(r);s.Dispose.removeHandler(i);e=null;x=null;s=null;v=null;t.RenderComplete=null;t.Dispose=null;t.IconClick=null;p=true;}m();}})(window,WA);(function(e,d,c){if(!d.UI.IconTemplate){d.UI.IconTemplate=b;d.UI.IconTemplate.IconSize={Small:"small",Medium:"medium",Large:"large"};d.UI.IconTemplate.getIconSize=a;}function b(l,f){f=f||{};var o=this,p="WA.UI.IconTemplate";var g=n(l,true),k=n(l,false),i;i="waIcon"+(l.iconType==d.UI.IconType.Empty?" iconEmpty":"")+(l.disabled===true?" disabled":"")+(l.cssClass?" "+l.cssClass:"");return d.UI.ContainerTemplate({id:l.id,cssClass:i,attr:g,contentHTML:d.UI.ContainerTemplate({id:(l.id?l.id+"_icon":null),attr:k,cssClass:l.iconType+(l.iconSize?" "+j(l.iconSize):"")+((l.iconToolTip&&l.iconToolTip.toolTipText&&l.iconToolTip.toolTipText.length>0)?" iconToolTip":""),title:l.title||"",contentHTML:h(l)})});function n(s,r){var q={};if(s.padding&&r){var t="";t+=(s.padding.top!==c)?("padding-top: "+s.padding.top+"px; "):"";t+=(s.padding.right!==c)?("padding-right: "+s.padding.right+"px; "):"";t+=(s.padding.bottom!==c)?("padding-bottom: "+s.padding.bottom+"px; "):"";t+=(s.padding.left!==c)?("padding-left: "+s.padding.left+"px; "):"";if(t.length>0){q.style=t;}}if(s.iconTitle){q.title=s.iconTitle;}if(s.attr&&s.attr[d.eventTagsAttribute]){q[d.eventTagsAttribute]=s.attr[d.eventTagsAttribute];}return q;}function j(m){switch(m){case d.UI.IconTemplate.IconSize.Small:return"iconSizeSmall";case d.UI.IconTemplate.IconSize.Medium:return"iconSizeMedium";case d.UI.IconTemplate.IconSize.Large:return"iconSizeLarge";default:}}function h(q){switch(q.iconType){case d.UI.IconType.Wait:return d.UI.ImageTemplate({src:d.StaticResources+"Images/async-load-progress-01.gif",attr:q.attr});default:return"";}}}function a(h){var g=d.UI.IconType,f=d.UI.IconTemplate.IconSize,i;if(h.iconType==g.Empty){return{width:0,height:0};}switch(h.iconSize){case f.Large:switch(h.iconType){case g.Visible:case g.AdminOnly:i={width:25,height:20};break;case g.Limited:case g.Star:case g.Home:i={width:18,height:20};break;case g.Info:i={width:18,height:18};break;case g.Warning:i={width:13,height:12};break;case g.Cross:case g.GreyCross:i={width:9,height:9};break;case g.Plus:i={width:11,height:11};break;case g.New:i={width:19,height:10};break;default:i={width:20,height:20};break;}break;case f.Medium:switch(h.iconType){case g.SystemInfo:i={width:22,height:20};break;case g.Info:i={width:18,height:18};break;case g.Warning:i={width:13,height:12};break;case g.Cross:case g.GreyCross:i={width:9,height:9};break;case g.Plus:i={width:11,height:11};break;case g.New:i={width:19,height:10};break;default:i={width:16,height:16};break;}break;default:switch(h.iconType){case g.SystemInfo:i={width:22,height:20};break;case g.Visible:case g.AdminOnly:i={width:16,height:12};break;case g.Home:i={width:14,height:12};break;case g.Info:i={width:14,height:14};break;case g.Warning:i={width:13,height:12};break;case g.Cross:case g.GreyCross:i={width:9,height:9};break;case g.Plus:i={width:11,height:11};break;case g.New:i={width:19,height:10};break;default:i={width:12,height:12};break;}break;}if(h.padding){i.width+=(h.padding.left||0)+(h.padding.right||0);i.height+=(h.padding.top||0)+(h.padding.bottom||0);}return i;}})(window,WA);(function(c,b,a){if(!b.UI.ImageTemplate){b.UI.ImageTemplate=function(e){var d=[];d.push('<img class="image');if(e.cssClass!=a){d.push(" "+e.cssClass);}d.push('"');if(e.id!=a){d.push(' id="'+e.id+'"');}if(e.title!=a){d.push(' title="'+b.encodeHtml(e.title)+'"');}if(e.alt!=a){d.push(' alt="'+b.encodeHtml(e.alt)+'"');}if(e.src!=a){d.push(' src="'+e.src+'"');}if(e.align!=a){d.push(' align="'+e.align+'"');}if(e.attr){d.push(b.UI.Helpers.ControlHelper.renderAttributes(e.attr));}d.push(" />");return d.join("");};}})(window,WA);(function(c,b,a){if(!b.UI.ImageButtonTemplate){b.UI.ImageButtonTemplate=function(e){var d=[];d.push("<div ");if(e.id!=a){d.push(' id="'+e.id+'"');}d.push(' class="typeImageButton"');if(e.attr!=a){d.push(b.UI.Helpers.ControlHelper.renderAttributes(e.attr));}if(e.title!=a){d.push(' title="'+e.title+'"');}d.push(" />");d.push("<div");if(e.cssClass!=a){d.push(' class="'+e.cssClass+'"');}if(e.id!=a){d.push(' id="'+e.id+'_inner"');}if(e.attr!=a){d.push(b.UI.Helpers.ControlHelper.renderAttributes(e.attr));}d.push(">");d.push("</div");d.push("</div>");return d.join("");};}})(window,WA);(function(d,c,b){if(!c.UI.ImageLibrary){c.UI.ImageLibrary=a;}function a(h,g){g=g||{};var k=this,m="WA.UI.ImageLibrary",n=h,j=g.parentComponent;k.toString=function(){return m;};k.RenderComplete=c.Tools.EventHandlers.createHandlers(k,{id:"RenderComplete"});k.Dispose=c.Tools.EventHandlers.createHandlers(k,{id:"Dispose"});k.ValueChanged=c.Tools.EventHandlers.createHandlers(k,{id:"ValueChanged"});k.init=f;k.render=l;k.dispose=e;function l(){return c.UI.ImageLibraryTemplate();}function i(p,o){k.RenderComplete.fireHandlers();}function f(){j.RenderComplete.addHandler(i);j.Dispose.addHandler(e);}function e(){k.Dispose.fireHandlers();j.RenderComplete.removeHandler(i);j.Dispose.removeHandler(e);n=null;j=null;k.RenderComplete=null;k.Dispose=null;k.ValueChanged=null;}}})(window,WA);(function(c,b){if(!b.UI.ImageLibraryTemplate){b.UI.ImageLibraryTemplate=a;}function a(d){return"";}})(window,WA);(function(c,b){if(!b.UI.ImageLinker){b.UI.ImageLinker=a;b.UI.ImageLinker.TypeName="WA.UI.ImageLinker";}function a(i,h,x){h=h||{};var t=this,f=h.gadget,s=h.parentComponent,y=b.UI.ImageLinker.TypeName,A=i,z;t.toString=function(){return y;};t.ValueChanged=b.Tools.EventHandlers.createHandlers(t,{id:"ValueChanged"});t.ValidationFailed=b.Tools.EventHandlers.createHandlers(t,{id:"ValidationFailed"});t.RenderComplete=b.Tools.EventHandlers.createHandlers(t,{id:"RenderComplete"});t.Dispose=b.Tools.EventHandlers.createHandlers(t,{id:"Dispose"});var d,j=false,r,v={},w;t.dispose=e;t.render=u;t.getSelectedImage=function(){return v;};t.getType=function(){return A.layoutControlType;};function u(){return b.UI.ImageLinkerTemplate(A);}function p(){var B=A.frameWindow||c;t.RenderComplete.fireHandlers();B=null;}function q(){t.ValidationFailed.fireHandlers();}function k(F,B){if(d){d.closeWindow();var C=d.getReturnedParameters().pSlideShowPictureList,D=[],E,G;for(E in C){if(C.hasOwnProperty(E)){G=C[E];if(G.link){D.push({Key:E,Value:G});}}}z.setValue(D,"items");t.ValueChanged.fireHandlers();}}function l(C,B){if(d){d.closeWindow();}}function m(C,B){if(j){return;}b.AdminPanel.hideShading();}function n(C,B){if(j){return;}b.AdminPanel.hideShading();if(d){d.setReturnedParameters("pSlideShowPictureList",B);d.setReturnedParameters("sCommand","openInsertLinkDialog");d.setReturnedParameters("isSlideShowGadgetSettings",true);d.openWindow(k,l,null,null,null,1000,700);}}function o(){b.AdminPanel.showShading();w.loadImages(z.getValue("asyncUrl")+f.getComponentId());}function g(){d=top.BonaDialog.getObjectById("idEditorToolbar_BigSizeButtons_InsertLinkAndAnchor_Dialog");w=new b.UI.ImageLinkerService({parentComponent:t});w.LoadImagesFailed.addHandler(m);w.LoadImagesSuccess.addHandler(n);s.RenderComplete.addHandler(p);s.Dispose.addHandler(e);if(s.ValidationFailed){s.ValidationFailed.addHandler(q);}z=b.UI.Helpers.ValueAccessorHelper.createValueAccessor(i,t);r=new b.UI.WaButton({id:A.id+b.UI.ImageLinkerTemplate.Postfix+b.UI.ImageLinkerTemplate.ButtonPostfix},{parentComponent:t});r.WaButtonClick.addHandler(o);}function e(){t.Dispose.fireHandlers();s.RenderComplete.removeHandler(p);s.Dispose.removeHandler(e);j=true;if(s.ValidationFailed){s.ValidationFailed.removeHandler(q);}A=null;s=null;d=null;f=null;r=null;v=null;w=null;z=null;t.RenderComplete=null;t.Dispose=null;t.ValidationFailed=null;}g();}})(window,WA);(function(d,c,b){if(!c.UI.ImageLinkerService){c.UI.ImageLinkerService=a;}function a(g){var l=this,m="WA.UI.ImageLinkerService",k=g.parentComponent;l.toString=function(){return m;};l.Dispose=c.Tools.EventHandlers.createHandlers(l,{id:"Dispose"});l.LoadImagesSuccess=c.Tools.EventHandlers.createHandlers(l,{id:"LoadImagesSuccess"});l.LoadImagesFailed=c.Tools.EventHandlers.createHandlers(l,{id:"LoadImagesFailed"});l.loadImages=h;function e(){l.Dispose.fireHandlers();k.Dispose.removeHandler(e);l.LoadImagesSuccess=null;l.LoadImagesFailed=null;l.Dispose=null;k=null;}function f(){k.Dispose.addHandler(e);}function h(o){var n={dataType:"json",error:i,success:j,type:"GET",url:o};return c.Ajax(n);}function i(n){l.LoadImagesFailed.fireHandlers({error:n});}function j(n){l.LoadImagesSuccess.fireHandlers(n);}f();}})(window,WA);(function(c,b){if(!b.UI.ImageLinkerTemplate){b.UI.ImageLinkerTemplate=a;b.UI.ImageLinkerTemplate.Postfix="_ImageLinker";b.UI.ImageLinkerTemplate.ButtonPostfix="_button";}function a(g){var e=b.UI.ContainerTemplate,f=b.UI.LinkTemplate,h=b.UI.WaButtonTemplate,d=b.UI.ControlLayoutTemplate;g.controlContainerDisplayType=g.controlContainerDisplayType?g.controlContainerDisplayType:b.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;g.cssClass="imageLinker"+(g.cssClass?" "+g.cssClass:"");g.layoutContentHTML=e({cssClass:"ImageLinker",contentHTML:e({cssClass:"ButtonContainer",indentBottom:true,contentHTML:h({name:g.buttonAddTitle,id:g.id+b.UI.ImageLinkerTemplate.Postfix+b.UI.ImageLinkerTemplate.ButtonPostfix},{color:b.UI.WaButton.ButtonColor.Grey,size:b.UI.WaButton.ButtonSize.Default})})});return d(g);}b.UI.ImageLinkerTemplate.DefaultValue="none";})(window,WA);(function(d,c,b){if(!c.UI.ImagePreview){c.UI.ImagePreview=a;}function a(k,j){j=j||{};var n=this,s="WA.UI.ImagePreview",t=k,m=j.parentComponent,h,g;n.toString=function(){return s;};n.RenderComplete=c.Tools.EventHandlers.createHandlers(n,{id:"RenderComplete"});n.Dispose=c.Tools.EventHandlers.createHandlers(n,{id:"Dispose"});n.VisualStateChanged=c.Tools.EventHandlers.createHandlers(n,{id:"VisualStateChanged"});n.init=i;n.render=o;n.showImagePreview=r;n.hideImagePreview=f;n.setPreviewImage=q;n.setPreviewColor=p;function o(){return c.UI.ImagePreviewTemplate(t);}function p(u){if(u===b||u===null){return;}switch(u.toLowerCase()){case"transparent":case"":h.style.backgroundColor=u;return;case"undefined":h.style.backgroundColor="";return;default:h.style.backgroundColor="#"+u;}h.style.backgroundColor=u;}function q(u){h.style.backgroundImage='url("'+u+'")';}function r(){c.Dom.removeClassName(g,"hidden");n.VisualStateChanged.fireHandlers();}function f(){c.Dom.addClassName(g,"hidden");n.VisualStateChanged.fireHandlers();}function l(v,u){h=c.$(t.id);g=c.$(t.id+c.UI.ImagePreviewTemplate.ImgPreviewContainerPostfix);n.RenderComplete.fireHandlers();}function i(){m.RenderComplete.addHandler(l);m.Dispose.addHandler(e);}function e(){n.Dispose.fireHandlers();m.RenderComplete.removeHandler(l);m.Dispose.removeHandler(e);t=null;m=null;h=null;g=null;n.RenderComplete=null;n.Dispose=null;n.VisualStateChanged=null;}}})(window,WA);(function(d,c,b){if(!c.UI.ImagePreviewTemplate){c.UI.ImagePreviewTemplate=a;c.UI.ImagePreviewTemplate.ImgPreviewPostfix="_ImagePreview";c.UI.ImagePreviewTemplate.ImgPreviewContainerPostfix="_ImagePreviewContainer";}function a(f){var e=c.UI.ContainerTemplate;return e({id:f.id+c.UI.ImagePreviewTemplate.ImgPreviewContainerPostfix,cssClass:f.isHidden?"imagePreviewContainer hidden":"imagePreviewContainer",contentHTML:e({cssClass:"imagePreviewTransparentBackground",contentHTML:e({id:f.id,cssClass:"imagePreview"})})});}})(window,WA);(function(c,b){if(!b.UI.Indent){b.UI.Indent=a;}function a(h,g,o){g=g||{};var m=this,p="WA.UI.Indent",q=h,l=g.parentComponent;q.attr=q.attr||{eventTags:q.id};m.toString=function(){return p;};m.ValueChanged=b.Tools.EventHandlers.createHandlers(m,{id:"ValueChanged"});m.RenderComplete=b.Tools.EventHandlers.createHandlers(m,{id:"RenderComplete"});m.ValidationFailed=b.Tools.EventHandlers.createHandlers(m,{id:"ValidationFailed"});m.Dispose=b.Tools.EventHandlers.createHandlers(m,{id:"Dispose"});m.render=n;m.getId=e;m.getType=function(){return q.layoutControlType;};function e(){return q.id;}function n(){return b.UI.IndentTemplate(q);}function j(s,r){m.RenderComplete.fireHandlers();}function k(){m.ValidationFailed.fireHandlers();}function i(s,r){m.ValueChanged.fireHandlers(r);}function f(){l.RenderComplete.addHandler(j);l.Dispose.addHandler(d);if(l.ValidationFailed){l.ValidationFailed.addHandler(k);}b.UI.Helpers.ControlHelper.createElements(q,{parentComponent:m,gadget:g.gadget},o,{ValueChanged:i});}function d(){m.Dispose.fireHandlers();l.RenderComplete.removeHandler(j);l.Dispose.removeHandler(d);if(l.ValidationFailed){l.ValidationFailed.addHandler(k);}q=null;l=null;m.RenderComplete=null;m.Dispose=null;m.ValidationFailed=null;}f();}})(window,WA);(function(){if(!WA.UI.IndentTemplate){WA.UI.IndentTemplate=function(b){if(WA.getTypeString(b.elements)=="array"&&b.elements.length>0){b.contentHTML=WA.UI.Helpers.ControlHelper.createElementsHtml(b);}return a(b);};WA.UI.IndentTemplate.createSummary=function(d){if(d.hideInSummary){return"";}var b=[],c=d.elements;if(!c||c.length<=0){return"";}b.push(WA.UI.Helpers.ControlHelper.createElementsSummary(c));d.contentHTML=b.join("");return a(d);};}function a(d){var b=[],c=[];if(d.typeIndentList){c.push("typeIndentList");}if(d.indentBottom){c.push("indentBottom");}if(d.indentTop){c.push("indentTop");}if(d.indentRight){c.push("indentRight");}if(d.indentLeft){c.push("indentLeft");}if(d.smallIndentBottom){c.push("smallIndentBottom");}if(d.smallIndentTop){c.push("smallIndentTop");}if(d.smallIndentRight){c.push("smallIndentRight");}if(d.smallIndentLeft){c.push("smallIndentLeft");}b.push("<div");if(d.id){b.push(' id="'+d.id+'"');}if(d.cssClass){c.push(d.cssClass);}b.push(' class="'+c.join(" ")+'"');if(d.attr){b.push(WA.UI.Helpers.ControlHelper.renderAttributes(d.attr));}b.push(">");if(d.contentHTML){b.push(d.contentHTML);}if(d.contentText){b.push(WA.encodeHtml(d.contentText));}b.push("</div>");return b.join("");}})();(function(d,c,b){if(!c.UI.InsertImageControl){c.UI.InsertImageControl=a;}function a(i){var q=this,v="WA.UI.InsertImageControl",x=i,t=x.resources,p=x.parentComponent;q.toString=function(){return v;};q.RenderComplete=c.Tools.EventHandlers.createHandlers(q,{id:"RenderComplete"});q.Dispose=c.Tools.EventHandlers.createHandlers(q,{id:"Dispose"});q.ValueChanged=c.Tools.EventHandlers.createHandlers(q,{id:"ValueChanged"});var j=false,w,o,f,r;q.render=s;function s(){return c.UI.InsertImageControlTemplate(x);}function n(z,y){q.RenderComplete.fireHandlers();u();}function u(){if(w.getValue("src")){r.showLink();}else{r.hideLink();}}function l(z,y){e();f.showInsertResourceDialog({dialogMode:c.UI.InsertResourceDialog.Modes.Image});}function e(){if(f){return;}f=new c.UI.InsertResourceDialog({id:x.id+c.UI.InsertImageControlTemplate.DialogPostfix,parentComponent:q,uploadWarningManager:t.uploadWarningManager,fileSortType:x.fileSortType,resources:t.insertResourceDialog,rootPath:x.rootPath});f.ResourceInsert.addHandler(k);f.renderComplete();}function m(){w.setValue("","src");q.ValueChanged.fireHandlers();u();}function k(z,y){w.setValue(y.selectedItem.src,"src");q.ValueChanged.fireHandlers();u();}function h(){p.RenderComplete.addHandler(n);p.Dispose.addHandler(g);w=c.UI.Helpers.ValueAccessorHelper.createValueAccessor(i,q);o=new c.UI.WaButton({id:x.id+c.UI.InsertImageControlTemplate.OpenButtonPostfix},{parentComponent:q});o.WaButtonClick.addHandler(l);r=new c.UI.Link({id:x.id+c.UI.InsertImageControlTemplate.RemoveLinkPostfix,jsAction:true},{parentComponent:q});r.ButtonClick.addHandler(m);}function g(){if(j){return;}q.Dispose.fireHandlers();p.RenderComplete.removeHandler(n);p.Dispose.removeHandler(g);x=null;p=null;w=null;o=null;r=null;f=null;q.RenderComplete=null;q.Dispose=null;q.ValueChanged=null;j=true;}h();}})(window,WA);(function(e,d,c){if(!d.UI.InsertImageControlTemplate){d.UI.InsertImageControlTemplate=b;d.UI.InsertImageControlTemplate.OpenButtonPostfix="_openButton";d.UI.InsertImageControlTemplate.RemoveLinkPostfix="_removeLink";d.UI.InsertImageControlTemplate.DialogPostfix="_dlg";}function b(g){var f=d.UI.ControlLayoutTemplate;g.layoutContentHTML=a(g);return f(g);}function a(h){var f=d.UI.ContainerTemplate,g=d.UI.LinkTemplate,i=d.UI.WaButtonTemplate;return f({id:h.id,cssClass:"insertImageControl",contentHTML:i({name:h.resources.selectButtonTitle,cssClass:"openDlgBtn",id:h.id+d.UI.InsertImageControlTemplate.OpenButtonPostfix},{color:d.UI.WaButton.ButtonColor.Grey,size:d.UI.WaButton.ButtonSize.Small})+f({cssClass:"removeLinkContainer",contentHTML:g({id:h.id+d.UI.InsertImageControlTemplate.RemoveLinkPostfix,jsAction:true,cssClass:"red hidden removeImgBtn",contentText:h.resources.removeLinkTitle})})});}})(window,WA);(function(d,c,b){if(!c.UI.InsertResourceDialog){c.UI.InsertResourceDialog=a;c.UI.InsertResourceDialog.InsertResourceDialogPostfixes={InsertButtonIdPostfix:"_InsertButton",CancelButtonIdPostfix:"_CancelButton"};c.UI.InsertResourceDialog.Modes={Image:"Image",File:"File"};c.UI.InsertResourceDialog.LocalStorageKeys={ImageModeLocalStorageKey:"dialogImageModeCurrentPath",FileModeLocalStorageKey:"dialogFileModeCurrentPath",KeepOriginalSizeStorageKey:"keepOriginalImageSize"};c.UI.InsertResourceDialog.SessionTypes={UploadFile:"UploadFiles",CreateFolder:"CreateFolder",RenameFolder:"RenameFolder",DeleteFile:"DeleteFile",DeleteFolder:"DeleteFolder"};}function a(N){var aO=this,a3="WA.UI.InsertResourceDialog",a6=N,aP=a6.resources,ad={},f={},aQ=a6.rootPath.imageModeRootPath||a6.rootPath.fileModeRootPath,u,q,aS=[],aN=a6.parentComponent;aO.toString=function(){return a3;};aO.RenderComplete=c.Tools.EventHandlers.createHandlers(aO,{id:"RenderComplete"});aO.Dispose=c.Tools.EventHandlers.createHandlers(aO,{id:"Dispose"});aO.Show=c.Tools.EventHandlers.createHandlers(aO,{id:"Show"});aO.Hide=c.Tools.EventHandlers.createHandlers(aO,{id:"Hide"});aO.FilePathChange=c.Tools.EventHandlers.createHandlers(aO,{id:"FilePathChange"});aO.AddFolderButtonClick=c.Tools.EventHandlers.createHandlers(aO,{id:"AddFolderButtonClick"});aO.ResourceInsert=c.Tools.EventHandlers.createHandlers(aO,{id:"ResourceInsert"});aO.ListViewChange=c.Tools.EventHandlers.createHandlers(aO,{id:"ListViewChange"});aO.SortTypeChange=c.Tools.EventHandlers.createHandlers(aO,{id:"SortTypeChange"});aO.FilesSelect=c.Tools.EventHandlers.createHandlers(aO,{id:"FilesSelect"});aO.FilesUploaded=c.Tools.EventHandlers.createHandlers(aO,{id:"FilesUploaded"});aO.RemoveItemClick=c.Tools.EventHandlers.createHandlers(aO,{id:"RemoveItemClick"});aO.SetAccessPermissionsItemClick=c.Tools.EventHandlers.createHandlers(aO,{id:"SetAccessPermissionsItemClick"});aO.CloseDialog=c.Tools.EventHandlers.createHandlers(aO,{id:"CloseDialog"});aO.showInsertResourceDialog=a2;aO.closeInsertResourceDialog=i;aO.hide=i;aO.renderComplete=aJ;var V=false,A,a4,e,P,S,T,Q,x,y,B,n,af=aQ,t=a6.rootPath.imageModeRootPath,s=a6.rootPath.fileModeRootPath,aT,aR,p=a6.fileSortType,X=false,aa=null,Z=null,ac=null,ab=null,U=false,W=false,r={sessionType:false,newFolderName:false},Y=c.Storage.read(c.UI.InsertResourceDialog.LocalStorageKeys.KeepOriginalSizeStorageKey)=="true",E={width:1920,height:1280},o,O=a6.id+c.UI.InsertResourceDialog.InsertResourceDialogPostfixes.InsertButtonIdPostfix,g=a6.id+c.UI.InsertResourceDialog.InsertResourceDialogPostfixes.CancelButtonIdPostfix;aO.Show.addHandler(function(){waMetricsGlobalHandler({module:"RestrictedFileAccess",object:"IRD",operation:"OpenIRD"});});aO.ListViewChange.addHandler(function(a8,a7){waMetricsGlobalHandler({module:"RestrictedFileAccess",object:"IRD",operation:"ViewChange_"+a7.viewMode});});aO.FilesUploaded.addHandler(function(){waMetricsGlobalHandler({module:"RestrictedFileAccess",object:"IRD",operation:"Upload"});});aO.SetAccessPermissionsItemClick.addHandler(function(){waMetricsGlobalHandler({module:"RestrictedFileAccess",object:"IRD",operation:"AccessLink",folders:(aS.filter(function(a7){return a7.ResourceType==="Folder";})).length,files:(aS.filter(function(a7){return a7.ResourceType==="Resource";})).length,itemsIds:aS.slice(0,100).map(function(a7){return a7.Item.Properties["StorageItem:Id"];}).join(",")});});aO.ResourceInsert.addHandler(function(){waMetricsGlobalHandler({module:"RestrictedFileAccess",object:"IRD",operation:"ResourceInsert"});});aO.Hide.addHandler(function(a8,a7){if(!a7.isResourceInsert){waMetricsGlobalHandler({module:"RestrictedFileAccess",object:"IRD",operation:"MainCancel"});}});function a2(a7){X=true;U=false;W=false;u=a7.dialogMode;q=G(u);a1(u);F();A.ComponentReady.addHandler(J);Q.switchUploadToolBar(u);v();P.setWaitingState();P.show();aO.Show.fireHandlers();}function J(){A.ComponentReady.removeHandler(J);A.GetFolderItemsInfoSuccess.addHandler(az);ae();}function ae(){a4.startHandleErrors();A.getFolderItemsInfo(af);P.disableButton(O);}function a1(a7){switch(a7){case c.UI.InsertResourceDialog.Modes.Image:P.setTitle(aP.titles.imageUploadTitle);break;case c.UI.InsertResourceDialog.Modes.File:P.setTitle(aP.titles.fileUploadTitle);break;default:throw new Error("dialogMode is not supported");}}function G(a7){switch(a7){case c.UI.InsertResourceDialog.Modes.Image:return c.UI.FileListViewMode.ThumbView;case c.UI.InsertResourceDialog.Modes.File:return c.UI.FileListViewMode.TableView;default:throw new Error("dialogMode is not supported");}}function F(){switch(u){case c.UI.InsertResourceDialog.Modes.Image:K();break;case c.UI.InsertResourceDialog.Modes.File:H();break;default:}}function K(){if(c.Storage.read(c.UI.InsertResourceDialog.LocalStorageKeys.ImageModeLocalStorageKey)){var a7=c.Storage.read(c.UI.InsertResourceDialog.LocalStorageKeys.ImageModeLocalStorageKey);af=a7.indexOf(t)<0?t:a7;}else{af=t;}}function H(){if(c.Storage.read(c.UI.InsertResourceDialog.LocalStorageKeys.FileModeLocalStorageKey)){var a7=c.Storage.read(c.UI.InsertResourceDialog.LocalStorageKeys.FileModeLocalStorageKey);af=a7.indexOf(s)<0?s:a7;}else{af=s;}}function aW(a7){switch(u){case c.UI.InsertResourceDialog.Modes.Image:a0(a7);break;case c.UI.InsertResourceDialog.Modes.File:aY(a7);break;default:}}function aE(a8,a7){if(a7.checkedState==b){}Y=a7.checkedState;c.Storage.write(c.UI.InsertResourceDialog.LocalStorageKeys.KeepOriginalSizeStorageKey,Y);}function a0(a7){!c.Storage.write(c.UI.InsertResourceDialog.LocalStorageKeys.ImageModeLocalStorageKey,a7)?t=a7:c.Storage.write(c.UI.InsertResourceDialog.LocalStorageKeys.ImageModeLocalStorageKey,a7);}function aY(a7){!c.Storage.write(c.UI.InsertResourceDialog.LocalStorageKeys.FileModeLocalStorageKey,a7)?s=a7:c.Storage.write(c.UI.InsertResourceDialog.LocalStorageKeys.FileModeLocalStorageKey,a7);}function az(bb,a7){if(!a7.folderItemsInfo){throw new Error("FolderItemsInfo is undefined");}n=a7.folderInfo;aW(af);S.setLocation(af);T.setListViewSwitcherViewMode(q);ad.listItems=a7.folderItemsInfo;var a8,a9,ba;for(a8=0,ba=ad.listItems.length;a8<ba;a8++){a9=ad.listItems[a8];a9.thumb=I(a9);if(aa&&a9.displayName==aa){Z=a9.id;}if(ac&&a9.storageItemId==ac){ab=a9.id;}}aa=null;ac=null;k();P.setContent(B.render());B.renderComplete();B.setActiveItem(Z);B.setActiveItem(ab);Z=null;ab=null;X=false;a4.stopHandleErrors();P.setNormalState();z();aU();aX();}function k(){if(B){B.dispose();}B=new c.UI.FileList({id:a6.id+c.UI.FileListTemplate.IdPostfix,listItemsModel:ad,viewMode:q,fileSortType:p,resources:aP.titles,parentComponent:aO});B.FileListValueChange.addHandler(at);B.RemoveItemClick.addHandler(ar);B.SetAccessPermissionsItemClick.addHandler(aK);B.ItemMouseDown.addHandler(aD);}function aX(){if(!x){return;}if(!n.isReadOnly){y=P.getDragDropTargetContainer();x.startWatch(y);return;}x.stopWatch();}function I(a7){return(a7.isFolder||(a7.contentType).indexOf("image/")<0)?null:a7.href+"?lm="+a7.lastModified+"&width=128&height=128";}function aJ(a8,a7){P.renderComplete();}function i(){R();P.hide();}function R(){if(x){x.stopWatch();}P.disableButton(O);S.enableBreadCrumbs();Q.switchUploadToolBar(u);T.setAddFolderButtonState(c.UI.ButtonLight.State.Default);T.setRenameFolderButtonState(c.UI.ButtonLight.State.Disabled);a4.disposeAlarmWindow();a4.stopHandleErrors();if(e){e.hide();}A.cancelUpload();A.GetFolderItemsInfoSuccess.removeHandler(az);aO.Hide.fireHandlers({isAnyFileUploaded:U,isResourceInsert:W});}function aC(a8,a7){if(!a7){throw new Error("Button is undefined");}switch(a7.id){case g:i();return;case O:aB();return;default:}}function av(a8,a7){if(!a7){throw new Error("File path is undefined");}h(a7.href);aO.FilePathChange.fireHandlers({href:a7.href});}function ah(a9,a7){var a8={folderName:"",editMode:c.UI.EditFolderToolBar.Mode.AddFolder,dialogMode:u};aV();v();T.setRenameFolderButtonState(c.UI.ButtonLight.State.Disabled);Q.showEditFolderToolBar(a8);}function aH(a9,a7){var a8={folderName:aR.displayName,editMode:c.UI.EditFolderToolBar.Mode.RenameFolder,dialogMode:u};aV();v();T.setAddFolderButtonState(c.UI.ButtonLight.State.Disabled);Q.showEditFolderToolBar(a8);}function aF(a8,a7){if(!a7||!a7.viewMode){return;}q=a7.viewMode;P.disableButton(O);B.changeViewMode(a7.viewMode);P.recalculateScroll();aO.ListViewChange.fireHandlers(a7);}function aM(a8,a7){if(!a7||!a7.sortType){return;}p=a7.sortType;B.sortFiles(p);B.setActiveItem(aT);}function ar(a9,a7){var a8=a7.isFolder?aP.confirmations.deleteFolder:aP.confirmations.deleteFile;if(confirm(a8)){v();aV();a4.startHandleErrors({sessionType:a7.isFolder?c.UI.InsertResourceDialog.SessionTypes.DeleteFolder:c.UI.InsertResourceDialog.SessionTypes.DeleteFile});aR=D(ad.listItems,a7.id);A.deleteItem(aR.href,a7.isFolder);}}function aK(a8,a7){ac=a7.id;aS[0]={Item:{Properties:{"StorageItem:Id":a7.id}}};aS[0].ResourceType=a7.isFolder?"Folder":"Resource";e.DialogClosed.addHandler(ag);e.show(aS);e.SnapshotRestored.addHandler(aL);v();aV();aO.SetAccessPermissionsItemClick.fireHandlers();}function ag(){P.setNormalState();z();ae();e.DialogClosed.removeHandler(ag);}function aL(){ae();e.SnapshotRestored.removeHandler(aL);}function aV(){x.stopWatch();P.setShadingState();}function at(a8,a7){aT=a7.value;if(!aT){return;}aR=D(ad.listItems,aT);if(!aR.isFolder){P.enableButton(O);}else{P.disableButton(O);}aZ(aR);switch(u){case c.UI.InsertResourceDialog.Modes.Image:aA(aR,a7.selectEvent);break;case c.UI.InsertResourceDialog.Modes.File:au(aR,a7.selectEvent);break;}}function aZ(a7){if(!a7||a7.isReadOnly===true||a7.contentType){T.setRenameFolderButtonState(c.UI.ButtonLight.State.Disabled);}else{T.setRenameFolderButtonState(c.UI.ButtonLight.State.Default);}if(n&&n.isReadOnly===true){T.setAddFolderButtonState(c.UI.ButtonLight.State.Disabled);}else{T.setAddFolderButtonState(c.UI.ButtonLight.State.Default);}}function aA(a8,a7){if(!a8.isFolder&&a8.contentType.indexOf("image/")<0){P.disableButton(O);if(a7==c.UI.ListControl.SelectEvent.DoubleClick){return;}}if(a7==c.UI.ListControl.SelectEvent.DoubleClick){if(a8.isFolder){h(a8.href);return;}aB();}}function au(a8,a7){if(a7==c.UI.ListControl.SelectEvent.DoubleClick){if(a8.isFolder){h(a8.href);return;}aB();}}function h(a7){v();P.disableButton(O);aR=null;af=a7;x.stopWatch();ae();P.setWaitingState();}function aB(){W=true;aO.ResourceInsert.fireHandlers({selectedItem:aR,isAnyFileUploaded:U,isKeepOriginalImageSize:Y});i();}function D(a8,a9){var a7;for(a7=0;a7<a8.length;a7++){if(a8[a7].id==a9){return a8[a7];}}}function am(a8,a7){C(a7);}function aq(a8,a7){C(a7);}function C(a7){if(!o){o=c.Object.copy(r);o.sessionType=c.UI.InsertResourceDialog.SessionTypes.UploadFile;}a4.startHandleErrors({sessionType:c.UI.InsertResourceDialog.SessionTypes.UploadFile});v();P.setWaitingState();x.stopWatch();A.uploadFiles({uploadUrl:af,fileList:a7.files,friendlyViewPortSize:Y?null:E});}function ai(a8,a7){aa=a7.lastFileUploaded;U=true;if(a4){a4.stopHandleErrors();o=null;}ae();aO.FilesUploaded.fireHandlers();}function ao(a8,a7){switch(a7.errorStatus){case c.FileBrowserErrorStatus.UploadFileErrorStructureInterrupted:break;case c.FileBrowserErrorStatus.GeneralFileStructureError:if(X){a4.suppressErrorProcessing(true);h(c.Url.getParentUrl(af));}else{a4.ErrorProcessingEnd.addHandler(aw);}break;case c.FileBrowserErrorStatus.UnableToCreateFolderAlreadyExists:case c.FileBrowserErrorStatus.UnableToRenameFolderAlreadyExists:ay({errorStatus:a7.errorStatus,folderName:a7.additionalInfo.folderName});break;}}function ap(){a4.suppressErrorProcessing(false);}function aw(a8,a7){a4.suppressErrorProcessing(true);h(c.Url.getParentUrl(af),true);a4.ErrorProcessingEnd.removeHandler(aw);}function v(){S.disableBreadCrumbs();T.disableToolBar();Q.disableToolBar(u);}function z(){S.enableBreadCrumbs();T.enableToolBar(q);Q.enableToolBar(u);aZ();}function aU(){if(n.isReadOnly===true){Q.showReadOnlyFolderToolBar();return;}Q.switchUploadToolBar(u);}function an(a8,a7){aU();aX();z();if(aR&&aR.isFolder){T.setRenameFolderButtonState(c.UI.ButtonLight.State.Default);}else{T.setRenameFolderButtonState(c.UI.ButtonLight.State.Disabled);}P.setNormalState();}function aj(a8,a7){if(!a7||!a7.newFolderName){return;}if(a5(a7.newFolderName,ad.listItems)){if(!o){o=c.Object.copy(r);o.sessionType=c.UI.InsertResourceDialog.SessionTypes.CreateFolder;o.newFolderName=a7.newFolderName;}aX();a4.startHandleErrors({sessionType:c.UI.InsertResourceDialog.SessionTypes.CreateFolder});A.createFolder(af,c.String.gtrim(a7.newFolderName));Q.switchUploadToolBar(u);v();P.setWaitingState();}}function ak(a8,a7){if(a4){a4.stopHandleErrors();o=null;}ae();}function al(a8,a7){if(a4){a4.stopHandleErrors();o=null;}ae();}function ay(a7){var a9={folderName:a7.folderName||"",editMode:Q.getEditFolderToolBarCurrentMode(),dialogMode:u},a8=[];a8.push(aP.toolBars.advancedToolBar.editToolBar.warningMessages.folderExists);aV();v();Q.showEditFolderToolBar(a9);Q.onFolderValidate(a8);}function aG(a8,a7){if(!a7||!a7.newFolderName){return;}if(c.String.gtrim(a7.newFolderName)==aR.displayName){Q.switchUploadToolBar(u);z();T.setRenameFolderButtonState(c.UI.ButtonLight.State.Default);P.setNormalState();return;}if(a5(a7.newFolderName,ad.listItems)){if(!o){o=c.Object.copy(r);o.sessionType=c.UI.InsertResourceDialog.SessionTypes.RenameFolder;o.newFolderName=a7.newFolderName;}aX();a4.startHandleErrors({sessionType:c.UI.InsertResourceDialog.SessionTypes.RenameFolder});A.RenameItemSuccess.addHandler(aI);A.renameItem(af,aR.href,c.String.gtrim(a7.newFolderName));Q.switchUploadToolBar(u);v();P.setWaitingState();}}function aI(a8,a7){if(a4){a4.stopHandleErrors();o=null;}ae();}function a5(a9,a8){var a7=c.UI.FileList.ValidationHelper.validateFolderExisting(a9,a8,aP.toolBars.advancedToolBar.editToolBar.warningMessages);if(a7&&a7.length>0){Q.onFolderValidate(a7);return false;}else{return true;}}function l(){P=new c.UI.WaDialogV2({id:a6.id+"_InsertResourceDialog",cssClass:"insertResourceDialog",mainToolBarEnabled:true,advancedToolBarEnabled:true},{headerBackgroundColor:c.UI.WaDialogV2Template.HeaderBackgroundColor.White,titleText:"",showTitle:true,displayMode:c.UI.WaDialogV2.DisplayMode.FullScreen,minWidth:a6.minWidth||600,minHeight:a6.minHeight||200,buttons:[{model:{id:O,name:aP.buttons.insertButtonName,enabled:false},args:{color:c.UI.WaButton.ButtonColor.Default}},{model:{id:g,name:aP.buttons.cancelButtonName},args:{color:c.UI.WaButton.ButtonColor.Grey}}],parentComponent:aO});P.ActionButtonClick.addHandler(aC);P.Cancel.addHandler(R);}function L(){return[{contentText:aP.sortTypes.sortByNameAsc,value:"SortByNameAsc"},{contentText:aP.sortTypes.sortByNameDes,value:"SortByNameDes"},{contentText:aP.sortTypes.sortByDateDes,value:"SortByDateDes"},{contentText:aP.sortTypes.sortByDateAsc,value:"SortByDateAsc"},{contentText:aP.sortTypes.sortByTypeAsc,value:"SortByTypeAsc"},{contentText:aP.sortTypes.sortByTypeDes,value:"SortByTypeDes"},{contentText:aP.sortTypes.sortBySizeDes,value:"SortBySizeDes"},{contentText:aP.sortTypes.sortBySizeAsc,value:"SortBySizeAsc"}];}function m(){S=new c.UI.InsertResourceDialogToolBarLeft({id:a6.id+c.UI.InsertResourceDialogToolBarLeftTemplate.IdPostfix,breadCrumbsModel:{path:aQ},parentComponent:P});S.FilePathChange.addHandler(av);T=new c.UI.InsertResourceDialogToolBarRight({id:a6.id+c.UI.InsertResourceDialogToolBarRightTemplate.IdPostfix,editFolderControl:{resources:aP.toolBars.mainToolBar.editFolderControl},listViewSwitcher:{resources:aP.toolBars.mainToolBar.listViewSwitcher},sortOrderSwitcher:{sortTypes:L(),value:p},parentComponent:P});T.AddFolderButtonClick.addHandler(ah);T.RenameFolderButtonClick.addHandler(aH);T.ListViewChange.addHandler(aF);T.SortTypeChange.addHandler(aM);Q=new c.UI.InsertResourceDialogAdvancedToolBar({id:a6.id+c.UI.InsertResourceDialogAdvancedToolBarTemplate.IdPostfix,resources:aP.toolBars.advancedToolBar,keepOriginalImageSize:Y,parentComponent:P});Q.FilesSelect.addHandler(aq);Q.KeepOriginal.addHandler(aE);Q.EditFolderToolBarClose.addHandler(an);Q.CreateFolder.addHandler(aj);Q.RenameFolder.addHandler(aG);}function j(){if(typeof(d.File&&d.FileList&&d.FileReader)!=b){x=new c.UI.DragDropSelector({id:a6.id+c.UI.DragDropSelectorTemplate.idPostfix,parentComponent:aO,resources:aP.dragDropSelector});x.FilesSelect.addHandler(am);}}function ax(a8,a7){if(!a7||!a7.errorStatus){J();}switch(a7.errorStatus){case c.FileBrowserErrorStatus.UploadFileErrorStructureInterrupted:X=true;h(c.Url.getParentUrl(af));break;case c.FileBrowserErrorStatus.RenameFolderGeneralError:case c.FileBrowserErrorStatus.CreateFolderGeneralError:X=true;h(c.Url.getParentUrl(af));break;case c.FileBrowserErrorStatus.GeneralRequestException:i();break;default:J();}}function aD(a8,a7){a7=a7||{};if(a7.event&&a7.event.button==2){waMetricsGlobalHandler({module:"RestrictedFileAccess",object:"IRD",operation:"RightClick_"+q});}}function M(){aN.RenderComplete.addHandler(aJ);aN.Dispose.addHandler(w);A=new c.FileBrowser.FileBrowserApi({parentComponent:aO});A.AllFilesUploaded.addHandler(ai);A.FilesUploadCancel.addHandler(ax);A.CreateFolderSuccess.addHandler(ak);A.DeleteItemSuccess.addHandler(al);a4=new c.UI.UploadWarningManager({id:a6.id+"_UploadWarningManager",fileBrowserApi:A,resources:a6.uploadWarningManager,parentComponent:aO});a4.ErrorProcessingBegin.addHandler(ao);a4.ErrorProcessingEnd.addHandler(ap);l();m();P.setLeftToolBarComponents([S]);P.setRightToolBarComponents([T]);P.setAdvancedToolBarComponents([Q]);j();e=new c.Admin.UI.AjaxFileBrowserAccessPermissionsDialog({id:"idIrdAccessPermissionsContainer",culture:"en",cssClass:"irdAccessPermissionsDialog"},{parentComponent:aO});}function w(){if(V){return;}aO.Dispose.fireHandlers();aN.RenderComplete.removeHandler(aJ);aN.Dispose.removeHandler(w);a6=null;aN=null;A=null;a4=null;P=null;S=null;T=null;Q=null;x=null;y=null;B=null;f=null;aT=null;aR=null;O=null;g=null;p=null;aQ=null;af=null;t=null;s=null;r=null;o=null;Y=null;E=null;aO.RenderComplete=null;aO.Dispose=null;aO.FilePathChange=null;aO.AddFolderButtonClick=null;aO.ListViewChange=null;aO.ResourceInsert=null;aO.RemoveItemClick=null;aO.SetAccessPermissionsItemClick=null;aO.SortTypeChange=null;aO.DialogClosed=null;aO.Show=null;aO.Hide=null;V=true;}M();}})(window,WA);(function(d,c,b){if(!c.UI.FileExistsAlarmWindow){c.UI.FileExistsAlarmWindow=a;}function a(k){var t=this,w="WA.UI.FileExistsAlarmWindow",x=k,s=x.parentComponent;t.toString=function(){return w;};t.RenderComplete=c.Tools.EventHandlers.createHandlers(t,{id:"RenderComplete"});t.Dispose=c.Tools.EventHandlers.createHandlers(t,{id:"Dispose"});t.SkipButtonClick=c.Tools.EventHandlers.createHandlers(t,{id:"SkipButtonClick"});t.OverwriteButtonClick=c.Tools.EventHandlers.createHandlers(t,{id:"OverwriteButtonClick"});t.CloseAlarmWindowButtonClick=c.Tools.EventHandlers.createHandlers(t,{id:"CloseAlarmWindowButtonClick"});t.ApplyForAll=c.Tools.EventHandlers.createHandlers(t,{id:"ApplyForAll"});var l=false,q,r=x.id+"_OverwriteButton",v=x.id+"_SkipButton",u,e,f=x.id+"_AllFiles",h=x.id+"_dialog",g;t.dispose=i;function o(z,y){t.OverwriteButtonClick.fireHandlers();}function p(z,y){t.SkipButtonClick.fireHandlers();}function n(z,y){t.CloseAlarmWindowButtonClick.fireHandlers();}function m(z,y){if(y.checkedState==b){}t.ApplyForAll.fireHandlers({checkedState:y.checkedState});}function j(){s.Dispose.addHandler(i);g=new c.UI.WaDialogV2({id:h},{displayMode:c.UI.WaDialogV2.DisplayMode.Alarm,windowResizeWatcherEnabled:true,scrollDisabled:true,showTabs:false,minWidth:400,maxWidth:400,minHeight:200,maxHeight:200,parentComponent:t});g.Cancel.addHandler(n);g.setContent(c.UI.FileExistsAlarmWindowTemplate(x,{replaceButtonId:r,skipButtonId:v,applyForAllCheckBoxId:f,applyForAllCheckBoxTitle:x.resources.allFilesCheckBox.title}));e=new c.UI.CheckBox({id:f,value:"applyForAll",checked:false},{parentComponent:t});e.ValueChanged.addHandler(m);q=new c.UI.WaButton({id:r},{parentComponent:t});q.WaButtonClick.addHandler(o);u=new c.UI.WaButton({id:v},{parentComponent:t});u.WaButtonClick.addHandler(p);t.RenderComplete.fireHandlers();g.show();}function i(){if(l){return;}t.Dispose.fireHandlers();s.Dispose.removeHandler(i);g=null;x=null;s=null;t.RenderComplete=null;t.Dispose=null;t.SkipButtonClick=null;t.OverwriteButtonClick=null;t.CloseAlarmWindowButtonClick=null;t.ApplyForAll=null;l=true;q=null;u=null;e=null;}j();}})(window,WA);(function(d,c,b){if(!c.UI.FileExistsAlarmWindowTemplate){c.UI.FileExistsAlarmWindowTemplate=a;}function a(h,f){var g=c.UI.ContainerTemplate,i=c.UI.ParagraphTemplate,j=c.UI.WaButtonTemplate,k=c.UI.WaButtonTemplate,e=c.UI.CheckBoxTemplate;return g({cssClass:"alarmWindowContent",contentHTML:i({id:h.id,contentHTML:g({contentText:h.resources.warningMessages.fileExists})})+i({cssClass:"buttonsParagraph",contentHTML:j({cssClass:"alarmFirstButton",id:f.replaceButtonId,name:h.resources.buttons.replaceButtonName,minWidth:58},{color:c.UI.WaButton.ButtonColor.Grey,size:c.UI.WaButton.ButtonSize.Default})+k({id:f.skipButtonId,name:h.resources.buttons.skipButtonName,minWidth:58},{color:c.UI.WaButton.ButtonColor.Grey,size:c.UI.WaButton.ButtonSize.Default})})+g({cssClass:"selectAll",contentHTML:e({id:f.applyForAllCheckBoxId,controlContainerDisplayType:c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed,contentText:f.applyForAllCheckBoxTitle,width:140})})});}})(window,WA);(function(d,c,b){if(!c.UI.FileIncorrectAlarmWindow){c.UI.FileIncorrectAlarmWindow=a;}function a(k){var q=this,t="WA.UI.FileIncorrectAlarmWindow",u=k,p=u.parentComponent;q.toString=function(){return t;};q.RenderComplete=c.Tools.EventHandlers.createHandlers(q,{id:"RenderComplete"});q.Dispose=c.Tools.EventHandlers.createHandlers(q,{id:"Dispose"});q.SkipButtonClick=c.Tools.EventHandlers.createHandlers(q,{id:"SkipButtonClick"});q.CloseAlarmWindowButtonClick=c.Tools.EventHandlers.createHandlers(q,{id:"CloseAlarmWindowButtonClick"});q.ApplyForAll=c.Tools.EventHandlers.createHandlers(q,{id:"ApplyForAll"});var l=false,r,s=u.id+"_SkipButton",e,f=u.id+"_AllFiles",g,h=u.id+"_dialog";q.dispose=i;function o(w,v){q.SkipButtonClick.fireHandlers();}function n(w,v){q.CloseAlarmWindowButtonClick.fireHandlers();}function m(w,v){if(v.checkedState==b){}q.ApplyForAll.fireHandlers({checkedState:v.checkedState});}function j(){p.Dispose.addHandler(i);g=new c.UI.WaDialogV2({id:h},{displayMode:c.UI.WaDialogV2.DisplayMode.Alarm,windowResizeWatcherEnabled:true,scrollDisabled:true,showTabs:false,minWidth:400,maxWidth:400,minHeight:180,maxHeight:180,parentComponent:q});g.Cancel.addHandler(n);g.setContent(c.UI.FileIncorrectAlarmWindowTemplate(u,{skipButtonId:s,applyForAllCheckBoxId:f,applyForAllCheckBoxTitle:u.resources.allFilesCheckBox.title}));e=new c.UI.CheckBox({id:f,value:"applyForAll",checked:false},{parentComponent:q});e.ValueChanged.addHandler(m);r=new c.UI.WaButton({id:s},{parentComponent:q});r.WaButtonClick.addHandler(o);q.RenderComplete.fireHandlers();g.show();}function i(){if(l){return;}q.Dispose.fireHandlers();p.Dispose.removeHandler(i);u=null;p=null;q.RenderComplete=null;q.Dispose=null;q.SkipButtonClick=null;q.CloseAlarmWindowButtonClick=null;q.ApplyForAll=null;l=true;}j();}})(window,WA);(function(e,d,c){if(!d.UI.FileIncorrectAlarmWindowTemplate){d.UI.FileIncorrectAlarmWindowTemplate=a;}function a(i,g){var h=d.UI.ContainerTemplate,j=d.UI.ParagraphTemplate,k=d.UI.WaButtonTemplate,f=d.UI.CheckBoxTemplate;return h({cssClass:"alarmWindowContent",contentHTML:j({contentHTML:h({contentHTML:b(i.errorStatus,i.resources.warningMessages)})})+j({cssClass:"buttonsParagraph",contentHTML:k({id:g.skipButtonId,name:i.resources.buttons.skipButtonName,minWidth:58},{color:d.UI.WaButton.ButtonColor.Grey,size:d.UI.WaButton.ButtonSize.Default})})+h({cssClass:"selectAll",contentHTML:f({id:g.applyForAllCheckBoxId,controlContainerDisplayType:d.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed,contentText:g.applyForAllCheckBoxTitle,width:140})})});}function b(f,g){switch(f){case d.FileBrowserErrorStatus.BadFileSize:return g.fileSizeExceed;case d.FileBrowserErrorStatus.BadFileName:return g.fileNameIncorrect;case d.FileBrowserErrorStatus.BadFileType:return g.fileTypeIncorrect;default:throw new Error("unsupported status: "+f);}}})(window,WA);(function(d,c,b){if(!c.UI.GenericFileStructureErrorAlarmWindow){c.UI.GenericFileStructureErrorAlarmWindow=a;}function a(i){var m=this,n="WA.UI.GenericFileStructureErrorAlarmWindow",o=i,l=o.parentComponent;m.toString=function(){return n;};m.RenderComplete=c.Tools.EventHandlers.createHandlers(m,{id:"RenderComplete"});m.Dispose=c.Tools.EventHandlers.createHandlers(m,{id:"Dispose"});m.CloseAlarmWindowButtonClick=c.Tools.EventHandlers.createHandlers(m,{id:"CloseAlarmWindowButtonClick"});var j=false,e,f=o.id+"_dialog";m.dispose=g;function k(){m.CloseAlarmWindowButtonClick.fireHandlers();}function h(){l.Dispose.addHandler(g);e=new c.UI.WaDialogV2({id:f},{displayMode:c.UI.WaDialogV2.DisplayMode.Alarm,windowResizeWatcherEnabled:true,scrollDisabled:true,showTabs:false,minWidth:400,maxWidth:400,minHeight:110,maxHeight:110,parentComponent:m});e.Cancel.addHandler(k);e.setContent(c.UI.GenericFileStructureErrorAlarmWindowTemplate(o));m.RenderComplete.fireHandlers();e.show();}function g(){if(j){return;}m.Dispose.fireHandlers();l.Dispose.removeHandler(g);o=null;l=null;m.RenderComplete=null;m.Dispose=null;m.CloseAlarmWindowButtonClick=null;j=true;}h();}})(window,WA);(function(d,c,b){if(!c.UI.GenericFileStructureErrorAlarmWindowTemplate){c.UI.GenericFileStructureErrorAlarmWindowTemplate=a;c.UI.GenericFileStructureErrorAlarmWindowTemplate_IdPostfix="_WarningInsufficientSpaceToolBar";c.UI.GenericFileStructureErrorAlarmWindowTemplate_IdCloseIconPostfix="_CloseIcon";}function a(f){var e=c.UI.ContainerTemplate;return e({id:f.id,cssClass:"genericFileStructureErrorToolBar",contentHTML:e({cssClass:"genericFileStructureErrorToolBarLeftContainer",contentText:f.resources.warningMessages.fileStructureError})});}})(window,WA);(function(d,c,b){if(!c.UI.GenericFileUploadAlarmWindow){c.UI.GenericFileUploadAlarmWindow=a;}function a(i){var o=this,t="WA.UI.GenericFileUploadAlarmWindow",u=i,n=u.parentComponent;o.toString=function(){return t;};o.RenderComplete=c.Tools.EventHandlers.createHandlers(o,{id:"RenderComplete"});o.Dispose=c.Tools.EventHandlers.createHandlers(o,{id:"Dispose"});o.SkipButtonClick=c.Tools.EventHandlers.createHandlers(o,{id:"SkipButtonClick"});o.CloseAlarmWindowButtonClick=c.Tools.EventHandlers.createHandlers(o,{id:"CloseAlarmWindowButtonClick"});o.RepeatFileUpload=c.Tools.EventHandlers.createHandlers(o,{id:"RepeatFileUpload"});var j=false,p,r,q=u.id+"_RepeatUpload",s=u.id+"_SkipButton",e,f=u.id+"_dialog";o.dispose=g;function m(w,v){o.SkipButtonClick.fireHandlers();}function k(w,v){o.CloseAlarmWindowButtonClick.fireHandlers();}function l(w,v){o.RepeatFileUpload.fireHandlers();}function h(){n.Dispose.addHandler(g);e=new c.UI.WaDialogV2({id:f},{displayMode:c.UI.WaDialogV2.DisplayMode.Alarm,windowResizeWatcherEnabled:true,scrollDisabled:true,showTabs:false,minWidth:400,maxWidth:400,minHeight:150,maxHeight:150,parentComponent:o});e.Cancel.addHandler(k);e.setContent(c.UI.GenericFileUploadAlarmWindowTemplate(u,{repeatUploadButtonId:q,skipButtonId:s}));p=new c.UI.WaButton({id:q},{parentComponent:o});p.WaButtonClick.addHandler(l);r=new c.UI.WaButton({id:s},{parentComponent:o});r.WaButtonClick.addHandler(m);o.RenderComplete.fireHandlers();e.show();}function g(){if(j){return;}o.Dispose.fireHandlers();n.Dispose.removeHandler(g);e=null;u=null;n=null;o.RenderComplete=null;o.Dispose=null;o.SkipButtonClick=null;o.CloseAlarmWindowButtonClick=null;o.RepeatFileUpload=null;j=true;p=null;r=null;}h();}})(window,WA);(function(d,c,b){if(!c.UI.GenericFileUploadAlarmWindowTemplate){c.UI.GenericFileUploadAlarmWindowTemplate=a;}function a(g,e){var f=c.UI.ContainerTemplate,h=c.UI.ParagraphTemplate,i=c.UI.WaButtonTemplate,j=c.UI.WaButtonTemplate;return f({cssClass:"alarmWindowContent",id:g.id,contentHTML:h({contentHTML:f({contentText:g.resources.warningMessages.genericErrorMessage})})+i({cssClass:"alarmFirstButton",id:e.repeatUploadButtonId,name:g.resources.buttons.repeatUploadButtonName,minWidth:58},{color:c.UI.WaButton.ButtonColor.Grey,size:c.UI.WaButton.ButtonSize.Default})+j({id:e.skipButtonId,name:g.resources.buttons.skipButtonName,minWidth:58},{color:c.UI.WaButton.ButtonColor.Grey,size:c.UI.WaButton.ButtonSize.Default})});}})(window,WA);(function(d,c,b){if(!c.UI.GenericRequestAlarmWindow){c.UI.GenericRequestAlarmWindow=a;}function a(i){var n=this,q="WA.UI.GenericRequestAlarmWindow",r=i,m=r.parentComponent;n.toString=function(){return q;};n.RenderComplete=c.Tools.EventHandlers.createHandlers(n,{id:"RenderComplete"});n.Dispose=c.Tools.EventHandlers.createHandlers(n,{id:"Dispose"});n.RepeatActionButtonClick=c.Tools.EventHandlers.createHandlers(n,{id:"RepeatActionButtonClick"});n.CloseAlarmWindowButtonClick=c.Tools.EventHandlers.createHandlers(n,{id:"CloseAlarmWindowButtonClick"});var j=false,o,p=r.id+"_RepeatAction",e,f=r.id+"_dialog";n.dispose=g;function l(t,s){if(i.showTryAgain){n.RepeatActionButtonClick.fireHandlers();return;}n.CloseAlarmWindowButtonClick.fireHandlers();}function k(t,s){n.CloseAlarmWindowButtonClick.fireHandlers();}function h(){m.Dispose.addHandler(g);e=new c.UI.WaDialogV2({id:f},{displayMode:c.UI.WaDialogV2.DisplayMode.Alarm,windowResizeWatcherEnabled:true,scrollDisabled:true,showTabs:false,minWidth:400,maxWidth:400,minHeight:150,maxHeight:150,parentComponent:n});e.Cancel.addHandler(k);e.setContent(c.UI.GenericRequestAlarmWindowTemplate(r,{repeatActionButtonId:p}));o=new c.UI.WaButton({id:p},{parentComponent:n});o.WaButtonClick.addHandler(l);n.RenderComplete.fireHandlers();e.show();}function g(){if(j){return;}n.Dispose.fireHandlers();m.Dispose.removeHandler(g);e=null;r=null;m=null;n.RenderComplete=null;n.Dispose=null;n.RepeatActionButtonClick=null;n.CloseAlarmWindowButtonClick=null;j=true;o=null;}h();}})(window,WA);(function(e,d,c){if(!d.UI.GenericRequestAlarmWindowTemplate){d.UI.GenericRequestAlarmWindowTemplate=a;}function a(h,f){var g=d.UI.ContainerTemplate,i=d.UI.ParagraphTemplate,j=d.UI.WaButtonTemplate;return g({cssClass:"alarmWindowContent",id:h.id,contentHTML:i({contentHTML:g({contentText:b(h)})})+j({id:f.repeatActionButtonId,name:h.showTryAgain?h.resources.buttons.repeatActionButtonName:h.resources.buttons.okButtonName,minWidth:58},{color:d.UI.WaButton.ButtonColor.Grey,size:d.UI.WaButton.ButtonSize.Default})});}function b(f){switch(f.errorStatus){case d.FileBrowserErrorStatus.CreateFolderGeneralError:return f.resources.warningMessages.createFolderErrorMessage;case d.FileBrowserErrorStatus.RenameFolderGeneralError:return f.resources.warningMessages.renameFolderErrorMessage;case d.FileBrowserErrorStatus.GeneralRequestException:return f.resources.warningMessages.generalRequestExceptionMessage;case d.FileBrowserErrorStatus.DeleteFileError:return f.resources.warningMessages.deleteFileExceptionMessage;case d.FileBrowserErrorStatus.DeleteFolderError:return f.resources.warningMessages.deleteFolderExceptionMessage;default:}}})(window,WA);(function(d,c,b){if(!c.UI.InsufficientSpaceAlarmWindow){c.UI.InsufficientSpaceAlarmWindow=a;}function a(i){var m=this,n="WA.UI.InsufficientSpaceAlarmWindow",o=i,l=o.parentComponent;m.toString=function(){return n;};m.RenderComplete=c.Tools.EventHandlers.createHandlers(m,{id:"RenderComplete"});m.Dispose=c.Tools.EventHandlers.createHandlers(m,{id:"Dispose"});m.CloseAlarmWindowButtonClick=c.Tools.EventHandlers.createHandlers(m,{id:"CloseAlarmWindowButtonClick"});var j=false,e,f=o.id+"_dialog";m.dispose=g;function k(){m.CloseAlarmWindowButtonClick.fireHandlers();}function h(){l.Dispose.addHandler(g);e=new c.UI.WaDialogV2({id:f},{displayMode:c.UI.WaDialogV2.DisplayMode.Alarm,windowResizeWatcherEnabled:true,scrollDisabled:true,showTabs:false,minWidth:400,maxWidth:400,minHeight:120,maxHeight:120,parentComponent:m});e.Cancel.addHandler(k);e.setContent(c.UI.InsufficientSpaceAlarmWindowTemplate(o));m.RenderComplete.fireHandlers();e.show();}function g(){if(j){return;}m.Dispose.fireHandlers();l.Dispose.removeHandler(g);o=null;l=null;m.CloseAlarmWindowButtonClick=null;m.RenderComplete=null;m.Dispose=null;j=true;}h();}})(window,WA);(function(d,c,b){if(!c.UI.InsufficientSpaceAlarmWindowTemplate){c.UI.InsufficientSpaceAlarmWindowTemplate=a;}function a(f){var e=c.UI.ContainerTemplate;return e({id:f.id,cssClass:"alarmWindowContent",contentHTML:f.resources.warningMessages.insufficientSpaceErrorMessage});}})(window,WA);(function(d,c,b){if(!c.UI.EditFolderControl){c.UI.EditFolderControl=a;}function a(i){var m=this,s="WA.UI.EditFolderControl",t=i,l=i.parentComponent;m.toString=function(){return s;};m.RenderComplete=c.Tools.EventHandlers.createHandlers(m,{id:"RenderComplete"});m.Dispose=c.Tools.EventHandlers.createHandlers(m,{id:"Dispose"});m.AddFolderButtonClick=c.Tools.EventHandlers.createHandlers(m,{id:"AddFolderButtonClick"});m.RenameFolderButtonClick=c.Tools.EventHandlers.createHandlers(m,{id:"RenameFolderButtonClick"});var j=false,e,n;m.render=p;m.setAddFolderButtonState=q;m.setRenameFolderButtonState=r;function p(){return c.UI.EditFolderControlTemplate(t);}function k(v,u){m.RenderComplete.fireHandlers();}function f(v,u){if(!u){return;}q(c.UI.ButtonLight.State.Active);m.AddFolderButtonClick.fireHandlers();}function o(v,u){if(!u){return;}r(c.UI.ButtonLight.State.Active);m.RenameFolderButtonClick.fireHandlers();}function r(u){n.setState(u);}function q(u){e.setState(u);}function h(){e=new c.UI.ButtonLight({id:t.id+c.UI.EditFolderControlTemplate.IdButtonAddFolderPostfix,parentComponent:m});e.ButtonClick.addHandler(f);n=new c.UI.ButtonLight({id:t.id+c.UI.EditFolderControlTemplate.IdButtonRenameFolderPostfix,state:c.UI.ButtonLight.State.Disabled,parentComponent:m});n.ButtonClick.addHandler(o);l.RenderComplete.addHandler(k);l.Dispose.addHandler(g);}function g(){if(j){return;}m.Dispose.fireHandlers();l.RenderComplete.removeHandler(k);l.Dispose.removeHandler(g);t=null;l=null;m.RenderComplete=null;m.Dispose=null;m.AddFolderButtonClick=null;m.RenameFolderButtonClick=null;e=null;n=null;j=true;}h();}})(window,WA);(function(d,c,b){if(!c.UI.EditFolderControlTemplate){c.UI.EditFolderControlTemplate=a;c.UI.EditFolderControlTemplate.IdPostfix="_editFolderControl";c.UI.EditFolderControlTemplate.IdButtonAddFolderPostfix="_ButtonAddFolder";c.UI.EditFolderControlTemplate.IdButtonRenameFolderPostfix="_ButtonEditFolder";c.UI.EditFolderControlTemplate.CssClasses={AddFolderButtonClick:"addFolder",RenameFolderButtonClick:"renameFolder"};}function a(g){var f=c.UI.ContainerTemplate,e=c.UI.ButtonLightTemplate;return f({id:g.id,cssClass:"editFolderButtonsContainer",contentHTML:e({id:g.id+c.UI.EditFolderControlTemplate.IdButtonAddFolderPostfix,title:g.resources.buttons.addFolderButtonTitle,cssClass:c.UI.EditFolderControlTemplate.CssClasses.AddFolderButtonClick})+e({id:g.id+c.UI.EditFolderControlTemplate.IdButtonRenameFolderPostfix,title:g.resources.buttons.renameFolderButtonTitle,cssClass:c.UI.EditFolderControlTemplate.CssClasses.RenameFolderButtonClick})});}})(window,WA);(function(d,c,b){if(!c.UI.InsertResourceDialogAdvancedToolBar){c.UI.InsertResourceDialogAdvancedToolBar=a;}function a(q){var A=this,I="WA.UI.InsertResourceDialogAdvancedToolBar",J=q,z=J.parentComponent;A.toString=function(){return I;};A.RenderComplete=c.Tools.EventHandlers.createHandlers(A,{id:"RenderComplete"});A.Dispose=c.Tools.EventHandlers.createHandlers(A,{id:"Dispose"});A.FilesSelect=c.Tools.EventHandlers.createHandlers(A,{id:"FileSelect"});A.KeepOriginal=c.Tools.EventHandlers.createHandlers(A,{id:"KeepOriginal"});A.EditFolderToolBarClose=c.Tools.EventHandlers.createHandlers(A,{id:"EditFolderToolBarClose"});A.CreateFolder=c.Tools.EventHandlers.createHandlers(A,{id:"CreateFolder"});A.RenameFolder=c.Tools.EventHandlers.createHandlers(A,{id:"RenameFolder"});var r=false,e,m,o,k,B;A.render=C;A.switchUploadToolBar=H;A.showEditFolderToolBar=D;A.showReadOnlyFolderToolBar=G;A.onFolderValidate=v;A.getEditFolderToolBarCurrentMode=n;A.disableToolBar=i;A.enableToolBar=l;function i(K){switch(K){case c.UI.InsertResourceDialog.Modes.Image:o.disableToolBar();break;case c.UI.InsertResourceDialog.Modes.File:m.disableToolBar();break;}}function l(K){switch(K){case c.UI.InsertResourceDialog.Modes.Image:o.enableToolBar();break;case c.UI.InsertResourceDialog.Modes.File:m.enableToolBar();break;}}function v(K){k.onFolderValidate(K);}function H(K){switch(K){case c.UI.InsertResourceDialog.Modes.Image:F();break;case c.UI.InsertResourceDialog.Modes.File:E();break;default:throw new Error("dialogMode is not supported");}}function G(){e.innerHTML=B.render();B.renderComplete();}function E(){e.innerHTML=m.render();m.renderComplete();m.enableToolBar();}function F(){e.innerHTML=o.render();o.renderComplete();o.enableToolBar();}function D(K){k.show(K);e.innerHTML=k.render();k.renderComplete();}function n(){return k.getCurrentEditMode();}function C(){return c.UI.InsertResourceDialogAdvancedToolBarTemplate(J);}function y(L,K){e=c.$(J.id+c.UI.InsertResourceDialogAdvancedToolBarTemplate.IdPostfix);}function u(L,K){A.FilesSelect.fireHandlers({files:K.files});}function w(L,K){if(K.checkedState==b){}A.KeepOriginal.fireHandlers({checkedState:K.checkedState});}function t(L,K){A.EditFolderToolBarClose.fireHandlers();}function s(L,K){A.CreateFolder.fireHandlers({newFolderName:K.newFolderName});}function x(L,K){A.RenameFolder.fireHandlers({newFolderName:K.newFolderName});}function h(){o=new c.UI.ImageUploadToolBar({id:J.id+c.UI.ImageUploadToolBarTemplate.IdPostfix,resources:J.resources.uploadToolBar,keepOriginalImageSize:J.keepOriginalImageSize,parentComponent:A});o.FilesSelect.addHandler(u);o.KeepOriginal.addHandler(w);m=new c.UI.FileUploadToolBar({id:J.id+c.UI.FileUploadToolBarTemplate.IdPostfix,resources:J.resources.uploadToolBar,parentComponent:A});m.FilesSelect.addHandler(u);}function f(){k=new c.UI.EditFolderToolBar({id:J.id+c.UI.EditFolderToolBarTemplate.IdPostfix,resources:J.resources.editToolBar,parentComponent:A});k.EditFolderToolBarClose.addHandler(t);k.CreateFolder.addHandler(s);k.RenameFolder.addHandler(x);}function g(){B=new c.UI.ReadOnlyFolderToolBar({id:J.id+c.UI.ReadOnlyFolderToolBarTemplate.IdPostfix,resources:J.resources.readOnlyFolderToolBar,parentComponent:A});}function p(){z.RenderComplete.addHandler(y);z.Dispose.addHandler(j);h();f();g();}function j(){if(r){return;}A.Dispose.fireHandlers();z.RenderComplete.removeHandler(y);z.Dispose.removeHandler(j);J=null;z=null;A.RenderComplete=null;A.Dispose=null;A.FilesSelect=null;A.KeepOriginal=null;A.EditFolderToolBarClose=null;A.CreateFolder=null;A.RenameFolder=null;r=true;m=null;o=null;k=null;e=null;}p();}})(window,WA);(function(d,c,b){if(!c.UI.InsertResourceDialogAdvancedToolBarTemplate){c.UI.InsertResourceDialogAdvancedToolBarTemplate=a;c.UI.InsertResourceDialogAdvancedToolBarTemplate.IdPostfix="_InsertResourceDialogAdvancedToolBar";}function a(f){var e=c.UI.ContainerTemplate;return e({id:f.id+c.UI.InsertResourceDialogAdvancedToolBarTemplate.IdPostfix,cssClass:"insertResourceDialogAdvancedToolBar"});}})(window,WA);(function(d,c,b){if(!c.UI.EditFolderToolBar){c.UI.EditFolderToolBar=a;c.UI.EditFolderToolBar.Mode={AddFolder:"AddFolder",RenameFolder:"RenameFolder"};}function a(o){var z=this,D="WA.UI.EditFolderToolBar",E=o,y=E.parentComponent;z.toString=function(){return D;};z.RenderComplete=c.Tools.EventHandlers.createHandlers(z,{id:"RenderComplete"});z.Dispose=c.Tools.EventHandlers.createHandlers(z,{id:"Dispose"});z.EditFolderToolBarClose=c.Tools.EventHandlers.createHandlers(z,{id:"EditFolderToolBarClose"});z.CreateFolder=c.Tools.EventHandlers.createHandlers(z,{id:"CreateFolder"});z.RenameFolder=c.Tools.EventHandlers.createHandlers(z,{id:"RenameFolder"});var p=false,C,f,j,g,q,l,e;z.render=A;z.onFolderValidate=s;z.renderComplete=u;z.getCurrentEditMode=m;z.show=B;function s(F){if(F&&F.length>0){f.disableButton();C.showValidationMessages(F);C.setErrorState(true);return;}C.setErrorState(false);f.enableButton();}function m(){return j;}function B(F){E.settings=F;j=E.settings.editMode;switch(j){case c.UI.EditFolderToolBar.Mode.AddFolder:f.disableButton();break;case c.UI.EditFolderToolBar.Mode.RenameFolder:f.enableButton();break;}}function A(){return c.UI.EditFolderToolBarTemplate(E);}function r(){z.EditFolderToolBarClose.fireHandlers();}function x(G,F){q=C.getValue();if(q!==""){f.enableButton();}else{f.disableButton();}}function w(G,F){c.Tools.KeyboardWatcher.Enter.addHandler(t);}function v(G,F){c.Tools.KeyboardWatcher.Enter.removeHandler(t);}function t(G,F){if(!q||q===""){return;}switch(j){case c.UI.EditFolderToolBar.Mode.AddFolder:z.CreateFolder.fireHandlers({newFolderName:q});break;case c.UI.EditFolderToolBar.Mode.RenameFolder:z.RenameFolder.fireHandlers({newFolderName:q});break;default:throw new Error("editMode is not supported");}}function u(G,F){l=c.$(E.id);z.RenderComplete.fireHandlers();C.setValue(E.settings.folderName);C.focus();C.selectAllText();}function h(){e={};e.behaviors=[];e.behaviors.push({type:"mask",value:'^[^.\\\\/:\\*\\?"#&%<>\\|\\+\\.\\?][^\\\\/:\\*\\?"#&%<>\\|\\+\\?]*$'});}function i(){h();C=new c.UI.TextBox({id:E.id+c.UI.EditFolderToolBarTemplate.IdTextBoxPostfix,maxLength:255,behaviorModel:e},{parentComponent:z});C.ValueChanged.addHandler(x);C.TextBoxFocus.addHandler(w);C.TextBoxBlur.addHandler(v);}function n(){i();f=new c.UI.WaButton({id:E.id+c.UI.ButtonTemplate.defaultEventTag},{parentComponent:z});f.WaButtonClick.addHandler(t);g=new c.UI.Icon({id:E.id+c.UI.EditFolderToolBarTemplate.IdCloseIconPostfix,iconType:c.UI.IconType.GreyCross},{parentComponent:z});g.IconClick.addHandler(r);y.RenderComplete.addHandler(u);y.Dispose.addHandler(k);}function k(){if(p){return;}z.Dispose.fireHandlers();c.Tools.KeyboardWatcher.Enter.removeHandler(t);y.RenderComplete.removeHandler(u);y.Dispose.removeHandler(k);E=null;y=null;z.RenderComplete=null;z.Dispose=null;z.EditFolderToolBarClose=null;z.CreateFolder=null;z.RenameFolder=null;p=true;C=null;f=null;e=null;j=null;g=null;q=null;l=null;}n();}})(window,WA);(function(d,c,b){if(!c.UI.EditFolderToolBarTemplate){c.UI.EditFolderToolBarTemplate=a;c.UI.EditFolderToolBarTemplate.IdPostfix="_EditFolderToolBar";c.UI.EditFolderToolBarTemplate.IdTextBoxPostfix="_EditFolderTextBox";c.UI.EditFolderToolBarTemplate.IdCloseIconPostfix="_CloseIcon";}function a(i){var g=c.UI.ContainerTemplate,j=c.UI.TextBoxTemplate,e=c.UI.WaButtonTemplate,f=c.UI.IconTemplate;return g({id:i.id,cssClass:"editFolderToolBar "+(i.settings.dialogMode==c.UI.InsertResourceDialog.Modes.Image?"imageMode":"fileMode"),contentHTML:g({cssClass:"editFolderToolBarLeftContainer",contentHTML:j({id:i.id+c.UI.EditFolderToolBarTemplate.IdTextBoxPostfix,title:h(i.settings),titleWidth:120,titlePosition:c.UI.ControlLayoutTemplate.TitlePosition.Left,cssClass:"editFolderNameTextBox"})})+g({cssClass:"editFolderToolBarRightContainer",contentHTML:e({id:i.id+c.UI.ButtonTemplate.defaultEventTag,name:i.resources.buttons.okButtonName,minWidth:42,enabled:(i.settings.editMode==c.UI.EditFolderToolBar.Mode.AddFolder?false:true)},{color:c.UI.WaButton.ButtonColor.Grey,size:c.UI.WaButton.ButtonSize.Default})+f({id:i.id+c.UI.EditFolderToolBarTemplate.IdCloseIconPostfix,iconType:c.UI.IconType.GreyCross,iconSize:c.UI.IconTemplate.IconSize.Small})})});function h(k){switch(k.editMode){case c.UI.EditFolderToolBar.Mode.AddFolder:return i.resources.addFolderTitle;case c.UI.EditFolderToolBar.Mode.RenameFolder:return i.resources.renameFolderTitle;default:throw new Error("editMode is not supported");}}}})(window,WA);(function(d,c,b){if(!c.UI.FileUploadToolBar){c.UI.FileUploadToolBar=a;}function a(j){var p=this,r="WA.UI.FileUploadToolBar",u=j,o=u.parentComponent;p.toString=function(){return r;};p.RenderComplete=c.Tools.EventHandlers.createHandlers(p,{id:"RenderComplete"});p.Dispose=c.Tools.EventHandlers.createHandlers(p,{id:"Dispose"});p.FilesSelect=c.Tools.EventHandlers.createHandlers(p,{id:"FileSelect"});var k=false,s,t,h;p.render=q;p.renderComplete=n;p.disableToolBar=e;p.enableToolBar=g;function g(){s.enableButton();t.enable();}function e(){s.disableButton();t.disable();}function q(){return c.UI.FileUploadToolBarTemplate(u);}function n(w,v){h=c.$(u.id);p.RenderComplete.fireHandlers();}function m(w,v){p.FilesSelect.fireHandlers({files:v.files});}function l(w,v){s.onBrowseButtonClick();}function i(){t=new c.UI.Link({id:u.id+c.UI.FileUploadToolBarTemplate.IdBrowseLinkPostfix,jsAction:true},{parentComponent:p});t.ButtonClick.addHandler(l);s=new c.UI.UploadFileButton({id:u.id+c.UI.UploadFileButtonTemplate.IdPostfix,parentComponent:p});s.FilesSelect.addHandler(m);o.RenderComplete.addHandler(n);o.Dispose.addHandler(f);}function f(){if(k){return;}p.Dispose.fireHandlers();o.RenderComplete.removeHandler(n);o.Dispose.removeHandler(f);u=null;o=null;s=null;t=null;h=null;p.RenderComplete=null;p.Dispose=null;p.FilesSelect=null;k=true;}i();}})(window,WA);(function(e,d,c){if(!d.UI.FileUploadToolBarTemplate){d.UI.FileUploadToolBarTemplate=a;d.UI.FileUploadToolBarTemplate.IdPostfix="_FileUploadToolBar";d.UI.FileUploadToolBarTemplate.IdBrowseLinkPostfix="_BrowseLink";}function a(g){var f=d.UI.ContainerTemplate,h=d.UI.UploadFileButtonTemplate;return f({id:g.id,cssClass:"fileUploadToolBar",contentHTML:f({cssClass:"fileUploadToolBarLeftContainer",contentHTML:f({cssClass:"description",contentHTML:d.String.format(g.resources.file.title,b(g))})})+f({cssClass:"fileUploadToolBarRightContainer",contentHTML:h({id:g.id+d.UI.UploadFileButtonTemplate.IdPostfix,resources:g.resources.buttons})})});}function b(f){return d.UI.LinkTemplate({id:f.id+d.UI.FileUploadToolBarTemplate.IdBrowseLinkPostfix,contentText:f.resources.links.browseLinkTitle,jsAction:true});}})(window,WA);(function(d,c,b){if(!c.UI.ImageUploadToolBar){c.UI.ImageUploadToolBar=a;}function a(j){var r=this,t="WA.UI.ImageUploadToolBar",w=j,q=w.parentComponent;r.toString=function(){return t;};r.RenderComplete=c.Tools.EventHandlers.createHandlers(r,{id:"RenderComplete"});r.Dispose=c.Tools.EventHandlers.createHandlers(r,{id:"Dispose"});r.FilesSelect=c.Tools.EventHandlers.createHandlers(r,{id:"FileSelect"});r.KeepOriginal=c.Tools.EventHandlers.createHandlers(r,{id:"KeepOriginal"});var k=false,u,v,h,l;r.render=s;r.renderComplete=p;r.disableToolBar=e;r.enableToolBar=g;function g(){u.enableButton();v.enable();l.enable();}function e(){u.disableButton();v.disable();l.disable();}function s(){return c.UI.ImageUploadToolBarTemplate(w);}function p(y,x){h=c.$(w.id);r.RenderComplete.fireHandlers();}function o(y,x){if(!x){}r.FilesSelect.fireHandlers({files:x.files});}function n(y,x){u.onBrowseButtonClick();}function m(y,x){if(x.checkedState==b){}r.KeepOriginal.fireHandlers({checkedState:x.checkedState});}function i(){l=new c.UI.CheckBox({id:w.id+c.UI.ImageUploadToolBarTemplate.IdKeepOriginalCheckBoxPostfix,value:w.keepOriginalImageSize,checked:w.keepOriginalImageSize},{parentComponent:r});l.ValueChanged.addHandler(m);v=new c.UI.Link({id:w.id+c.UI.ImageUploadToolBarTemplate.IdBrowseLinkPostfix,jsAction:true},{parentComponent:r});v.ButtonClick.addHandler(n);u=new c.UI.UploadFileButton({id:w.id+c.UI.UploadFileButtonTemplate.IdPostfix,parentComponent:r});u.ButtonClicked.addHandler(function(z,x){x=x||{};var y=!!x.sender;waMetricsGlobalHandler({module:"RestrictedFileAccess",object:"IRD",operation:(y?"BrowseButton":"BrowseLink")});});u.FilesSelect.addHandler(o);q.RenderComplete.addHandler(p);q.Dispose.addHandler(f);}function f(){if(k){return;}r.Dispose.fireHandlers();q.RenderComplete.removeHandler(p);q.Dispose.removeHandler(f);w=null;q=null;u=null;v=null;h=null;l=null;r.RenderComplete=null;r.Dispose=null;r.FilesSelect=null;r.KeepOriginal=null;k=true;}i();}})(window,WA);(function(e,d,c){if(!d.UI.ImageUploadToolBarTemplate){d.UI.ImageUploadToolBarTemplate=a;d.UI.ImageUploadToolBarTemplate.IdPostfix="_ImageUploadToolBar";d.UI.ImageUploadToolBarTemplate.IdBrowseLinkPostfix="_BrowseLink";d.UI.ImageUploadToolBarTemplate.IdInsertUrlLinkPostfix="_InsertUrl";d.UI.ImageUploadToolBarTemplate.IdKeepOriginalCheckBoxPostfix="_KeepOriginal";}function a(h){var f=d.UI.ContainerTemplate,i=d.UI.UploadFileButtonTemplate,g=d.UI.CheckBoxTemplate;return f({id:h.id,cssClass:"imageUploadToolBar",contentHTML:f({cssClass:"imageUploadToolBarLeftContainer",contentHTML:f({cssClass:"description",contentHTML:d.String.format(h.resources.image.title,b(h))})+g({id:h.id+d.UI.ImageUploadToolBarTemplate.IdKeepOriginalCheckBoxPostfix,cssClass:"keepOriginal",contentText:h.resources.image.keepOriginalCheckBoxTitle,controlContainerDisplayType:d.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed,width:170})})+f({cssClass:"imageUploadToolBarRightContainer",contentHTML:i({id:h.id+d.UI.UploadFileButtonTemplate.IdPostfix,resources:h.resources.buttons})})});}function b(f){return d.UI.LinkTemplate({id:f.id+d.UI.ImageUploadToolBarTemplate.IdBrowseLinkPostfix,contentText:f.resources.links.browseLinkTitle,jsAction:true});}})(window,WA);(function(d,c,b){if(!c.UI.ReadOnlyFolderToolBar){c.UI.ReadOnlyFolderToolBar=a;}function a(g){var k=this,m="WA.UI.ReadOnlyFolderToolBar",n=g,j=n.parentComponent;k.toString=function(){return m;};k.RenderComplete=c.Tools.EventHandlers.createHandlers(k,{id:"RenderComplete"});k.Dispose=c.Tools.EventHandlers.createHandlers(k,{id:"Dispose"});var h=false;k.render=l;k.renderComplete=i;function l(){return c.UI.ReadOnlyFolderToolBarTemplate(n);}function i(p,o){k.RenderComplete.fireHandlers();}function f(){j.RenderComplete.addHandler(i);j.Dispose.addHandler(e);}function e(){if(h){return;}k.Dispose.fireHandlers();j.RenderComplete.removeHandler(i);j.Dispose.removeHandler(e);n=null;j=null;k.RenderComplete=null;k.Dispose=null;h=true;}f();}})(window,WA);(function(d,c,b){if(!c.UI.ReadOnlyFolderToolBarTemplate){c.UI.ReadOnlyFolderToolBarTemplate=a;c.UI.ReadOnlyFolderToolBarTemplate.IdPostfix="_readOnlyFolderToolBar";}function a(h){var f=c.UI.ContainerTemplate,i=c.UI.TextContainerTemplate,g=c.UI.IconTemplate,e=c.UI.BulletedContainerTemplate;return f({id:h.id,cssClass:"readOnlyFolderToolBar",contentHTML:f({cssClass:"readOnlyFolderToolBarContainer",contentHTML:f({cssClass:"iconContainer",contentHTML:g({iconType:c.UI.IconType.Warning,iconSize:c.UI.IconTemplate.IconSize.Large})})+f({cssClass:"textContainer",contentHTML:h.resources.title})})});}})(window,WA);(function(d,c,b){if(!c.UI.InsertResourceDialogToolBarDivider){c.UI.InsertResourceDialogToolBarDivider=a;}function a(g){var k=this,m="WA.UI.InsertResourceDialogToolBarDivider",n=g,j=n.parentComponent;k.toString=function(){return m;};k.RenderComplete=c.Tools.EventHandlers.createHandlers(k,{id:"RenderComplete"});k.Dispose=c.Tools.EventHandlers.createHandlers(k,{id:"Dispose"});var h=false;k.render=l;function l(){return c.UI.InsertResourceDialogToolBarDividerTemplate(n);}function i(p,o){k.RenderComplete.fireHandlers();}function f(){j.RenderComplete.addHandler(i);j.Dispose.addHandler(e);}function e(){if(h){return;}k.Dispose.fireHandlers();j.RenderComplete.removeHandler(i);j.Dispose.removeHandler(e);n=null;j=null;k.RenderComplete=null;k.Dispose=null;h=true;}f();}})(window,WA);(function(d,c,b){if(!c.UI.InsertResourceDialogToolBarDividerTemplate){c.UI.InsertResourceDialogToolBarDividerTemplate=a;c.UI.InsertResourceDialogToolBarDividerTemplate.IdPostfix="_ToolBarDivider";}function a(e){return c.UI.ContainerTemplate({id:e.id,cssClass:"insertResourceDialogToolBarDivider"});}})(window,WA);(function(d,c,b){if(!c.UI.InsertResourceDialogToolBarLeft){c.UI.InsertResourceDialogToolBarLeft=a;}function a(j){var o=this,r="WA.UI.InsertResourceDialogToolBarLeft",s=j,n=s.parentComponent;o.toString=function(){return r;};o.RenderComplete=c.Tools.EventHandlers.createHandlers(o,{id:"RenderComplete"});o.Dispose=c.Tools.EventHandlers.createHandlers(o,{id:"Dispose"});o.FilePathChange=c.Tools.EventHandlers.createHandlers(o,{id:"FilePathChange"});var k=false,e;o.render=p;o.setLocation=q;o.disableBreadCrumbs=f;o.enableBreadCrumbs=h;function p(){return c.UI.InsertResourceDialogToolBarLeftTemplate(s);}function f(){e.disable();}function h(){e.enable();}function q(t){e.refreshCrumbs(t);}function m(v,t){var u=c.$(s.id);o.RenderComplete.fireHandlers();}function i(){n.RenderComplete.addHandler(m);n.Dispose.addHandler(g);s.breadCrumbsModel.id=s.id+c.UI.BreadCrumbsTemplate.IdPostfix;e=new c.UI.BreadCrumbs(s.breadCrumbsModel,{parentComponent:o});e.FilePathChange.addHandler(l);}function l(u,t){if(!t){return;}o.FilePathChange.fireHandlers({href:t.href});}function g(){if(k){return;}o.Dispose.fireHandlers();n.RenderComplete.removeHandler(m);n.Dispose.removeHandler(g);s=null;n=null;e=null;o.RenderComplete=null;o.Dispose=null;o.FilePathChange=null;k=true;}i();}})(window,WA);(function(d,c,b){if(!c.UI.InsertResourceDialogToolBarLeftTemplate){c.UI.InsertResourceDialogToolBarLeftTemplate=a;c.UI.InsertResourceDialogToolBarLeftTemplate.IdPostfix="_InsertResourceDialogToolBarLeft";}function a(g){var f=c.UI.ContainerTemplate,e=c.UI.BreadCrumbsTemplate;return f({id:g.id,cssClass:"insertResourceDialogToolBarLeft",contentHTML:e({id:g.id+c.UI.BreadCrumbsTemplate.IdPostfix,path:g.breadCrumbsModel.path})});}})(window,WA);(function(d,c,b){if(!c.UI.InsertResourceDialogToolBarRight){c.UI.InsertResourceDialogToolBarRight=a;}function a(k){var t=this,z="WA.UI.InsertResourceDialogToolBarRight",A=k,s=A.parentComponent;t.toString=function(){return z;};t.RenderComplete=c.Tools.EventHandlers.createHandlers(t,{id:"RenderComplete"});t.Dispose=c.Tools.EventHandlers.createHandlers(t,{id:"Dispose"});t.AddFolderButtonClick=c.Tools.EventHandlers.createHandlers(t,{id:"AddFolderButtonClick"});t.RenameFolderButtonClick=c.Tools.EventHandlers.createHandlers(t,{id:"RenameFolderButtonClick"});t.ListViewChange=c.Tools.EventHandlers.createHandlers(t,{id:"ListViewChange"});t.SortTypeChange=c.Tools.EventHandlers.createHandlers(t,{id:"SortTypeChange"});var l=false,h,m,g,y;t.render=u;t.setListViewSwitcherViewMode=w;t.setAddFolderButtonState=v;t.setRenameFolderButtonState=x;t.disableToolBar=e;t.enableToolBar=i;function i(B){h.setAddFolderButtonState(c.UI.ButtonLight.State.Default);h.setRenameFolderButtonState(c.UI.ButtonLight.State.Disabled);w(B);y.enableSortTypeSwitcher();}function e(){h.setAddFolderButtonState(c.UI.ButtonLight.State.Disabled);h.setRenameFolderButtonState(c.UI.ButtonLight.State.Disabled);m.disableListViewSwitcher();y.disableSortTypeSwitcher();}function u(){return c.UI.InsertResourceDialogToolBarRightTemplate(A);}function q(D,B){var C=c.$(A.id);t.RenderComplete.fireHandlers();}function j(){h=new c.UI.EditFolderControl({id:A.id+c.UI.EditFolderControlTemplate.IdPostfix,resources:A.editFolderControl.resources,parentComponent:t});h.AddFolderButtonClick.addHandler(n);h.RenameFolderButtonClick.addHandler(p);g=new c.UI.InsertResourceDialogToolBarDivider({id:A.id+c.UI.InsertResourceDialogToolBarDividerTemplate.IdPostfix,parentComponent:t});m=new c.UI.ListViewSwitcher({id:A.id+c.UI.ListViewSwitcherTemplate.IdPostfix,resources:A.listViewSwitcher.resources,parentComponent:t,viewMode:A.listViewSwitcher.viewMode});m.ListViewChange.addHandler(o);y=new c.UI.SortTypeSwitcher({id:A.id+c.UI.SortTypeSwitcherTemplate.IdPostfix,parentComponent:t,sortTypes:A.sortOrderSwitcher.sortTypes,value:A.sortOrderSwitcher.value});y.SortTypeChange.addHandler(r);s.RenderComplete.addHandler(q);s.Dispose.addHandler(f);}function w(B){m.setViewMode(B);}function v(B){h.setAddFolderButtonState(B);}function x(B){h.setRenameFolderButtonState(B);}function r(C,B){if(!B){throw new Error("Sort type is undefined");}t.SortTypeChange.fireHandlers({sortType:B.sortType});}function o(C,B){if(!B){throw new Error("View mode is undefined");}t.ListViewChange.fireHandlers({viewMode:B.viewMode});}function n(C,B){t.AddFolderButtonClick.fireHandlers();}function p(C,B){t.RenameFolderButtonClick.fireHandlers();}function f(){if(l){return;}t.Dispose.fireHandlers();s.RenderComplete.removeHandler(q);s.Dispose.removeHandler(f);A=null;s=null;t.RenderComplete=null;t.Dispose=null;t.AddFolderButtonClick=null;t.RenameFolderButtonClick=null;t.ListViewChange=null;t.SortTypeChange=null;h=null;m=null;g=null;y=null;l=true;}j();}})(window,WA);(function(d,c,b){if(!c.UI.InsertResourceDialogToolBarRightTemplate){c.UI.InsertResourceDialogToolBarRightTemplate=a;c.UI.InsertResourceDialogToolBarRightTemplate.IdPostfix="_InsertResourceDialogToolBarRight";}function a(i){var g=c.UI.ContainerTemplate,f=c.UI.EditFolderControlTemplate,h=c.UI.ListViewSwitcherTemplate,e=c.UI.InsertResourceDialogToolBarDividerTemplate,j=c.UI.SortTypeSwitcherTemplate;return g({id:i.id,cssClass:"insertResourceDialogToolBarRight",contentHTML:f({id:i.id+c.UI.EditFolderControlTemplate.IdPostfix,resources:i.editFolderControl.resources})+e({id:i.id+c.UI.InsertResourceDialogToolBarDividerTemplate.IdPostfix})+h({id:i.id+c.UI.ListViewSwitcherTemplate.IdPostfix,resources:i.listViewSwitcher.resources})+j({id:i.id+c.UI.SortTypeSwitcherTemplate.IdPostfix,items:i.sortOrderSwitcher.sortTypes})});}})(window,WA);(function(d,c,b){if(!c.UI.ListViewSwitcher){c.UI.ListViewSwitcher=a;c.UI.ListViewSwitcher.IdPostfix="_listViewSwitcher";}function a(h){var o=this,s="WA.UI.ListViewSwitcher",u=h,n=u.parentComponent;o.toString=function(){return s;};o.RenderComplete=c.Tools.EventHandlers.createHandlers(o,{id:"RenderComplete"});o.Dispose=c.Tools.EventHandlers.createHandlers(o,{id:"Dispose"});o.ListViewChange=c.Tools.EventHandlers.createHandlers(o,{id:"ListViewChange"});var i=false,j,r,t=u.viewMode;o.render=p;o.setViewMode=q;o.disableListViewSwitcher=e;function p(){return c.UI.ListViewSwitcherTemplate(u);}function e(){j.setState(c.UI.ButtonLight.State.Disabled);r.setState(c.UI.ButtonLight.State.Disabled);}function l(w,v){o.RenderComplete.fireHandlers();}function q(v){switch(v){case c.UI.FileListViewMode.ThumbView:r.setState(c.UI.ButtonLight.State.Active);j.setState(c.UI.ButtonLight.State.Default);break;case c.UI.FileListViewMode.TableView:j.setState(c.UI.ButtonLight.State.Active);r.setState(c.UI.ButtonLight.State.Default);break;default:}}function m(w,v){if(!v.id){throw new Error("buttonId is undefined");}r.setState(c.UI.ButtonLight.State.Active);j.setState(c.UI.ButtonLight.State.Default);o.ListViewChange.fireHandlers({viewMode:c.UI.FileListViewMode.ThumbView});}function k(w,v){j.setState(c.UI.ButtonLight.State.Active);r.setState(c.UI.ButtonLight.State.Default);o.ListViewChange.fireHandlers({viewMode:c.UI.FileListViewMode.TableView});}function g(){r=new c.UI.ButtonLight({id:u.id+c.UI.ListViewSwitcherTemplate.IdButtonThumbViewPostfix,parentComponent:o});r.ButtonClick.addHandler(m);j=new c.UI.ButtonLight({id:u.id+c.UI.ListViewSwitcherTemplate.IdButtonTableViewPostfix,parentComponent:o});j.ButtonClick.addHandler(k);n.RenderComplete.addHandler(l);n.Dispose.addHandler(f);}function f(){if(i){return;}o.Dispose.fireHandlers();n.RenderComplete.removeHandler(l);n.Dispose.removeHandler(f);u=null;n=null;o.RenderComplete=null;o.Dispose=null;o.ListViewChange=null;j=null;r=null;i=true;}g();}})(window,WA);(function(d,c,b){if(!c.UI.ListViewSwitcherTemplate){c.UI.ListViewSwitcherTemplate=a;c.UI.ListViewSwitcherTemplate.IdPostfix="_listViewSwitcher";c.UI.ListViewSwitcherTemplate.IdButtonTableViewPostfix="_ButtonTableViewMode";c.UI.ListViewSwitcherTemplate.IdButtonThumbViewPostfix="_ButtonThumbViewMode";c.UI.ListViewSwitcherTemplate.CssClasses={TableView:"tableView",ThumbView:"thumbView"};}function a(g){var f=c.UI.ContainerTemplate,e=c.UI.ButtonLightTemplate;return f({id:g.id,cssClass:"listViewSwitcherContainer",contentHTML:e({id:g.id+c.UI.ListViewSwitcherTemplate.IdButtonThumbViewPostfix,title:g.resources.buttons.thumbViewButtonTitle,cssClass:c.UI.ListViewSwitcherTemplate.CssClasses.ThumbView})+e({id:g.id+c.UI.ListViewSwitcherTemplate.IdButtonTableViewPostfix,title:g.resources.buttons.tableViewButtonTitle,cssClass:c.UI.ListViewSwitcherTemplate.CssClasses.TableView})});}})(window,WA);(function(d,c,b){if(!c.UI.SortTypeSwitcher){c.UI.SortTypeSwitcher=a;}function a(j){var o=this,r="WA.UI.SortTypeSwitcher",s=j,n=s.parentComponent;o.toString=function(){return r;};o.RenderComplete=c.Tools.EventHandlers.createHandlers(o,{id:"RenderComplete"});o.Dispose=c.Tools.EventHandlers.createHandlers(o,{id:"Dispose"});o.SortTypeChange=c.Tools.EventHandlers.createHandlers(o,{id:"SortTypeChange"});var k=false,q;o.render=p;o.disableSortTypeSwitcher=f;o.enableSortTypeSwitcher=h;function h(){q.enable();}function f(){q.disable({keepSelectedOption:true});}function p(){return c.UI.SortTypeSwitcherTemplate(s);}function l(u,t){o.RenderComplete.fireHandlers();}function m(u,t){if(!t){throw new Error("Value is undefined");}o.SortTypeChange.fireHandlers({sortType:t.newValue});}function e(){var w=[];var t,v,u;for(t=0,v=s.sortTypes.length;t<v;t++){u=s.sortTypes[t];w.push({contentText:u.contentText,value:u.value});}return w;}function i(){q=new c.UI.WaDropdownList({id:s.id+c.UI.SortTypeSwitcherTemplate.IdDropDownListPostfix,items:e(),value:s.value},{parentComponent:o});q.ValueChanged.addHandler(m);n.RenderComplete.addHandler(l);n.Dispose.addHandler(g);}function g(){if(k){return;}o.Dispose.fireHandlers();n.RenderComplete.removeHandler(l);n.Dispose.removeHandler(g);s=null;n=null;q=null;o.RenderComplete=null;o.Dispose=null;o.SortTypeChange=null;k=true;}i();}})(window,WA);(function(d,c,b){if(!c.UI.SortTypeSwitcherTemplate){c.UI.SortTypeSwitcherTemplate=a;c.UI.SortTypeSwitcherTemplate.IdPostfix="_SortTypeSwitcher";c.UI.SortTypeSwitcherTemplate.IdDropDownListPostfix="_SortTypeList";}function a(g){var f=c.UI.ContainerTemplate,e=c.UI.WaDropdownListTemplate;return f({id:g.id,cssClass:"sortTypeSwitcherContainer",contentHTML:e({id:g.id+c.UI.SortTypeSwitcherTemplate.IdDropDownListPostfix,items:g.items})});}})(window,WA);(function(d,c,b){if(!c.UI.LabelContainer){c.UI.LabelContainer=a;}function a(l,k,v){k=k||{};var t=this,x="WA.UI.LabelContainer",y=l,g=k.childElementInitArgs||{},f=k.childElementEventHandlers||{ValueChanged:o,VisualStateChanged:r},s=k.parentComponent;t.toString=function(){return x;};t.ValidationFailed=c.Tools.EventHandlers.createHandlers(t,{id:"ValidationFailed"});t.RenderComplete=c.Tools.EventHandlers.createHandlers(t,{id:"RenderComplete"});t.Dispose=c.Tools.EventHandlers.createHandlers(t,{id:"Dispose"});t.VisualStateChanged=c.Tools.EventHandlers.createHandlers(t,{id:"VisualStateChanged"});t.render=u;t.getType=function(){return y.layoutControlType;};var m,n;function u(){return c.UI.LabelContainerTemplate(y);}function i(){c.Dom.addClassName(n,"hidden");t.VisualStateChanged.fireHandlers();}function w(){c.Dom.removeClassName(n,"hidden");t.VisualStateChanged.fireHandlers();}function r(A,z){t.VisualStateChanged.fireHandlers();}function p(A,z){n=c.$(y.id+c.UI.ControlLayoutTemplate.IdControlLayoutPostfix);t.RenderComplete.fireHandlers();e();}function e(){var B=false,A,z;for(A in m){if(!m.hasOwnProperty(A)){continue;}z=m[A];B=z.isVisible?z.isVisible():false;if(B){break;}}if(!B){i();}}function o(A,z){t.ValueChanged.fireHandlers(z);}function q(){t.ValidationFailed.fireHandlers();}function j(){s.RenderComplete.addHandler(p);s.Dispose.addHandler(h);if(s.ValidationFailed){s.ValidationFailed.addHandler(q);}g.parentComponent=t;m=c.UI.Helpers.ControlHelper.createElements(y,g,v,f);}function h(){t.Dispose.fireHandlers();if(s.ValidationFailed){s.ValidationFailed.removeHandler(q);}s.RenderComplete.removeHandler(p);s.Dispose.removeHandler(h);y=null;s=null;m=null;n=null;t.ValidationFailed=null;t.RenderComplete=null;t.Dispose=null;t.VisualStateChanged=null;}j();}})(window,WA);(function(d,c,b){if(!c.UI.LabelContainerTemplate){c.UI.LabelContainerTemplate=a;}function a(g){var e=c.UI.ControlLayoutTemplate,f=c.UI.ContainerTemplate;g.controlContainerDisplayType=g.controlContainerDisplayType?g.controlContainerDisplayType:c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;g.cssClass="labelContainer"+(g.cssClass?" "+g.cssClass:"");g.titlePosition=g.titlePosition?g.titlePosition:c.UI.ControlLayoutTemplate.TitlePosition.Top;g.layoutContentHTML=f({cssClass:"labelContainerContent",contentHTML:c.UI.Helpers.ControlHelper.createElementsHtml(g)});return e(g);}})(window,WA);(function(d,c,b){if(!c.UI.LabelControl){c.UI.LabelControl=a;}function a(j,i){i=i||{};var o=this,r="WA.UI.LabelControl",t=j,n=i.parentComponent;o.toString=function(){return r;};o.RenderComplete=c.Tools.EventHandlers.createHandlers(o,{id:"RenderComplete"});o.Dispose=c.Tools.EventHandlers.createHandlers(o,{id:"Dispose"});o.VisualStateChanged=c.Tools.EventHandlers.createHandlers(o,{id:"VisualStateChanged"});o.render=p;o.isHidden=function(){return k;};o.isVisible=function(){return !k;};o.getType=function(){return t.layoutControlType;};var s,l,g=t.hideIfEmpty,k=false,e=t.contentType||c.UI.TextContainerTemplate.ContentType.Text;function p(){return c.UI.LabelControlTemplate(t);}function m(v,u){l=c.$(t.id+c.UI.ControlLayoutTemplate.IdControlLayoutPostfix);o.RenderComplete.fireHandlers();k=g&&(s.getContentText()==="");k?q(true):q(false);}function q(u){u===true?c.Dom.addClassName(l,"hidden"):c.Dom.removeClassName(l,"hidden");o.VisualStateChanged.fireHandlers();}function h(){n.RenderComplete.addHandler(m);n.Dispose.addHandler(f);s=c.Object.create(c.UI.TextContainer,[{id:t.id+c.UI.LabelControlTemplate.ValueTextContainerIdPostfix,fadeMode:t.fadeMode,contentType:e,displayType:t.displayType},{parentComponent:o}]);}function f(){o.Dispose.fireHandlers();n.RenderComplete.removeHandler(m);n.Dispose.removeHandler(f);t=null;n=null;s=null;l=null;o.RenderComplete=null;o.Dispose=null;o.VisualStateChanged=null;}h();}})(window,WA);(function(d,c,b){if(!c.UI.LabelControlTemplate){c.UI.LabelControlTemplate=a;c.UI.LabelControlTemplate.ValueTextContainerIdPostfix="_valueTextContainer";}function a(f){var e=c.UI.ControlLayoutTemplate,g=c.UI.TextContainerTemplate,h=f.hasOwnProperty("wordBreakEnabled")?f.wordBreakEnabled:true;f.controlContainerDisplayType=f.controlContainerDisplayType?f.controlContainerDisplayType:c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed;f.cssClass="labelControl"+(f.cssClass?" "+f.cssClass:"");f.titlePosition=f.titlePosition?f.titlePosition:c.UI.ControlLayoutTemplate.TitlePosition.Left;f.layoutContentHTML=g({id:f.id+c.UI.LabelControlTemplate.ValueTextContainerIdPostfix,cssClass:"valueContainer",contentType:f.contentType,wordBreakEnabled:h,displayType:f.displayType?f.displayType:c.UI.TextContainerTemplate.DisplayType.MultiLine,fadeMode:false,contentText:(f.hasOwnProperty("contentText")?f.contentText:(f.value.value!=b&&f.value.value.toString())?f.value.value.toString():(f.defaultValue!=b&&f.defaultValue.toString())?f.defaultValue.toString():"")});return e(f);}})(window,WA);(function(c,b){if(!b.UI.Link){b.UI.Link=a;b.UI.Link.TypeName="WA.UI.Link";b.UI.Link.LinkStyle={Default:"Default",LinkControl:"LinkControl",BackLink:"BackLink"};}function a(l,k){k=k||{};var w=this,z=b.UI.Link.TypeName,A=l,v=k.parentComponent;w.toString=function(){return z;};w.RenderComplete=b.Tools.EventHandlers.createHandlers(w,{id:"RenderComplete"});w.ButtonClick=b.Tools.EventHandlers.createHandlers(w,{id:"ButtonClick"});w.Dispose=b.Tools.EventHandlers.createHandlers(w,{id:"Dispose"});w.VisualStateChanged=b.Tools.EventHandlers.createHandlers(w,{id:"VisualStateChanged"});A.linkStyle=A.linkStyle||b.UI.Link.LinkStyle.Default;var h=true,m=false,d,n,o;w.dispose=f;w.render=x;w.showLink=y;w.hideLink=i;w.disable=e;w.enable=g;w.renderComplete=u;w.getType=function(){return A.layoutControlType;};function x(){return b.UI.LinkTemplate(A);}function y(){switch(A.linkStyle){case b.UI.Link.LinkStyle.BackLink:case b.UI.Link.LinkStyle.LinkControl:b.Dom.removeClassName(o,b.UI.LinkTemplate.CssClasses.Hidden);break;default:b.Dom.removeClassName(n,b.UI.LinkTemplate.CssClasses.Hidden);break;}w.VisualStateChanged.fireHandlers();}function i(){switch(A.linkStyle){case b.UI.Link.LinkStyle.BackLink:case b.UI.Link.LinkStyle.LinkControl:b.Dom.addClassName(o,b.UI.LinkTemplate.CssClasses.Hidden);break;default:b.Dom.addClassName(n,b.UI.LinkTemplate.CssClasses.Hidden);break;}w.VisualStateChanged.fireHandlers();}function u(C,B){d=b.$(A.id);b.addHandler(d,"click",p);b.addHandler(d,"mousedown",r);b.addHandler(d,"mouseup",t);b.addHandler(d,"mouseout",s);n=b.$(A.id+b.UI.LinkTemplate.LinkControlPostfix);switch(A.linkStyle){case b.UI.Link.LinkStyle.BackLink:o=b.$(A.id+b.UI.LinkTemplate.LinkContainerPostfix);break;case b.UI.Link.LinkStyle.LinkControl:o=b.$(A.id+b.UI.ControlLayoutTemplate.IdControlLayoutPostfix);break;default:break;}w.RenderComplete.fireHandlers();}function p(B){if(!h){return;}if(A.jsAction===true){b.stopEvent(B);}var C={id:A.id};if(A.eventArgs){C.eventArgs=A.eventArgs;}var D=b.getEventTags(B);if(D){b.Object.createEventTagsAttribute(D,C);}w.ButtonClick.fireHandlers(C);}function r(B){if(!h){return;}b.Dom.addClassName(n,"active");}function t(B){if(!h){return;}b.Dom.removeClassName(n,"active");}function s(B){if(!h){return;}b.Dom.removeClassName(n,"active");}function g(){b.Dom.removeClassName(n,"disabled");h=true;}function e(){b.Dom.addClassName(n,"disabled");h=false;}function q(C,B){switch(B.state){case true:g();break;case false:e();break;}}function j(){v.RenderComplete.addHandler(u);v.Dispose.addHandler(f);if(v.EnabledStateChanged){v.EnabledStateChanged.addHandler(q);}}function f(){if(m){return;}w.Dispose.fireHandlers();v.RenderComplete.removeHandler(u);v.Dispose.removeHandler(f);if(v.EnabledStateChanged){v.EnabledStateChanged.removeHandler(q);}if(d){b.removeHandler(d,"click",p);}A=null;v=null;d=null;o=null;n=null;w.RenderComplete=null;w.Dispose=null;w.ButtonClick=null;w.VisualStateChanged=null;m=true;}j();}})(window,WA);(function(g,f,e){if(!f.UI.LinkTemplate){f.UI.LinkTemplate=d;f.UI.LinkTemplate.defaultEventTag="_link";f.UI.LinkTemplate.LinkControlPostfix="_linkControl";f.UI.LinkTemplate.LinkContainerPostfix="_linkControlContainer";f.UI.LinkTemplate.CssClasses={Disabled:"disabled",JsAction:"jsAction",Hidden:"hidden",Size:{Large:"Large",Medium:"Medium",Small:"Small"},Color:{White:"White",Black:"Black",Blue:"Blue",Gray:"Gray",Red:"Red"},Style:{WithoutUnderLine:"WithoutUnderLine"}};}function d(j){switch(j.linkStyle){case f.UI.Link.LinkStyle.BackLink:return a(j);case f.UI.Link.LinkStyle.LinkControl:var h=f.UI.ControlLayoutTemplate,i={};i.id=j.id;i.title=j.title;i.prefix=j.prefix;i.controlContainerDisplayType=j.controlContainerDisplayType?j.controlContainerDisplayType:f.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;i.cssClass="linkControlLayout"+(j.cssClass?" "+j.cssClass:"");i.layoutContentHTML=b(j);return h(i);default:return b(j);}}function a(h){return f.UI.ContainerTemplate({id:h.id+f.UI.LinkTemplate.LinkContainerPostfix,cssClass:"linkControlContainer"+c(h),contentHTML:b(h)});}function c(h){switch(h.linkStyle){case f.UI.Link.LinkStyle.BackLink:return" backLinkContainer";default:return"";}}function b(j){var h=[],i=f.UI.ContainerTemplate;j.attr=j.attr||{};h.push("<a");if(j.id){h.push(' id="'+j.id+'"');}if(j.href){h.push(' href="'+j.href+'"');}if(j.target){h.push(' target="'+j.target+'"');}if(j.title){h.push(' title="'+f.encodeHtml(j.title)+'"');}if(!j.title&&(j.fadeMode===true&&j.contentText)){h.push(' title="'+j.contentText+'"');}if(j.attr){h.push(f.UI.Helpers.ControlHelper.renderAttributes(j.attr));}h.push(">");if(j.contentHTML){h.push(j.contentHTML);}if(j.contentText){h.push(f.encodeHtml(j.contentText));}h.push("</a>");return i({id:(j.id==e)?e:(j.id+f.UI.LinkTemplate.LinkControlPostfix),cssClass:"link"+(j.disabled===true?(" "+f.UI.LinkTemplate.CssClasses.Disabled):"")+(j.isHidden===true?(" "+f.UI.LinkTemplate.CssClasses.Hidden):"")+(j.jsAction===true?(" "+f.UI.LinkTemplate.CssClasses.JsAction):"")+(j.style==e?"":(" "+f.UI.LinkTemplate.CssClasses.Style[j.style]))+(j.size==e?"":(" "+f.UI.LinkTemplate.CssClasses.Size[j.size]))+(j.color==e?(" "+f.UI.LinkTemplate.CssClasses.Color.Blue):(" "+f.UI.LinkTemplate.CssClasses.Color[j.color]))+(j.cssClass==e?"":(" "+j.cssClass)),contentHTML:h.join("")});}})(window,WA);(function(d,c,b){if(!c.UI.LinkedDropDownListsControl){c.UI.LinkedDropDownListsControl=a;}function a(m,l,w){l=l||{};var s=this,y="WA.UI.LinkedDropDownListsControl",A=m,r=l.parentComponent,z=m.valueAccessor;s.toString=function(){return y;};s.RenderComplete=c.Tools.EventHandlers.createHandlers(s,{id:"RenderComplete"});s.Dispose=c.Tools.EventHandlers.createHandlers(s,{id:"Dispose"});s.ValueChanged=c.Tools.EventHandlers.createHandlers(s,{id:"ValueChanged"});s.render=v;s.recalculateState=u;s.getType=function(){return A.layoutControlType;};var h,i,f=A.disablingValues||[];function v(){return c.UI.LinkedDropDownListsControlTemplate(A);}function t(B){B.recalculateState();}function u(){h.forEach(t);}function n(B){return f.indexOf(B)>=0;}function x(B,C){var D=h[C+1];if(!D){return;}if(n(B.getValue())){if(D.isEnabled()){D.resetToFirstOption();D.disable();}}else{if(!D.isEnabled()){D.enable();}}}function j(B,C){B.EnabledStateChanged.addHandler(o);x(B,C);}function q(C,B){s.RenderComplete.fireHandlers();h.forEach(j);}function o(E,B){B=B||{};var C=h.indexOf(E),D=h[C+1];if(!D){return;}if(B.state===true&&(C===0||!n(D.getValue()))){D.enable();}else{D.resetToFirstOption();D.disable();}}function p(C,B){x(C,h.indexOf(C));s.ValueChanged.fireHandlers();}function e(E,D,F){var C=i[E.attr.eventTags].valueIndex,B;E.valueAccessor=z.createChildValueAccessor(C+".value",s);E.id=A.id+"_"+D;if(D!==F.length-1){if(E.initiallySelectedItem.value===A.noneOptionValue||(D>0&&E.disabled)){F[D+1].disabled=true;}}B=c.UI.ControlFactory.createControl(c.UI.ControlType.WaDropDownList,E,{parentComponent:s},w);B.ValueChanged.addHandler(p);return B;}function k(){r.RenderComplete.addHandler(q);r.Dispose.addHandler(g);z=c.UI.Helpers.ValueAccessorHelper.createValueAccessor(m,s);i=c.UI.Helpers.ValueAccessorHelper.mapLayoutElementsToValue(A.dropDownList,z.getValue());h=A.dropDownList.map(e);}function g(){s.Dispose.fireHandlers();r.RenderComplete.removeHandler(q);r.Dispose.removeHandler(g);A=null;r=null;s.RenderComplete=null;s.Dispose=null;}k();}})(window,WA);(function(f,e,d){if(!e.UI.LinkedDropDownListsControlTemplate){e.UI.LinkedDropDownListsControlTemplate=b;}function b(h){var g=e.UI.ControlLayoutTemplate;h.controlContainerDisplayType=e.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;h.cssClass="linkedDropDownListControl"+(h.cssClass?" "+h.cssClass:"");h.layoutContentHTML=a(h);return g(h);}function c(g){return e.UI.WaDropdownListTemplate(g);}function a(i){var h=e.UI.ContainerTemplate({cssClass:"horizontalDivider"}),g=i.dropDownList.map(c);return g.join(h);}})(window,WA);(function(c,b,a){if(!b.UI.ListItemTemplate){b.UI.ListItemTemplate=function(f){var d=[];d.push("<li");if(f.cssClass!=a){d.push(' class="'+f.cssClass+'"');}if(f.id!=a){d.push(' id="'+f.id+'"');}if(f.attr!=a){for(var e in f.attr){d.push(" "+e+'="'+f.attr[e]+'"');}}d.push(">");if(f.contentHTML!=a){d.push(f.contentHTML);}d.push("</li>");return d.join("");};}})(window,WA);(function(c,b,a){if(!b.UI.ListTemplate){b.UI.ListTemplate=function(f){var d=[];d.push("<ul");if(f.cssClass!=a){d.push(' class="'+f.cssClass+'"');}if(f.id!=a){d.push(' id="'+f.id+'"');}if(f.attr!=a){for(var e in f.attr){d.push(" "+e+'="'+f.attr[e]+'"');}}d.push(">");if(f.contentHTML!=a){d.push(f.contentHTML);}d.push("</ul>");return d.join("");};}})(window,WA);(function(c,b){if(!b.UI.ListArray){b.UI.ListArray=a;}function a(g,f){f=f||{};var m=this,o="WA.UI.ListArray",p=g,l=f.parentComponent;m.toString=function(){return o;};m.RenderComplete=b.Tools.EventHandlers.createHandlers(m,{id:"RenderComplete"});m.Dispose=b.Tools.EventHandlers.createHandlers(m,{id:"Dispose"});m.ValueChanged=b.Tools.EventHandlers.createHandlers(m,{id:"ValueChanged"});var i=[];var h=[];m.init=e;m.dispose=d;m.render=n;function n(){return b.UI.ListArrayTemplate(p);}function k(r,q){m.RenderComplete.fireHandlers();}function j(u,q){m.ValueChanged.fireHandlers(q);var r,t,s;for(r=0,t=h.length;r<t;r++){s=h[r];if(u!==s){s.setSelectedValue(q.value);}}}function e(){l.RenderComplete.addHandler(k);l.Dispose.addHandler(d);var q,s,r;for(q=0,s=p.lists.length;q<s;q++){r=p.lists[q];var t=new b.UI.ListControl({id:p.id+q+b.UI.ListControlTemplate.IdPostfix,items:r,selectedValue:p.selectedValue,initialValues:p.initialValues},{parentComponent:m});t.ValueChanged.addHandler(j);i.push(r);h.push(t);}}function d(){m.Dispose.fireHandlers();l.RenderComplete.removeHandler(k);l.Dispose.removeHandler(d);p=null;l=null;i=null;m.RenderComplete=null;m.Dispose=null;m.ValueChanged=null;}}})(window,WA);(function(c,b){if(!b.UI.ListArrayTemplate){b.UI.ListArrayTemplate=a;}function a(k){var f,j,g,d=[],h=b.UI.ListControlTemplate,e=b.UI.ContainerTemplate;for(f=0,j=k.lists.length;f<j;f++){g=k.lists[f];g.id=k.id+f+b.UI.ListControlTemplate.IdPostfix;d.push(h(g));}return e({id:k.id,cssClass:"listArrayControlContainer"+(k.cssClass!==undefined?" "+k.cssClass:""),contentHTML:d.join("")});}b.UI.ListArrayTemplate.IdPostfix="_listArray";})(window,WA);(function(d,c,b){if(!c.UI.ListControl){c.UI.ListControl=a;c.UI.ListControl.TypeName="WA.UI.ListControl";c.UI.ListControl.SelectEvent={Click:"click",DoubleClick:"dblClick"};}function a(o,n){n=n||{};var E=this,N=c.UI.ListControl.TypeName,O=o,C=n.parentComponent;E.toString=function(){return N;};E.ValueChanged=c.Tools.EventHandlers.createHandlers(E,{id:"ValueChanged"});E.ContainerMouseDown=c.Tools.EventHandlers.createHandlers(E,{id:"ContainerMouseDown"});E.RenderComplete=c.Tools.EventHandlers.createHandlers(E,{id:"RenderComplete"});E.Dispose=c.Tools.EventHandlers.createHandlers(E,{id:"Dispose"});var I,p,w=O.itemsMetadata||{},x,v,g=c.Object.copy(O.items),f,s=O.isCurrentItemDisabled!==b?O.isCurrentItemDisabled:false,r=O.isCurrentItemActive!==b?O.isCurrentItemActive:true,M,t=false,D=n.processDoubleClick;O.attr=O.attr||{eventTags:O.id};E.dispose=h;E.render=F;E.renderComplete=B;E.getValue=l;E.isItemExist=u;E.setSelectedValue=L;E.resetSelectedValue=H;E.getListName=function(){return O.listName;};E.getListId=function(){return O.id;};E.insertListItem=q;E.setCurrentItem=J;E.getCurrentItem=i;function l(){return I;}function F(){return c.UI.ListControlTemplate(O);}function B(R,P){var Q=c.$(O.id);c.addHandler(Q,"click",y);c.addHandler(Q,"mousedown",A);if(D){c.addHandler(Q,"dblclick",z);}K(O.selectedValue,c.UI.ListControlTemplate.ItemState.Current);if(r){K(O.selectedValue,c.UI.ListControlTemplate.ItemState.Active);}E.RenderComplete.fireHandlers();}function q(U,R){var S=e(U);if(x.hasOwnProperty(S.key)){throw new Error("list item with key: "+S.key+" already exists");}x[S.key]=S.item;var P=c.$(O.id),Q,T=c.UI.ListControlItemTemplate({id:U.id,model:U});if(O.headerHTML){Q=c.$(O.id+c.UI.ListControlTemplate.HeaderPostfix);c.Dom.insertAdjacentHTML(Q,T,"afterEnd");g.splice(0,0,U);}else{c.Dom.insertAdjacentHTML(P,T,"afterBegin");g.splice(0,0,U);}}function y(P){var Q=k(P);if(!Q||Q==f){return;}if(s&&p!=b&&Q.toString().toLowerCase()==p.toLowerCase()){return;}L(Q,{selectEvent:c.UI.ListControl.SelectEvent.Click});}function z(P){var Q=k(P);if(!Q){return;}if(s&&p!=b&&Q.toString().toLowerCase()==p.toLowerCase()){return;}L(Q,{selectEvent:c.UI.ListControl.SelectEvent.DoubleClick});}function A(P){E.ContainerMouseDown.fireHandlers({event:P});}function k(P){var Q=c.getEventTags(P);if(!Q){return null;}if(Q.indexOf(c.UI.ListControlTemplate.SelectItemEventTagPrefix)<0){return null;}return Q.split(c.UI.ListControlTemplate.SelectItemEventTagPrefix)[1];}function L(Q,P){P=P||{};if((I&&I==Q)&&(P.selectEvent!=c.UI.ListControl.SelectEvent.DoubleClick)){return;}H();K(Q,c.UI.ListControlTemplate.ItemState.Active,true);E.ValueChanged.fireHandlers({name:O.attr.eventTags,value:I,listName:O.listName,selectEvent:P.selectEvent});}function G(){if(!f){return;}var P=j(f);c.Dom.removeClassName(P,c.UI.ListControlTemplate.ItemState.Current);P=null;}function i(){return j(f);}function J(Q){if(!Q){return;}G();f=Q;var P=j(f);c.Dom.addClassName(P,c.UI.ListControlTemplate.ItemState.Current);P=null;}function K(R,P,T){if(!R){return;}var S=c.UI.Helpers.ListControlHelper.createItemIndex(R.toString().toLowerCase());if(x[S]==b){return;}if(x[S].metadata&&T===true&&x[S].metadata.disabled===true){return;}var Q;if(I){Q=j(I);c.Dom.removeClassName(Q,P);}I=R;Q=j(I);c.Dom.addClassName(Q,P);Q=null;}function u(P){return x[c.UI.Helpers.ListControlHelper.createItemIndex(P.toString().toLowerCase())];}function j(Q){var P=u(Q);var R="#"+O.id+' [listid="'+u(Q).id+'"]';return document.querySelector(R);}function H(){if(!I){return;}var P=j(I);c.Dom.removeClassName(P,c.UI.ListControlTemplate.ItemState.Active);P=null;I=null;}function e(P){return{key:c.UI.Helpers.ListControlHelper.createItemIndex((P.value+"").toLowerCase()),item:{id:P.id,metadata:w[c.UI.Helpers.ListControlHelper.createItemIndex(P.value)]}};}function m(){C.RenderComplete.addHandler(B);C.Dispose.addHandler(h);if(O.titleModel){O.titleModel.id=O.id+"_title";M=c.Object.create(c.UI.TextContainer,[O.titleModel,{parentComponent:E}]);}x={};var P,S,R,Q,T=O.selectedValue!==b?(O.selectedValue+"").toLowerCase():b;for(P=0,S=g.length;P<S;P++){R=g[P];Q=e(R);x[Q.key]=Q.item;}I=(T!=b&&(x[c.UI.Helpers.ListControlHelper.createItemIndex(T)]!=b))?T:null;p=I;}function h(){if(t){return;}E.Dispose.fireHandlers();if(v){c.removeHandler(v,"click",y);c.removeHandler(v,"mousedown",A);if(D===true){c.removeHandler(v,"dblclick",z);}}v=null;C.RenderComplete.removeHandler(B);C.Dispose.removeHandler(h);O=null;C=null;I=null;M=null;g=null;f=null;E.ValueChanged=null;E.RenderComplete=null;E.Dispose=null;E.insertListItem=null;t=true;}m();}})(window,WA);(function(c,b,a){if(!b.UI.Helpers.ListControlHelper){b.UI.Helpers.ListControlHelper={};b.UI.Helpers.ListControlHelper.createItemIndex=function(d){return d.replace(/\./gi,"_");};}})(window,WA);(function(d,c,b){if(!c.UI.ListControlItemTemplate){c.UI.ListControlItemTemplate=a;}function a(f){var e={};e[c.eventTagsAttribute]=c.UI.ListControlTemplate.SelectItemEventTagPrefix+f.model.value;e.listId=f.id;return c.UI.ContainerTemplate({cssClass:"listControlItemContainer"+(f.model.cssClass?" "+f.model.cssClass:"")+(f.isSelected?" selected":"")+(f.isDisabled?" disabled":"")+(f.isFirst?" first":"")+(f.isLast?" last":"")+(f.isOnly?" only":""),attr:e,contentHTML:f.model.contentHTML});}})(window,WA);(function(d,c,b){if(!c.UI.ListControlTemplate){c.UI.ListControlTemplate=a;c.UI.ListControlTemplate.SelectItemEventTagPrefix="selectItem-";c.UI.ListControlTemplate.HeaderPostfix="_Header";c.UI.ListControlTemplate.ItemState={Current:"current",Active:"active"};}function a(n){n.items=n.items||[];var f,l,h,e=[],j=n.itemsMetadata||{},k,g=n.items.length===1;if(n.titleModel){n.titleModel.cssClass="listControlTitleContainer"+(n.titleModel.cssClass?" "+n.titleModel.cssClass:"");e.push(c.UI.TextContainerTemplate(n.titleModel));}if(n.headerHTML){e.push(c.UI.ContainerTemplate({id:n.id+c.UI.ListControlTemplate.HeaderPostfix,cssClass:"listHeader",contentHTML:n.headerHTML}));}for(f=0,l=n.items.length,k=l-1;f<l;f++){h=n.items[f];e.push(c.UI.ListControlItemTemplate({id:h.id,model:h,isSelected:(n.selectedValue!==b&&(n.selectedValue===h.value)),isDisabled:j[c.UI.Helpers.ListControlHelper.createItemIndex(h.value)]&&j[c.UI.Helpers.ListControlHelper.createItemIndex(h.value)].disabled===true,isFirst:!g&&f===0,isLast:!g&&f===k,isOnly:g}));}if(n.footerText!==b){e.push(c.UI.ContainerTemplate({cssClass:"overflowInfo",contentText:n.footerText}));}return c.UI.ContainerTemplate({id:n.id,cssClass:"listControlContainer"+(n.cssClass?" "+n.cssClass:""),contentHTML:e.join("")});}})(window,WA);(function(c,b){if(!b.UI.ListOfRadioButtonList){b.UI.ListOfRadioButtonList=a;b.UI.ListOfRadioButtonList.TypeName="WA.UI.ListOfRadioButtonList";}function a(k,j){j=j||{};j.currentWindow=j.currentWindow||c;var r=this,u=b.UI.ListOfRadioButtonList.TypeName,q=j.parentComponent,w=k,v,h,g,t,d,l=[];r.ValueChanged=b.Tools.EventHandlers.createHandlers(r,{id:"ValueChanged"});r.ValidationFailed=b.Tools.EventHandlers.createHandlers(r,{id:"ValidationFailed"});r.RenderComplete=b.Tools.EventHandlers.createHandlers(r,{id:"RenderComplete"});r.Dispose=b.Tools.EventHandlers.createHandlers(r,{id:"Dispose"});r.VisualStateChanged=b.Tools.EventHandlers.createHandlers(r,{id:"VisualStateChanged"});r.toString=function(){return u;};r.render=s;r.getValue=function(){return v.getValue();};r.getType=function(){return w.layoutControlType;};var f={};function s(){return b.UI.ListOfRadioButtonListTemplate(w);}function n(){d=b.$(w.id);t=new b.UI.ToolTip({target:d,id:w.id+"toolTip"},{parentComponent:r});r.RenderComplete.fireHandlers();}function m(y,x){r.ValueChanged.fireHandlers();}function p(y,x){r.VisualStateChanged.fireHandlers();}function o(){r.ValidationFailed.fireHandlers();}function i(){q.RenderComplete.addHandler(n);q.Dispose.addHandler(e);if(q.ValidationFailed){q.ValidationFailed.addHandler(o);}v=b.UI.Helpers.ValueAccessorHelper.createValueAccessor(k,r);f=b.UI.Helpers.ValueAccessorHelper.mapLayoutElementsToValue(w.items,v.getValue());var x,z,y,A;for(x=0,z=w.items.length;x<z;x++){y=w.items[x];y.id=w.id+x;y.name=w.id;y.repeatType="horizontal";y.valueAccessor=v.createChildValueAccessor(f[y.attr.eventTags].valueIndex+".value",r);A=new b.UI.RadioButtonList(y,{parentComponent:r});A.ValueChanged.addHandler(m);A.VisualStateChanged.addHandler(p);l.push(A);}if(w.header){h=new b.UI.ListOfRadioButtonListHeader(w.header,{parentComponent:r});}if(w.footer){g=new b.UI.ListOfRadioButtonListFooter(w.footer,{parentComponent:r});}}function e(){r.Dispose.fireHandlers();q.RenderComplete.removeHandler(n);q.Dispose.removeHandler(e);if(q.ValidationFailed){q.ValidationFailed.removeHandler(o);}r.ValidationFailed=null;r.Dispose=null;r.RenderComplete=null;r.ValueChanged=null;r.VisualStateChanged=null;l=null;t=null;d=null;v=null;}i();}})(window,WA);(function(c,b){if(!b.UI.ListOfRadioButtonListTemplate){b.UI.ListOfRadioButtonList.TextContainerPostfix="_textContainer";b.UI.ListOfRadioButtonListTemplate=function a(k){var l=k.titleWidth?k.titleWidth:148,e=b.UI.ContainerTemplate,n=b.UI.RadioButtonListTemplate,f,j,g,d=[],h=k.items;if(k.header!="undefined"&&h.length>0){k.header.firstItem=k.items[0];}for(f=0,j=h.length;f<j;f++){g=h[f];g.titlePosition=g.titlePosition?g.titlePosition:b.UI.ControlLayoutTemplate.TitlePosition.Left;g.titleWidth=g.titleWidth?g.titleWidth:l;if(f%2==0){if(g.cssClass){g.cssClass+=" coloredRadioButtonList";}else{g.cssClass="coloredRadioButtonList";}}d.push(n(g));}return e({id:k.id,cssClass:"waControlLayout listOfRadioButtonList",attr:{eventTags:k.eventTags},contentHTML:b.UI.ListOfRadioButtonListHeaderTemplate(k.header)+e({cssClass:"waControlWrapper",contentHTML:e({id:k.id+b.UI.ListOfRadioButtonListTemplate.IdPostfix,cssClass:"listOfRadioButtonListContainer",contentHTML:d.join(""),attr:b.UI.Helpers.ControlHelper.createContainerAttributes(k)})})+b.UI.ListOfRadioButtonListFooterTemplate(k.footer)});};b.UI.ListOfRadioButtonListTemplate.createSummary=function(d){if(d.hideInSummary){return"";}throw new Error("not implemented!");};b.UI.ListOfRadioButtonListTemplate.IdPostfix="_ListRbList";b.UI.ListOfRadioButtonListTemplate.IdContainerTitlePostfix="_ListRbListTitleContainer";b.UI.ListOfRadioButtonListTemplate.IdTitlePostfix="_ListRbListTitle";}})(window,WA);(function(d,c,b){if(!c.UI.ListOfRadioButtonListFooter){c.UI.ListOfRadioButtonListFooter=a;}function a(j,i){i=i||{};var n=this,p="WA.UI.ListOfRadioButtonListFooter",q=j,g=q.icons,m=i.parentComponent;n.toString=function(){return p;};n.RenderComplete=c.Tools.EventHandlers.createHandlers(n,{id:"RenderComplete"});n.Dispose=c.Tools.EventHandlers.createHandlers(n,{id:"Dispose"});var k=false;n.render=o;function o(){return c.UI.ListOfRadioButtonListFooterTemplate(q);}function l(s,r){n.RenderComplete.fireHandlers();}function h(){m.RenderComplete.addHandler(l);m.Dispose.addHandler(f);}function e(){if(!g){return;}var s,t,r;for(s=0,t=g.length;s<t;s++){r=g[s];if(r.hideTitle){continue;}r.id=q.id+"_"+r.iconType;new c.UI.Icon(r,{parentComponent:n});}}function f(){if(k){return;}n.Dispose.fireHandlers();m.RenderComplete.removeHandler(l);m.Dispose.removeHandler(f);q=null;m=null;n.RenderComplete=null;n.Dispose=null;k=true;}h();}})(window,WA);(function(e,d,c){if(!d.UI.ListOfRadioButtonListFooterTemplate){d.UI.ListOfRadioButtonListFooterTemplate=b;}function b(f){if(!f){return"";}return a(f,f.icons);}function a(n,h){if(!h){return"";}var j,l,g,k=[],f=d.UI.ContainerTemplate,i;for(j=0,l=h.length;j<l;j++){g=h[j];i=h[j].iconLegend;k.push(f({cssClass:"legendElementContainer",contentHTML:d.UI.IconTemplate(g)+d.UI.TextContainerTemplate({contentText:"- "+i})}));}return f({cssClass:"legendContainer",id:n.id,attr:n.attr,contentHTML:k.join("")});}})(window,WA);(function(d,c,b){if(!c.UI.ListOfRadioButtonListHeader){c.UI.ListOfRadioButtonListHeader=a;}function a(j,i){i=i||{};var n=this,p="WA.UI.ListOfRadioButtonListHeader",q=j,g=q.icons,m=i.parentComponent;n.toString=function(){return p;};n.RenderComplete=c.Tools.EventHandlers.createHandlers(n,{id:"RenderComplete"});n.Dispose=c.Tools.EventHandlers.createHandlers(n,{id:"Dispose"});var k=false;n.render=o;function o(){return c.UI.ListOfRadioButtonListHeaderTemplate(q);}function l(s,r){n.RenderComplete.fireHandlers();}function h(){m.RenderComplete.addHandler(l);m.Dispose.addHandler(f);}function e(){if(!g){return;}var s,t,r;for(s=0,t=g.length;s<t;s++){r=g[s];r.id=q.id+"_"+r.iconType;new c.UI.Icon(r,{parentComponent:n});}}function f(){if(k){return;}n.Dispose.fireHandlers();m.RenderComplete.removeHandler(l);m.Dispose.removeHandler(f);q=null;m=null;n.RenderComplete=null;n.Dispose=null;k=true;}h();}})(window,WA);(function(e,d,c){if(!d.UI.ListOfRadioButtonListHeaderTemplate){d.UI.ListOfRadioButtonListHeaderTemplate=b;}function b(h){if(!h){return"";}var i=h.titleWidth?h.titleWidth:148,f=d.UI.ContainerTemplate,g=h.icons,j=d.UI.TextContainerTemplate;return f({cssClass:"waControlTitle listOfRadioButtonListTitleContainer",id:h.id+"_ListOfRadioButtonListTitleContainer",attr:{eventTags:"ListOfRadioButtonListTitleContainer"},contentHTML:j({contentText:h.title,id:h.id+d.UI.ListOfRadioButtonList.TextContainerPostfix,displayType:d.UI.TextContainerTemplate.DisplayType.SingleLine,fadeMode:false,attr:{style:"width: "+(h.firstItem!=c&&h.firstItem.titleWidth!=c?h.firstItem.titleWidth:i)+"px;"}})+a(h,g,d.UI.BulletedContainerTemplate.RightIconsContainerPostfix)});}function a(l,i,n){if(!i){return"";}var h,k,g,j=[],f=d.UI.ContainerTemplate;for(h=0,k=i.length;h<k;h++){g=i[h];if(g.hideTitle){continue;}j.push(d.UI.IconTemplate(g));if(h!=i.length-1){j.push(f({cssClass:"iconsDivider"}));}}return f({cssClass:"iconsContainer "+(n==d.UI.BulletedContainerTemplate.LeftIconsContainerPostfix?"left":"right"),id:l.id+n,attr:l.attr,contentHTML:j.join("")});}})(window,WA);(function(d,c,b){if(!c.UI.MembershipLevelsControl){c.UI.MembershipLevelsControl=a;}function a(s,r,G){r=r||{};var E=this,K="WA.UI.MembershipLevelsControl",M=s,L,C=r.parentComponent;M.maxHeight=M.maxHeight||250;E.toString=function(){return K;};E.RenderComplete=c.Tools.EventHandlers.createHandlers(E,{id:"RenderComplete"});E.ValidationFailed=c.Tools.EventHandlers.createHandlers(E,{id:"ValidationFailed"});E.Dispose=c.Tools.EventHandlers.createHandlers(E,{id:"Dispose"});E.ValueChanged=c.Tools.EventHandlers.createHandlers(E,{id:"ValueChanged"});E.VisualStateChanged=c.Tools.EventHandlers.createHandlers(E,{id:"VisualStateChanged"});var e,t,u,I,g,J=0,o=50;M.groupOperations.id=M.id+c.UI.CheckBoxListTopGroupOperationsTemplate.IdPostfix;E.render=F;E.parentSelected=D;E.show=H;E.hide=p;E.disable=k;E.enable=m;E.getValue=function(){return L.getValue();};E.getType=function(){return M.layoutControlType;};function D(N){c.UI.Helpers.ControlHelper.applyParentSelectedBehavior(E,M.parentChangeBehaviour,N);t.parentSelected(N);}function k(){c.Dom.addClassName(g,"disabled");}function m(){c.Dom.removeClassName(g,"disabled");}function H(){c.Dom.removeClassName(g,"hidden");c.throttle(n,o);}function p(){c.Dom.addClassName(g,"hidden");c.throttle(n,o);}function n(){E.VisualStateChanged.fireHandlers();}function F(){return c.UI.MembershipLevelsControlTemplate(M);}function y(O,N){g=c.$(M.id+c.UI.MembershipLevelsControlTemplate.ControlIdPostfix);if(!g){throw new Error("controlElem was not found!");}E.RenderComplete.fireHandlers();if(L.getValue("allSelected")===true){t.selectAll();}if(I.getValue()=="Manual"){t.enableManualSorting();}}function A(){E.ValidationFailed.fireHandlers();}function B(O,N){E.VisualStateChanged.fireHandlers();}function x(O,N){if(N.sortOrder){w(O,N);return;}if(N.checkBoxCheckedState===false){e.setValue(null,false);}E.ValueChanged.fireHandlers(N);}function w(R,N){if(!N.orderedItems){throw new Error("args.orderedItems is required");}var Q=[];for(var O=0,P=N.orderedItems.length;O<P;O++){Q.push(N.orderedItems[O].attr.eventTags);}L.setValue(Q,"manualLevelsOrder");E.ValueChanged.fireHandlers();}function v(P,O){var N=L.getValue("allSelected");if(N){t.selectAll();}else{t.deselectAll();}}function z(O,N){if(N.newValue=="Manual"){M.levels.items.sort(f);t.applyNewModel();t.enableManualSorting();}else{t.disableManualSorting();M.levels.items.sort(f);t.applyNewModel();}E.ValueChanged.fireHandlers();}function h(){e=new c.UI.CheckBox({id:M.groupOperations.id+c.UI.CheckBoxListTopGroupOperationsTemplate.IdCheckBoxPostfix,valueAccessor:L.createChildValueAccessor("allSelected",E),fadeMode:false},{parentComponent:E},G);e.ValueChanged.addHandler(v);}function i(O){var N;N=M.levels;if(O){N.items=M.levels.items.sort(f);}N.id=N.id||(M.id+"_list");N.groupOperationsDisabled=true;N.scrolling={enabled:true,maxHeight:250};N.valueAccessor=L.createChildValueAccessor("selectedLevels",E);t=new c.UI.CheckBoxList(N,{parentComponent:E},G);t.ValueChanged.addHandler(x);t.VisualStateChanged.addHandler(B);J=N.items.length;}function f(O,Q,T){var S=L.getValue().manualLevelsOrder||[],N="TitleAsc";T=T||I.getValue();switch(T){case"PriceAsc":if(O.sortField==Q.sortField){return f(O,Q,N);}return(O.sortField<Q.sortField)?-1:1;case"PriceDesc":if(O.sortField==Q.sortField){return f(O,Q,N);}return(O.sortField>Q.sortField)?-1:1;case"TitleAsc":return(O.contentText.toLowerCase()<Q.contentText.toLowerCase())?-1:1;case"TitleDesc":return(O.contentText.toLowerCase()>Q.contentText.toLowerCase())?-1:1;case"Manual":var P=S.indexOf(O.attr.eventTags);var R=S.indexOf(Q.attr.eventTags);if(P==R){return f(O,Q,N);}if(P==-1){return 1;}if(R==-1){return -1;}return(P<R)?-1:1;}return 0;}function j(){var N=M.sortingOptions;N.id=N.id||(M.id+c.UI.MembershipLevelsControlTemplate.SortLevelsDropdowsPostfix);N.valueAccessor=L.createChildValueAccessor("sortingMode",E);I=new c.UI.WaDropdownList(N,{parentComponent:E},G);I.ValueChanged.addHandler(z);}function q(){C.RenderComplete.addHandler(y);C.Dispose.addHandler(l);if(C.ValidationFailed){C.ValidationFailed.addHandler(A);}L=c.UI.Helpers.ValueAccessorHelper.createValueAccessor(s,E);j();i(true);h();}function l(){E.Dispose.fireHandlers();C.RenderComplete.removeHandler(y);C.Dispose.removeHandler(l);if(C.ValidationFailed){C.ValidationFailed.removeHandler(A);}c.clearThrottle(n);M=null;C=null;e=null;t=null;u=null;I=null;E.RenderComplete=null;E.Dispose=null;E.ValidationFailed=null;E.ValueChanged=null;E.VisualStateChanged=null;}q();}})(window,WA);(function(g,f,e){if(!f.UI.MembershipLevelsControlTemplate){f.UI.MembershipLevelsControlTemplate=d;f.UI.MembershipLevelsControlTemplate.LevelsListsTemplate=a;f.UI.MembershipLevelsControlTemplate.ControlIdPostfix="_membershipLevelsControl";f.UI.MembershipLevelsControlTemplate.SortLevelsDropdowsPostfix="_sortLevelsDropDown";}function d(h){return f.UI.ContainerTemplate({id:h.id+f.UI.MembershipLevelsControlTemplate.ControlIdPostfix,cssClass:"membershipLevelsControl",contentHTML:b(h)});}function b(h){return f.UI.CheckBoxListTopGroupOperationsTemplate(h.groupOperations)+f.UI.WaDropdownListTemplate(h.sortingOptions)+a(h);}function a(h){return(h.levels.items&&h.levels.items.length>0)?f.UI.CheckBoxListTemplate(h.levels):c(h);}function c(h){return f.UI.ContainerTemplate({cssClass:"emptyListDescription",contentHTML:h.emptyListDescription!==e?h.emptyListDescription:h.resources.defaultEmptyListDescription});}})(window,WA);(function(d,c,b){if(!c.UI.MessageBox){c.UI.MessageBox=a;}c.UI.MessageBox.Type={Info:"info",Warning:"warning"};function a(j,i){i=i||{};var n=this,q="WA.UI.MessageBox",r=j,m=i.parentComponent,e;n.toString=function(){return q;};n.RenderComplete=c.Tools.EventHandlers.createHandlers(n,{id:"RenderComplete"});n.Dispose=c.Tools.EventHandlers.createHandlers(n,{id:"Dispose"});var k=false;n.render=o;n.show=p;n.hide=g;function o(){return c.UI.MessageBoxTemplate(r);}function p(){c.Dom.removeClassName(e,"hidden");}function g(){c.Dom.addClassName(e,"hidden");}function l(t,s){e=c.$(r.id+c.UI.ControlLayoutTemplate.IdControlLayoutPostfix);n.RenderComplete.fireHandlers();}function h(){m.RenderComplete.addHandler(l);m.Dispose.addHandler(f);}function f(){if(k){return;}n.Dispose.fireHandlers();m.RenderComplete.removeHandler(l);m.Dispose.removeHandler(f);r=null;m=null;n.RenderComplete=null;n.Dispose=null;k=true;}h();}})(window,WA);(function(e,d,c){if(!d.UI.MessageBoxTemplate){d.UI.MessageBoxTemplate=b;}function b(h){var g=d.UI.ContainerTemplate;h.layoutContentHTML=g({id:h.id,cssClass:"messageBox "+a(h.type||d.UI.MessageBox.Type.Info),contentHTML:h.contentHtml});h.cssClass="messageBoxContainer";var f=d.UI.ControlLayoutTemplate;return f(h);}function a(f){switch(f){case d.UI.MessageBox.Type.Info:return"info";case d.UI.MessageBox.Type.Warning:return"warning";default:throw new Error("Unknown messagebox type: "+f);}}})(window,WA);(function(c,b,a){if(b.UI.ModelDataType){return;}b.UI.ModelDataType={Undefined:"Undefined",Int:"Int",Enum:"Enum",String:"String",Double:"Double",Object:"Object",Collection:"Collection",DateTimePeriod:"DateTimePeriod",DateAndTimePeriod:"DateAndTimePeriod",DateTimeTicks:"DateTimeTicks"};})(window,WA);(function(c,b){if(!c.WA.UI.NumberTextbox){b.UI.NumberTextbox=a;b.UI.NumberTextbox.TypeName="WA.UI.NumberTextbox";}function a(D,e){e=e||{};var W=this,aj=b.UI.NumberTextbox.TypeName,T=e.parentComponent,am=D,Y=am.resources,al,j;am.attr=am.attr||am.id;am.isEnabled=am.isEnabled||true;W.toString=function(){return aj;};W.ValueChanged=b.Tools.EventHandlers.createHandlers(W,{id:"ValueChanged"});W.RenderComplete=b.Tools.EventHandlers.createHandlers(W,{id:"RenderComplete"});W.Dispose=b.Tools.EventHandlers.createHandlers(W,{id:"Dispose"});W.VisualStateChanged=b.Tools.EventHandlers.createHandlers(W,{id:"VisualStateChanged"});var y=am.hasOwnProperty("hasArrows")?!!am.hasArrows:true,w={},ai,i,g,E=false,f,h,z=am.hidden===true;W.render=X;W.dispose=r;W.setValue=af;W.renderComplete=O;W.isEnabled=function(){return am.isEnabled;};W.parentSelected=U;W.getValue=function(){return al.getValue();};W.getType=function(){return am.layoutControlType;};W.show=ag;W.hide=A;W.enable=t;W.disable=o;W.setPostfix=ad;W.getMinValue=function(){return am.minValue;};W.setMinValue=ac;W.setDefaultValue=ab;W.isHidden=function(){return z;};function ab(an){if(b.getTypeString(an)!="number"){throw new Error("newDefaultValue is not a number");}if(am.defaultValue==an){return;}am.defaultValue=an;ai.setDefaultValue(an);}function ac(an){if(b.getTypeString(an)!="number"){throw new Error("newMinValue is not a number");}if(am.minValue==an){return;}var ao=al.getValue();am.minValue=an;Z(ao);if(ao<an){ai.setValue(an);ak();}}function ad(an){b.UI.Helpers.ControlHelper.setPostfix(am.id,an);}function ag(){if(!z){return;}var an=(al.getValue()!=undefined&&al.getValue()!="")?al.getValue():am.hint;z=false;Z(an);ak();ai.show();}function A(){if(z){return;}z=true;ai.hide();}function t(){ai.enable();am.isEnabled=true;var an=(al.getValue()!=undefined&&al.getValue()!="")?al.getValue():am.hint;Z(an);ak();}function o(){ai.disable();p();q();am.isEnabled=false;}function U(an){b.UI.Helpers.ControlHelper.applyParentSelectedBehavior(W,am.parentChangeBehaviour,an);}function af(ao,an){ai.setValue(ao);ak();if(an===false){return;}W.ValueChanged.fireHandlers();}function X(){return b.UI.NumberTextboxTemplate(am);}function O(){b.Tools.disposeEventModel(w,am.frameWindow);if(y){f=b.$(g);h=b.$(i);ah();}W.RenderComplete.fireHandlers();if(am.isEnabled){t();}else{o();}}function ah(){b.addHandler(f,"click",G);b.addHandler(f,"mousedown",H);b.addHandler(f,"mouseup",I);b.addHandler(f,"mouseout",J);b.addHandler(h,"click",K);b.addHandler(h,"mousedown",L);b.addHandler(h,"mouseup",M);b.addHandler(h,"mouseout",N);}function R(){var an=al.getErrors();if(an.length>0){ai.showValidationMessages(al.getErrors());}else{ai.hideValidationMessages();}}function ak(){var an=F(ai.getValue());al.setValue((ai.getValue()===""||ai.getValue()==="-")?null:an);}function Z(an){if(an<=am.minValue){p();}else{u();}if(an>=am.maxValue){q();}else{v();}}function K(an){if(!am.isEnabled){return;}var aq=(ai.getValue()!=undefined&&ai.getValue()!="")?ai.getValue():am.hint,ao,ap=F(aq,false);ao=k(B(ap));ai.setValue(ao);}function B(an){return s(an,function(ao){return ao+am.incrementValue;});}function n(an){return s(an,function(ao){return ao-am.decrementValue;});}function s(ao,an){if(am.precision&&am.precision>0){return b.Number.toFixed(an(ao),am.precision);}return an(ao);}function G(an){if(!am.isEnabled){return;}var ar=ai.getValue();if(E){return;}var aq=(ai.getValue()!=undefined&&ai.getValue()!="")?ai.getValue():am.hint,ao,ap=F(aq,false);ao=k(n(ap));ai.setValue(ao);}function H(ao,an){aa(f,true);}function I(ao,an){aa(f,false);}function J(ao,an){aa(f,false);}function L(ao,an){aa(h,true);}function M(ao,an){aa(h,false);}function N(ao,an){aa(h,false);}function aa(an,ao){if(ao){b.Dom.addClassName(an,"active");return;}b.Dom.removeClassName(an,"active");}function k(an){if(!an&&an!==0){return"";}if(an>am.maxValue){return am.maxValue;}if(an<am.minValue){return am.minValue;}return an;}function d(an,ao){ao=ao!=undefined?ao:true;if(ao&&ai.getValue()!==""&&(ai.getValue()!=an||V(ai.getValue())!==an)){ai.setValue(an);}if(al.getValue()!=undefined&&al.getValue().toString()===ai.getValue()){return;}ak();W.ValueChanged.fireHandlers({controlId:am.id,newValue:an});}function P(ap,an){var ao=F(ai.getValue()),aq;d(ao);aq=(ao!=undefined&&ao!="")?ao:am.hint;Z(aq);}function S(ao,an){W.VisualStateChanged.fireHandlers();}function Q(ap,an){var ao=F(ai.getValue());Z(ao);d(ao,false);}function F(ao){var an;if(ao=="-"){an="-";}else{if(ao===""||isNaN(V(ao))){an=null;}else{an=k(V(ao));}}return an;}function V(an){if(am.precision&&am.precision>0){return b.Number.toFixed(parseFloat(an),am.precision);}return parseInt(an);}function l(){j={};j.behaviors=[];j.behaviors.push({type:"mask",value:x()});if(am.defaultValue!=undefined){j.behaviors.push({type:"defaultValue",value:am.defaultValue});}}function x(){if(am.precision&&am.precision>0){return(am.minValue>=0)?"^\\d*\\.?\\d*$":"^\\-?\\d*\\.?\\d*$";}return(am.minValue>=0)?"^\\d*$":"^\\-?\\d*$";}function m(){l();ai=new b.UI.TextBox({id:am.id,attr:am.attr,value:k(al.getValue()),defaultValue:am.defaultValue,hint:am.hint,behaviorModel:j},{parentComponent:W});ai.ValueChanged.addHandler(Q);ai.TextBoxBlur.addHandler(P);ai.VisualStateChanged.addHandler(S);}function ae(){if(am.minValue===undefined){am.minValue=Y.intMinValue+1;}if(am.maxValue===undefined){am.maxValue=Y.intMaxValue-1;}if(am.incrementValue===undefined){am.incrementValue=1;}if(am.decrementValue===undefined){am.decrementValue=am.incrementValue;}}function q(){if(!y){return;}b.Dom.addClassName(h,"disabled");}function p(){if(!y){return;}if(E){return;}b.Dom.addClassName(f,"disabled");E=true;}function v(){if(!y){return;}b.Dom.removeClassName(h,"disabled");}function u(){if(!y){return;}b.Dom.removeClassName(f,"disabled");E=false;}function C(){T.RenderComplete.addHandler(O);T.Dispose.addHandler(r);if(T.ValidationFailed){T.ValidationFailed.addHandler(R);}al=b.UI.Helpers.ValueAccessorHelper.createValueAccessor(D,W);ae();m();i=b.String.format(b.UI.NumberTextboxTemplate.ArrowUpIdTemplate,am.id);g=b.String.format(b.UI.NumberTextboxTemplate.ArrowDownIdTemplate,am.id);}function r(){W.Dispose.fireHandlers();T.RenderComplete.removeHandler(O);T.Dispose.removeHandler(r);if(T.ValidationFailed){T.ValidationFailed.removeHandler(R);}b.Tools.disposeEventModel(w);if(h){b.removeHandler(h,"click",K);b.removeHandler(h,"mousedown",L);b.removeHandler(h,"mouseup",M);b.removeHandler(h,"mouseout",N);}if(f){b.removeHandler(f,"click",G);b.removeHandler(f,"mousedown",H);b.removeHandler(f,"mouseup",I);b.removeHandler(f,"mouseout",J);}al=null;am=null;h=null;f=null;Y=null;j=null;w=null;ai=null;W.ValueChanged=null;W.RenderComplete=null;W.Dispose=null;W.VisualStateChanged=null;}C();}})(window,WA);(function(c,b){if(!b.UI.NumberTextboxTemplate){b.UI.NumberTextboxTemplate=a;b.UI.NumberTextboxTemplate.DefaultControlWidth=55;}function a(d){var e=b.UI.TextBoxTemplate;if(!d.arrowUpId){d.arrowUpId=b.String.format(b.UI.NumberTextboxTemplate.ArrowUpIdTemplate,d.id);}if(!d.arrowDownId){d.arrowDownId=b.String.format(b.UI.NumberTextboxTemplate.ArrowDownIdTemplate,d.id);}d.isNumberTextBox=true;d.hasArrows=d.hasArrows==undefined?true:d.hasArrows;d.controlContainerDisplayType=d.controlContainerDisplayType?d.controlContainerDisplayType:b.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed;if(d.controlContainerDisplayType==b.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed){d.width=d.width!=undefined?d.width:b.UI.NumberTextboxTemplate.DefaultControlWidth;}return e(d);}b.UI.NumberTextboxTemplate.createSummary=function(d){if(d.hideInSummary){return"";}return b.UI.TextBoxTemplate.createSummary(d);};b.UI.NumberTextboxTemplate.TextBoxFieldPostfix="_textBoxField";b.UI.NumberTextboxTemplate.InputIdTemplate="{0}_numberTextboxInput";b.UI.NumberTextboxTemplate.ArrowUpIdTemplate="{0}_numberTextboxArrowUp";b.UI.NumberTextboxTemplate.ArrowDownIdTemplate="{0}_numberTextboxArrowDown";})(window,WA);(function(c,b){if(b.UI.Component){}b.UI.Component=a;b.UI.Component.TypeName="WA.UI.Component";b.UI.Component.ContainerScrollOffset=20;function a(m,d){d=d||{};m=m||{};var p=this,u=b.UI.Component.TypeName,l=m,o=d.parentComponent||null;p.init=j;p.dispose=f;p.toString=function(){throw new Error("toString must be defined");};var e,k=null;p.LoadViewBeforeSend=b.Tools.EventHandlers.createHandlers(p,{id:"LoadViewBeforeSend"});p.LoadViewSuccess=b.Tools.EventHandlers.createHandlers(p,{id:"LoadViewSuccess"});p.LoadViewFailed=b.Tools.EventHandlers.createHandlers(p,{id:"LoadViewFailed"});p.onRenderComplete=n;p.getDefaultClientId=g;p.getModel=function(){return l;};p.getComponentId=function(){return l.id;};p.getComponentType=function(){return l.componentType;};p.getParent=function(){return o;};p.getContainer=function(){return e;};p.getPaddingContainer=function(){return e;};p.getParentComponentId=i;p.getSettingsLayoutName=function(){return l.settingsLayoutName;};p.getSettingValidationModelKey=function(){return l.settingsLayoutName;};p.getSettingValidationModelName=function(){return l.themeGadgetId+l.id;};p.resetContainer=q;p.setContent=s;p.setOuterHTML=t;p.isBroken=function(){return l.isBroken;};p.getIsSourceAndPageTypeEqual=h;p.scrollContainerIntoView=r;function r(){if(!e){return;}var z=b.topWindow.contentarea,x={left:b.Window.getScrollLeft(z),top:b.Window.getScrollTop(z)},y={width:0,height:0},v=b.Dimensions.getXY(e,z.document.documentElement),B=b.UI.Component.ContainerScrollOffset,w={width:0,height:0},A={x:0,y:0};if(v.y-B<x.top){A.y=v.y-B-x.top;}else{y.height=b.Window.getInnerHeight(z);w.height=e.offsetHeight;if(v.y+w.height+B>x.top+y.height){A.y=v.y+w.height+B-x.top-y.height;}}if(v.x-B<x.left){A.x=v.x-B-x.left;}else{y.width=b.Window.getInnerWidth(z);w.width=e.offsetWidth;if(v.x+w.width+B>x.left+y.width){A.x=v.x+w.width+B-x.left-y.width;}}if(A.x||A.y){z.scrollBy(A.x,A.y);}}function t(v){e.outerHTML=v;}function s(v){try{e.innerHTML=v;}catch(w){}}function i(){return o&&o.getComponentId&&o.getComponentId();}function g(){return b.Admin.Cms.Page.Components.Helper.getDefaultClientId(l);}function q(v){v=v||{};var w=v.win||b.topWindow.contentarea;e=w.document.body.querySelector('[data-componentId="'+l.id+'"]');if(!e){l.isBroken=true;throw new Error("Could not find container: id = "+l.id);}else{l.isBroken=false;}}function n(w,v){if(!e){q(v);}}function h(){if(k===null){var B=l.source,C=b.Admin.Cms.Page.Components.SourceType,A=b.AdminPanel.ContentAreaManager.pageTypes,v=b.AdminPanel.contentAreaType(),x=B==C.Page,w=v==A.webPage||v==A.systemPage,z=B==C.Template,y=v==A.webPageTemplate;k=(x&&w)||(z&&y);}return k;}function j(){}function f(){e=null;p.LoadViewBeforeSend=null;p.LoadViewSuccess=null;p.LoadViewFailed=null;}}})(window,WA);(function(c,b){if(b.UI.LinkedList){}b.UI.LinkedList=a;function a(h,d){d=d||{};var m=this,p="WA.UI.LinkedList",e=b.Object.create(b.UI.Component,m,arguments);m.toString=function(){return p;};m.init=g;m.dispose=f;var l=d.prevSibling||null,i=d.nextSibling||null;m.setPrevSibling=o;m.setNextSibling=n;m.getPrevSibling=function(){return l;};m.getNextSibling=function(){return i;};function o(s){if(l){r();}l=s;e.getModel().prevSiblingId=l.getComponentId();l.Dispose.addHandler(k);}function r(){if(l.Dispose){l.Dispose.removeHandler(k);l=null;}}function n(s){if(i){q();}i=s;e.getModel().nextSiblingId=i.getComponentId();i.Dispose.addHandler(j);}function q(){if(i.Dispose){i.Dispose.removeHandler(j);i=null;}}function k(){e.getModel().prevSiblingId=l=null;}function j(){e.getModel().nextSiblingId=i=null;}function g(){e.init();}function f(){e.dispose();if(i){i.Dispose.removeHandler(j);}if(l){l.Dispose.removeHandler(k);}e=null;}}})(window,WA);(function(d,c,b){if(!c.UI.OffsetSelector){c.UI.OffsetSelector=a;}function a(l,k){k=k||{};var t=this,v="WA.UI.OffsetSelector",y=l,s=k.parentComponent;t.toString=function(){return v;};t.RenderComplete=c.Tools.EventHandlers.createHandlers(t,{id:"RenderComplete"});t.Dispose=c.Tools.EventHandlers.createHandlers(t,{id:"Dispose"});t.ValueChanged=c.Tools.EventHandlers.createHandlers(t,{id:"ValueChanged"});t.ValidationFailed=c.Tools.EventHandlers.createHandlers(t,{id:"ValidationFailed"});var m=false,e={},x={},w,o=y.offsetMinValue!=b?y.offsetMinValue:-10000,n=y.offsetMaxValue!=b?y.offsetMaxValue:10000;t.render=u;t.getValue=i;function i(){return{top:x.top.getValue(),right:x.right.getValue(),bottom:x.bottom.getValue(),left:x.left.getValue()};}function u(){return c.UI.OffsetSelectorTemplate(y);}function r(A,z){t.ValueChanged.fireHandlers();}function q(){t.ValidationFailed.fireHandlers();}function g(){x.top=w.createChildValueAccessor("top",t);x.right=w.createChildValueAccessor("right",t);x.bottom=w.createChildValueAccessor("bottom",t);x.left=w.createChildValueAccessor("left",t);}function f(){e.topOffsetSelector=new c.UI.NumberTextbox({id:y.id+c.UI.OffsetSelectorTemplate.ControlsIdPostfixes.Top,valueAccessor:x.top,minValue:o,maxValue:n,hint:y.hint?y.hint.top:null,defaultValue:y.defaultValue?y.defaultValue.top:null},{parentComponent:t});e.topOffsetSelector.ValueChanged.addHandler(r);e.rightOffsetSelector=new c.UI.NumberTextbox({id:y.id+c.UI.OffsetSelectorTemplate.ControlsIdPostfixes.Right,valueAccessor:x.right,minValue:o,maxValue:n,hint:y.hint?y.hint.right:null,defaultValue:y.defaultValue?y.defaultValue.right:null},{parentComponent:t});e.rightOffsetSelector.ValueChanged.addHandler(r);e.bottomOffsetSelector=new c.UI.NumberTextbox({id:y.id+c.UI.OffsetSelectorTemplate.ControlsIdPostfixes.Bottom,valueAccessor:x.bottom,minValue:o,maxValue:n,hint:y.hint?y.hint.bottom:null,defaultValue:y.defaultValue?y.defaultValue.bottom:null},{parentComponent:t});e.bottomOffsetSelector.ValueChanged.addHandler(r);e.leftOffsetSelector=new c.UI.NumberTextbox({id:y.id+c.UI.OffsetSelectorTemplate.ControlsIdPostfixes.Left,valueAccessor:x.left,minValue:o,maxValue:n,hint:y.hint?y.hint.left:null,defaultValue:y.defaultValue?y.defaultValue.left:null},{parentComponent:t});e.leftOffsetSelector.ValueChanged.addHandler(r);}function p(A,z){t.RenderComplete.fireHandlers();}function j(){s.RenderComplete.addHandler(p);s.Dispose.addHandler(h);w=c.UI.Helpers.ValueAccessorHelper.createValueAccessor(y,t);g();f();}function h(){if(m){return;}t.Dispose.fireHandlers();s.RenderComplete.removeHandler(p);s.Dispose.removeHandler(h);if(s.ValidationFailed){s.ValidationFailed.removeHandler(q);}y=null;w=null;s=null;t.RenderComplete=null;t.Dispose=null;t.ValueChanged=null;t.ValidationFailed=null;m=true;e=null;x=null;o=null;n=null;}j();}})(window,WA);(function(e,d,c){if(!d.UI.OffsetSelectorTemplate){d.UI.OffsetSelectorTemplate=b;d.UI.OffsetSelectorTemplate.IdPostfix="_OffsetSelector";d.UI.OffsetSelectorTemplate.ControlsIdPostfixes={Left:"_Left",Top:"_Top",Right:"_Right",Bottom:"_Bottom"};}function b(g){var f=d.UI.ControlLayoutTemplate;g.controlContainerDisplayType=d.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;g.cssClass="offsetSelector"+(g.cssClass?" "+g.cssClass:"");g.layoutContentHTML=a(g);return f(g);}function a(h){var i=d.UI.NumberTextboxTemplate,f=d.UI.ContainerTemplate,g=[];g.push(i({id:h.id+d.UI.OffsetSelectorTemplate.ControlsIdPostfixes.Top,controlContainerDisplayType:d.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed}));g.push(f({cssClass:"offsetDivider"}));g.push(i({id:h.id+d.UI.OffsetSelectorTemplate.ControlsIdPostfixes.Right,controlContainerDisplayType:d.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed}));g.push(f({cssClass:"offsetDivider"}));g.push(i({id:h.id+d.UI.OffsetSelectorTemplate.ControlsIdPostfixes.Bottom,controlContainerDisplayType:d.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed}));g.push(f({cssClass:"offsetDivider"}));g.push(i({id:h.id+d.UI.OffsetSelectorTemplate.ControlsIdPostfixes.Left,controlContainerDisplayType:d.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed}));return f({cssClass:"offsetsContainer",contentHTML:g.join("")});}})(window,WA);(function(d,c,b){if(!c.UI.PageHeader){c.UI.PageHeader=a;c.UI.PageHeader.HeaderIdPostfix="_header";c.UI.PageHeader.SubheaderIdPostfix="_subheader";}function a(i,h){h=h||{};var n=this,p="WA.UI.PageHeader",q=i,m=h.parentComponent;n.toString=function(){return p;};n.RenderComplete=c.Tools.EventHandlers.createHandlers(n,{id:"RenderComplete"});n.Dispose=c.Tools.EventHandlers.createHandlers(n,{id:"Dispose"});n.Click=c.Tools.EventHandlers.createHandlers(n,{id:"Click"});var j=false,f;n.render=o;function o(){return c.UI.PageHeaderTemplate(q);}function l(s,r){f=c.$(q.id+c.UI.PageHeader.HeaderIdPostfix);c.addHandler(f,"click",k);n.RenderComplete.fireHandlers();}function k(r){var s=c.getEventTags(r);n.Click.fireHandlers({eventTags:s});}function e(){if(j){return;}n.Dispose.fireHandlers();m.RenderComplete.removeHandler(l);m.Dispose.removeHandler(e);q=null;m=null;n.RenderComplete=null;n.Dispose=null;n.Click=null;j=true;}function g(){m.RenderComplete.addHandler(l);m.Dispose.addHandler(e);}g();}})(window,WA);(function(f,e,d){if(!e.UI.PageHeaderTemplate){e.UI.PageHeaderTemplate=a;}function a(h){var g=e.UI.ContainerTemplate;return g({id:h.id,cssClass:"pageHeader",contentHTML:g({id:h.id+e.UI.PageHeader.HeaderIdPostfix,cssClass:"pageHeaderOldMainText",contentHTML:b(h)})+(h.subheaderText?g({id:h.id+e.UI.PageHeader.SubheaderIdPostfix,cssClass:"pageHeaderOldSubheader",contentText:h.subheaderText}):"")});}function b(l){if(l.headerTemplate&&l.headerChildControlModels&&l.headerChildControlModels.length){var o=l.headerTemplate;for(var j=0,k=l.headerChildControlModels.length;j<k;j++){var g=l.headerChildControlModels[j],n=new RegExp("\\{"+j+"\\}","gi"),h=e.UI.ControlFactory.createTemplate(g.layoutControlType);o=o.replace(n,h(g));}return o;}return e.encodeHtml(l.contentText);}function c(){e.UI.TextContainerTemplate({contentText:viewModel.subheaderText});}})(window,WA);(function(d,c,b){if(!c.UI.ParagraphTemplate){c.UI.ParagraphTemplate=a;}function a(e){var f="";if(c.getTypeString(e.elements)=="array"&&e.elements.length>0){f=c.UI.Helpers.ControlHelper.createElementsHtml(e);}else{if(e.hasOwnProperty("contentHTML")&&e.contentHTML.length>0){f=e.contentHTML;}}return c.UI.ContainerTemplate({cssClass:"paragraph"+(e.cssClass?" "+e.cssClass:""),contentHTML:f});}})(window,WA);(function(c,b){if(!b.UI.RadioButton){b.UI.RadioButton=a;b.UI.RadioButton.TypeName="WA.UI.RadioButton";}function a(o,n,B){var z=this,y=n.parentComponent,E=b.UI.RadioButton.TypeName,G=o,F,i={},p,e;z.toString=function(){return E;};z.ValueChanged=b.Tools.EventHandlers.createHandlers(z,{id:"ValueChanged"});z.ValidationFailed=b.Tools.EventHandlers.createHandlers(z,{id:"ValidationFailed"});z.RenderComplete=b.Tools.EventHandlers.createHandlers(z,{id:"RenderComplete"});z.Dispose=b.Tools.EventHandlers.createHandlers(z,{id:"Dispose"});z.VisualStateChanged=b.Tools.EventHandlers.createHandlers(z,{id:"VisualStateChanged"});var r,s,d=n.childElementEventHandlers||{ValueChanged:u,VisualStateChanged:x};z.disable=f;z.enable=h;z.render=A;z.isDisabled=q;z.getValue=k;z.setValue=C;z.showValidationMessages=D;z.getType=function(){return G.layoutControlType;};function k(){return F.getValue();}function D(H){b.UI.Helpers.ControlHelper.showValidationMessages(G.id,H);}function l(){b.UI.Helpers.ControlHelper.hideValidationMessages(G.id);}function u(I,H){l();z.ValueChanged.fireHandlers(H);}function x(I,H){z.VisualStateChanged.fireHandlers();}function v(){i[G.id]={click:t};p=b.$(G.id);p.checked=F.getValue();e=b.$(G.id+b.UI.RadioButtonTemplate.IdContainerPostfix);b.Tools.applyEventModel(i,G.frameWindow);if(G.linkedControlContainerType==b.UI.ControlLayoutTemplate.LinkedControlContainerType.Parent){s=b.$(G.linkedControlContainerId);s.innerHTML=b.UI.Helpers.ControlHelper.createLinkedControlHtml(G);}z.RenderComplete.fireHandlers();if(r){r.parentSelected(F.getValue());}}function w(I,H){b.UI.Helpers.ValidationHelper.updateValidationMessages({controlId:G.id,messages:F.getErrors(),isEditInProgress:H.isEditInProgress,showValidationCallback:D,hideValidationCallback:l});z.ValidationFailed.fireHandlers(H);}function A(){return b.UI.RadioButtonTemplate(G);}function q(){return p.disabled;}function f(){var H=b.$(G.id+b.UI.ControlLayoutTemplate.IdControlLayoutPostfix);b.Dom.addClassName(H,b.UI.ControlLayoutTemplate.DisabledCssClass);p.disabled=true;H=null;}function h(){var H=b.$(G.id+b.UI.ControlLayoutTemplate.IdControlLayoutPostfix);b.Dom.removeClassName(H,b.UI.ControlLayoutTemplate.DisabledCssClass);p.disabled=false;H=null;}function t(H){C(p.checked||false);}function j(){z.ValueChanged.fireHandlers({eventTags:G.attr.eventTags});}function C(H){if(F.getValue()===H){return;}l();F.setValue(H);p.checked=H;if(r){r.parentSelected(H);}j();}function m(){y.RenderComplete.addHandler(v);y.Dispose.addHandler(g);if(y.ValidationFailed){y.ValidationFailed.addHandler(w);}F=b.UI.Helpers.ValueAccessorHelper.createValueAccessor(o,z);r=b.UI.Helpers.ControlHelper.createLinkedControl(G,{parentComponent:z,globalMetadataResourceManager:n.globalMetadataResourceManager},B,d);}function g(){z.Dispose.fireHandlers();y.RenderComplete.removeHandler(v);y.Dispose.removeHandler(g);if(y.ValidationFailed){y.ValidationFailed.removeHandler(w);}p=null;e=null;F=null;s=null;b.Tools.disposeEventModel(i,G.frameWindow);z.Dispose=null;z.ValueChanged=null;z.RenderComplete=null;z.ValidationFailed=null;z.VisualStateChanged=null;}m();}})(window,WA);(function(b,a){if(!a.UI.RadioButtonTemplate){a.UI.RadioButtonTemplate=function(f){var c=[];c.push('<input type="radio" class="radioButtonInput');c.push('"');if(f.id){c.push(' id="'+f.id+'"');}if(f.htmlTitle!=undefined){c.push(' title="'+f.htmlTitle+'"');}if(f.attr){c.push(a.UI.Helpers.ControlHelper.renderAttributes(f.attr));}if(f.value!=undefined){c.push(' value="'+f.value+'"');}if(f.name){c.push(' name="'+f.name+'"');}if(f.checked){c.push(' checked="checked"');}if(f.disabled){c.push(' disabled="disabled"');}c.push(" />");if(f.contentText){c.push('<label onselectstart="return false;"');if(f.id){c.push(' for="'+f.id+'"');}if(f.attr){c.push(a.UI.Helpers.ControlHelper.renderAttributes(f.attr));}c.push(">");c.push(a.encodeHtml(f.contentText));c.push("</label>");}var d=a.UI.ControlLayoutTemplate,e=a.UI.ContainerTemplate;f.controlContainerDisplayType=f.controlContainerDisplayType?f.controlContainerDisplayType:a.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;f.cssClass="radioButton"+(f.cssClass?" "+f.cssClass:"")+(f.isLast?" last":"");f.layoutContentHTML=e({id:f.id+a.UI.RadioButtonTemplate.IdContainerPostfix,cssClass:"radioButtonContainer"+(f.isFirst?" first":"")+((f.isLast?" last":"")),contentHTML:c.join(""),attr:a.UI.Helpers.ControlHelper.createContainerAttributes(f)});return d(f);};a.UI.RadioButtonTemplate.ValidationResult=function(g){if(g.length<=0){return"";}var d,e,f,c=[];for(d=0,e=g.length;d<e;d++){f=g[d];c.push(a.UI.ContainerTemplate({cssClass:"validationMessage",contentHTML:a.UI.TextContainerTemplate({contentText:f})}));}return c.join("");};a.UI.RadioButtonTemplate.createSummary=function(c){if(c.hideInSummary){return"";}if(c.linkedControl!=undefined){return a.UI.Helpers.ControlHelper.ListOptionBullet+a.UI.TextContainerTemplate({contentText:c.contentText})+a.UI.IndentTemplate({indentLeft:true,contentHTML:a.UI.Helpers.ControlHelper.createControlSummary(c.linkedControl)});}return a.UI.Helpers.ControlHelper.ListOptionBullet+a.UI.TextContainerTemplate({contentText:c.contentText});};a.UI.RadioButtonTemplate.IdContainerPostfix="_rButtonContainer";a.UI.RadioButtonTemplate.cssClassDisabled="Disabled";}})(window,WA);(function(c,b){if(!b.UI.RadioButtonList){b.UI.RadioButtonList=a;b.UI.RadioButtonList.TypeName="WA.UI.RadioButtonList";}function a(p,o,z){o=o||{};o.currentWindow=o.currentWindow||c;var w=this,f,E=b.UI.RadioButtonList.TypeName,u=o.parentComponent,G=p,F,d={byName:{},byValue:{}},l={},y,e=false;G.attr=G.attr||{eventTags:G.id};w.toString=function(){return E;};w.ValidationFailed=b.Tools.EventHandlers.createHandlers(w,{id:"ValidationFailed"});w.ValueChanged=b.Tools.EventHandlers.createHandlers(w,{id:"ValueChanged"});w.RenderComplete=b.Tools.EventHandlers.createHandlers(w,{id:"RenderComplete"});w.Dispose=b.Tools.EventHandlers.createHandlers(w,{id:"Dispose"});w.VisualStateChanged=b.Tools.EventHandlers.createHandlers(w,{id:"VisualStateChanged"});w.buttonsMapper=d;w.render=x;w.dispose=j;w.parentSelected=v;w.getValue=function(){return F.getValue();};w.setValue=B;w.getType=function(){return G.layoutControlType;};w.show=C;w.hide=m;w.enable=k;w.disable=i;function C(){b.Dom.removeClassName(f,"hidden");}function m(){b.Dom.addClassName(f,"hidden");}function k(){A(this.buttonsMapper,true);}function i(){A(this.buttonsMapper,false);}function A(J,K){var I=J.byName;for(var L in I){var H=J.byName[L].button;if(K){H.enable();}else{H.disable();}}}function B(H){if(!d.byValue.hasOwnProperty(H)){throw new Error("there is no radio with value: "+H);}d.byValue[H].button.setValue(true);}function v(H){b.UI.Helpers.ControlHelper.applyParentSelectedBehavior(w,G.parentChangeBehaviour,H);}function x(){return b.UI.RadioButtonListTemplate(G);}function r(I,H){f=b.$(G.id+b.UI.ControlLayoutTemplate.IdControlLayoutPostfix);w.RenderComplete.fireHandlers();}function t(I,H){w.VisualStateChanged.fireHandlers();}function q(K,H){if(e){return;}e=true;if(H.eventTags&&!!d.byName[H.eventTags]){var J,I;for(J in d.byName){if(d.byName.hasOwnProperty(J)){I=d.byName[J];if(J==H.eventTags){continue;}I.button.setValue(false);}}y=H.eventTags;F.setValue(d.byName[y].value);}H.newValue=H.newValue||F.getValue();H.controlId=H.controlId||G.id;w.ValueChanged.fireHandlers(H);e=false;}function D(H){d.byName[y].button.showValidationMessages(H);}function s(I,H){b.UI.Helpers.ValidationHelper.updateValidationMessages({controlId:G.id,messages:F.getErrors(),isEditInProgress:H.isEditInProgress,showValidationCallback:D});w.ValidationFailed.fireHandlers(H);}function g(){var I,M,J,H,K=G.items,L;for(I=0,M=K.length;I<M;I++){J=G.items[I];if(!G.simpleMode){J.id=J.id?J.id:G.id+I;J.name=G.id;L=J.value;J.value=F.getValue()==L;J.attr={eventTags:J.id};}if(J.linkedControl&&J.linkedControlContainerType==b.UI.ControlLayoutTemplate.LinkedControlContainerType.Parent){J.linkedControlContainerId=G.id+b.UI.ControlLayoutTemplate.IdNestedLinkedControlsContainerPostfix+"_"+J.id;}H=new b.UI.RadioButton(J,{parentComponent:w,globalMetadataResourceManager:o.globalMetadataResourceManager},z);H.ValueChanged.addHandler(q);H.VisualStateChanged.addHandler(t);d.byName[J.attr.eventTags]={button:H,value:L};d.byValue[L]={button:H,eventTags:J.attr.eventTags};if(J.value){y=J.attr.eventTags;}}}function h(){if(p.valueAccessor){F=p.valueAccessor;}else{if(F){F.dispose();}var I=null;for(var H=0,K=G.items.length;H<K;H++){var J=G.items[H];if(J.checked){I=J.value;break;}}F=new b.SimpleAccessor({value:I},{parentComponent:u});}}function n(){u.RenderComplete.addHandler(r);u.Dispose.addHandler(j);if(u.ValidationFailed){u.ValidationFailed.addHandler(s);}h();g();if(G.htmlReady){r();}}function j(){w.Dispose.fireHandlers();u.RenderComplete.removeHandler(r);u.Dispose.removeHandler(j);if(u.ValidationFailed){u.ValidationFailed.removeHandler(s);}b.Tools.disposeEventModel(l,G.frameWindow);w.ValidationFailed=null;w.Dispose=null;w.RenderComplete=null;w.ValueChanged=null;w.VisualStateChanged=null;d=null;F=null;y=null;}n();}})(window,WA);(function(f,e,d){if(!e.UI.RadioButtonListTemplate){e.UI.RadioButtonListTemplate=c;e.UI.RadioButtonListTemplate.IdPostfix="_rbList";e.UI.RadioButtonListTemplate.IdContainerTitlePostfix="_rbListTitleContainer";e.UI.RadioButtonListTemplate.IdTitlePostfix="_rbListTitle";e.UI.RadioButtonListTemplate.RepeatType={Horizontal:"horizontal",Vertical:"vertical"};}function c(k){var h=e.UI.IndentTemplate,i=k.id,g=e.UI.ControlLayoutTemplate,j={};j.id=i;j.title=k.title;j.prefix=k.prefix;j.titlePosition=k.titlePosition;j.titleWidth=k.titleWidth;j.controlContainerDisplayType=k.controlContainerDisplayType?k.controlContainerDisplayType:e.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;j.cssClass="radioButtonList"+(k.repeatType==e.UI.RadioButtonListTemplate.RepeatType.Horizontal?" horizontal":" vertical")+(k.hidden?" hidden":"")+(k.cssClass?" "+k.cssClass:"");j.linkedControlContainerHtml=a(k);j.layoutContentHTML=h({id:i+e.UI.RadioButtonListTemplate.IdPostfix,cssClass:"RadioButtonList",contentHTML:h({cssClass:"radiosContainer",contentHTML:b(k)}),attr:e.UI.Helpers.ControlHelper.createContainerAttributes(k)});return g(j);}function b(o){var p=e.UI.RadioButtonTemplate,h,n,k,g=[],j=o.id,l=o.items;for(h=0,n=l.length;h<n;h++){k=l[h];if(o.disabled===true){k.disabled=true;}if(!k.id){k.id=j+h;}if(h===0){k.isFirst=true;}if(h==l.length-1){k.isLast=true;}if(!k.name){k.name=o.id;}g.push(p(k));}return g.join("");}function a(n){var g=e.UI.ContainerTemplate,h=[];var j,l,k;for(j=0,l=n.items.length;j<l;j++){k=n.items[j];if(!k.linkedControl||k.linkedControlContainerType!=e.UI.ControlLayoutTemplate.LinkedControlContainerType.Parent){continue;}h.push(g({id:n.id+e.UI.ControlLayoutTemplate.IdNestedLinkedControlsContainerPostfix+"_"+k.id,cssClass:"nestedLinkedControlContainerElem"}));}return h.join("");}e.UI.RadioButtonListTemplate.createSummary=function(g){return"";};})(window,WA);(function(d,c,b){if(!c.UI.RegistrationCodeGenerator){c.UI.RegistrationCodeGenerator=a;}function a(m,l){l=l||{};var v=this,z="WA.UI.RegistrationCodeGenerator",A=m,t=l.parentComponent;v.toString=function(){return z;};v.RenderComplete=c.Tools.EventHandlers.createHandlers(v,{id:"RenderComplete"});v.Dispose=c.Tools.EventHandlers.createHandlers(v,{id:"Dispose"});v.ValueChanged=c.Tools.EventHandlers.createHandlers(v,{id:"ValueChanged"});var n=false,e,i;v.render=w;v.enable=h;v.disable=f;v.parentSelected=u;function w(){return c.UI.RegistrationCodeGeneratorTemplate(A);}function h(){e.enable();i.enableButton();}function u(B){c.UI.Helpers.ControlHelper.applyParentSelectedBehavior(v,A.parentChangeBehaviour,B);}function f(){e.disable();i.disableButton();j();}function r(C,B){v.RenderComplete.fireHandlers();}function p(C,B){A.valueAccessor.setValue(e.getValue());v.ValueChanged.fireHandlers();}function o(){y(A.valueAccessor.getErrors());}function q(F,B){var C="";var D=8;for(var E=0;E<D;E++){C+=x("1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ");}e.setValue(C);}function x(B){var C=Math.floor(Math.random()*B.length);return B.substring(C,C+1);}function y(B){if(B.length>0){c.UI.Helpers.ControlHelper.showValidationMessages(A.id,B);e.setErrorState(true);}}function j(){c.UI.Helpers.ControlHelper.hideValidationMessages(A.id);}function s(C,B){c.UI.Helpers.ValidationHelper.updateValidationMessages({controlId:A.id,messages:A.valueAccessor.getErrors(),isEditInProgress:B.isEditInProgress,showValidationCallback:y});}function k(){e=new c.UI.TextBox({id:A.id+"_codeTextBox",maxLength:100,value:A.valueAccessor.getValue()},{parentComponent:v});e.ValueChanged.addHandler(p);e.TextBoxBlur.addHandler(o);i=new c.UI.WaButton({id:A.id+"_generateButton"},{parentComponent:v});i.WaButtonClick.addHandler(q);if(t.ValidationFailed){t.ValidationFailed.addHandler(s);}t.RenderComplete.addHandler(r);t.Dispose.addHandler(g);}function g(){if(n){return;}v.Dispose.fireHandlers();if(t.ValidationFailed){t.ValidationFailed.removeHandler(s);}t.RenderComplete.removeHandler(r);t.Dispose.removeHandler(g);A=null;t=null;v.ValueChanged=null;v.RenderComplete=null;v.Dispose=null;n=true;}k();}})(window,WA);(function(f,e,d){if(!e.UI.RegistrationCodeGeneratorTemplate){e.UI.RegistrationCodeGeneratorTemplate=c;}function c(h){var g=e.UI.ContainerTemplate;h.cssClass="registrationCodeGeneratorContainer";h.layoutContentHTML=g({cssClass:"registrationCodeGenerator",contentHTML:a(h)+g({cssClass:"generateButtonDivider"})+g({cssClass:"generateButtonContainer",contentHTML:b(h)})});return e.UI.ControlLayoutTemplate(h);}function a(g){return e.UI.TextBoxTemplate({id:g.id+"_codeTextBox",controlContainerDisplayType:g.controlContainerDisplayType,width:g.textboxWidth});}function b(g){return e.UI.WaButtonTemplate({id:g.id+"_generateButton",name:g.resources.generateButtonTitle},{color:e.UI.WaButton.ButtonColor.Grey});}})(window,WA);(function(d,c,b){if(!c.UI.Scheduler){c.UI.Scheduler=a;c.UI.Scheduler.PeriodicityType={Daily:0,Weekly:1,Monthly:2,Yearly:3};c.UI.Scheduler.RepeatByType={DayOfTheMonth:0,DayOfTheWeek:1};c.UI.Scheduler.EndType={Never:0,Repeats:1,Date:2};}function a(l,k){k=k||{};var v=this,D="WA.UI.Scheduler",F=l,r=k.parentComponent,x=F.resources;v.toString=function(){return D;};F.attr=F.attr||{eventTags:F.id};v.RenderComplete=c.Tools.EventHandlers.createHandlers(v,{id:"RenderComplete"});v.Dispose=c.Tools.EventHandlers.createHandlers(v,{id:"Dispose"});v.ValidationFailed=c.Tools.EventHandlers.createHandlers(v,{id:"ValidationFailed"});v.ValueChanged=c.Tools.EventHandlers.createHandlers(v,{id:"ValueChanged"});v.VisualStateChanged=c.Tools.EventHandlers.createHandlers(v,{id:"VisualStateChanged"});v.ContentScroll=c.Tools.EventHandlers.createHandlers(v,{id:"ContentScroll"});var m=false,E,e,s,f={StartDate:F.id+"_startDate",SessionTime:F.id+"_sessionTime",EndsAfterOccurrences:F.id+"_endsAfterOccurrences",EndDate:F.id+"_endDate",PeriodicityType:F.id+"_periodicityType",RepeatByType:F.id+"_repeatByType",RepeatEvery:F.id+"_repeatEvery",DaysBitMap:F.id+"_daysBitMap",EndType:F.id+"_endType",Summary:F.id+"_summary"},h=F.dateMask||c.WaDate.DateFormat.ddMMMMyyyy,B=F.timeFormat||c.WaDate.TimeFormat.h24,t=c.UI.Scheduler.PeriodicityType,G=F.weekStartDay||c.WaDate.WeekDayIndex.Sunday;v.render=w;v.getValue=function(){return E.getValue();};v.processScroll=u;function u(){v.ContentScroll.fireHandlers();}function w(){return c.UI.SchedulerTemplate(F);}function p(){v.RenderComplete.fireHandlers();}function y(){var H=F.controlsTitlePosition||c.UI.ControlLayoutTemplate.TitlePosition.Left,I=F.controlsTitleWidth;F.elements=[{id:f.StartDate,attr:{eventTags:f.StartDate},layoutControlType:c.UI.ControlType.CalendarTextBox,title:x.StartsOnTitleText,titlePosition:H,titleWidth:I,mask:h,controlContainerDisplayType:c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed,fitToDate:true,valueAccessor:E.createChildValueAccessor("startDate",v)},{id:f.SessionTime,attr:{eventTags:f.SessionTime},layoutControlType:c.UI.ControlType.ScheduleSessionTimePicker,title:x.SessionTimeTitleText,titlePosition:H,titleWidth:I,valueAccessor:E.createChildValueAccessor("sessionTimePeriod",v),timeFormat:F.timeFormat==c.WaDate.TimeFormat.h12?c.UI.TimePicker.TimeFormat.H12:c.UI.TimePicker.TimeFormat.H24,timeRangeDividerContentHTML:x.SessionTimeRangeDividerHtml,timeRangeDividerWidth:F.timeRangeDividerWidth,multiDaysSessionCheckBoxTextLabel:x.MultiDaysSessionCheckBoxTextLabel,daysPostfix:x.DurationInDaysPostfixText,maxDays:F.maxSessionDays||Number.MAX_VALUE},{id:f.PeriodicityType,attr:{eventTags:f.PeriodicityType},layoutControlType:c.UI.ControlType.DropDownList,valueAccessor:E.createChildValueAccessor("periodicityType",v),items:[{value:t.Daily,contentText:x.PeriodicityTypeUnits[t.Daily]},{value:t.Weekly,contentText:x.PeriodicityTypeUnits[t.Weekly]},{value:t.Monthly,contentText:x.PeriodicityTypeUnits[t.Monthly]},{value:t.Yearly,contentText:x.PeriodicityTypeUnits[t.Yearly]}],title:x.PeriodicityTypeTitleText,titlePosition:H,titleWidth:I,controlContainerDisplayType:c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed,width:F.periodicityDropDownWidth},{id:f.RepeatEvery,attr:{eventTags:f.RepeatEvery},layoutControlType:c.UI.ControlType.Number,showArrows:true,title:x.RepeatEveryTitleText,titlePosition:H,titleWidth:I,postfix:x.RepeatEveryUnits[s],valueAccessor:E.createChildValueAccessor("repeatEvery",v),decrementValue:1,incrementValue:1,minValue:1,maxValue:F.repeatEveryMaxValue||Number.MAX_VALUE,defaultValue:1},{id:f.DaysBitMap,attr:{eventTags:f.DaysBitMap},layoutControlType:c.UI.ControlType.WeekDaysSelector,title:x.WeekDaysSelector.TitleText,titlePosition:H,titleWidth:I,dayItemWidth:F.weekDaysSelectorItemWidth,dayItemDisplayType:c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed,startDay:G,daysRepeatType:c.UI.CheckBoxListTemplate.RepeatType.Horizontal,resources:x.WeekDaysSelector,valueAccessor:E.createChildValueAccessor("daysBitMap",v),hidden:s!=t.Weekly},{id:f.RepeatByType,attr:{eventTags:f.RepeatByType},layoutControlType:c.UI.ControlType.RadioButtonList,title:x.MonthlyRepeatByTypeTitleText,titlePosition:H,titleWidth:I,simpleMode:false,items:[{contentText:x.MonthlyRepeatByTypeUnits[c.UI.Scheduler.RepeatByType.DayOfTheMonth],value:c.UI.Scheduler.RepeatByType.DayOfTheMonth},{contentText:x.MonthlyRepeatByTypeUnits[c.UI.Scheduler.RepeatByType.DayOfTheWeek],value:c.UI.Scheduler.RepeatByType.DayOfTheWeek}],valueAccessor:E.createChildValueAccessor("repeatByType",v),hidden:s!=t.Monthly},{id:f.EndType,attr:{eventTags:f.EndType},layoutControlType:c.UI.ControlType.RadioButtonList,title:x.EndTypeTitleText,titlePosition:H,titleWidth:I,simpleMode:false,cssClass:"waSchedulerEndType",valueAccessor:E.createChildValueAccessor("endType",v),items:[{contentText:x.EndTypeRepeatsPrefixText,value:c.UI.Scheduler.EndType.Repeats,linkedControl:{id:f.EndsAfterOccurrences,attr:{eventTags:f.EndsAfterOccurrences},layoutControlType:c.UI.ControlType.Number,showArrows:true,postfix:x.EndTypeRepeatsPostfixText,valueAccessor:E.createChildValueAccessor("endsAfterOccurrences",v),decrementValue:1,incrementValue:1,minValue:1,maxValue:F.maxOccurrences||Number.MAX_VALUE,defaultValue:1,parentChangeBehaviour:{onSelected:c.UI.LinkedControlBehavior.Enable,onDeselected:c.UI.LinkedControlBehavior.Disable}},linkedControlPosition:c.UI.ControlLayoutTemplate.LinkedControlPosition.Horizontal},{contentText:x.EndTypeDatePrefixText,value:c.UI.Scheduler.EndType.Date,linkedControl:{id:f.EndDate,attr:{eventTags:f.EndDate},layoutControlType:c.UI.ControlType.CalendarTextBox,controlContainerDisplayType:c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed,fitToDate:true,valueAccessor:E.createChildValueAccessor("endDate",v),mask:h,parentChangeBehaviour:{onSelected:c.UI.LinkedControlBehavior.Enable,onDeselected:c.UI.LinkedControlBehavior.Disable}},linkedControlPosition:c.UI.ControlLayoutTemplate.LinkedControlPosition.Horizontal}]},{id:f.Summary,attr:{eventTags:f.Summary},layoutControlType:c.UI.ControlType.ScheduleSummary,title:x.SummaryTitleText,titlePosition:H,titleWidth:I,scheduleModel:E.getValue(),resources:x.ScheduleSummary,weekStartDay:G,dateMask:h,timeMask:B}];}function g(){var H={controlFactory:c.UI.ControlFactory,events:{contentScroll:v.ContentScroll}};c.UI.Helpers.ControlHelper.createElements(F,{parentComponent:v},H,{ValueChanged:n,VisualStateChanged:o});e=H.controlList;}function C(H){var J=e[f.DaysBitMap],I=e[f.RepeatByType];switch(H){case t.Weekly:I.hide();J.show();break;case t.Monthly:J.hide();I.show();break;default:J.hide();I.hide();break;}}function A(){var I=e[f.RepeatEvery].getValue()==1?"":"s",H=e[f.EndsAfterOccurrences].getValue()==1?"":"s";e[f.RepeatEvery].setPostfix(x.RepeatEveryUnits[s]+I);e[f.EndsAfterOccurrences].setPostfix(x.EndTypeRepeatsPostfixText+H);}function z(){var H=E.getValue("periodicityType");if(s!=H){s=H;C(s);e[f.RepeatEvery].setPostfix(x.RepeatEveryUnits[s]);}}function n(I,H){H=H||{};if(H.controlId==f.EndType){c.UI.Helpers.ControlHelper.hideValidationMessages(f.EndsAfterOccurrences);c.UI.Helpers.ControlHelper.hideValidationMessages(f.EndDate);}else{if(H.controlId==f.StartDate){c.UI.Helpers.ControlHelper.hideValidationMessages(f.EndDate);e[f.EndDate].setErrorState(false);}}z();A();v.ValueChanged.fireHandlers({newValue:E.getValue()});}function o(){v.VisualStateChanged.fireHandlers();}function q(){v.ValidationFailed.fireHandlers();}function j(){r.RenderComplete.addHandler(p);r.Dispose.addHandler(i);E=c.UI.Helpers.ValueAccessorHelper.createValueAccessor(F,v);if(r.ValidationFailed){r.ValidationFailed.addHandler(q);}s=E.getValue("periodicityType");y();g();}function i(){if(m){return;}v.Dispose.fireHandlers();r.RenderComplete.removeHandler(p);r.Dispose.removeHandler(i);if(r.ValidationFailed){r.ValidationFailed.removeHandler(q);}F=null;r=null;E=null;e=null;f=null;t=null;v.RenderComplete=null;v.Dispose=null;v.ValueChanged=null;v.VisualStateChanged=null;v.ValidationFailed=null;v.ContentScroll=null;m=true;}j();}})(window,WA);(function(q,p,o){if(!p.UI.SchedulerHelper){p.UI.SchedulerHelper={isScheduleModelValid:n,getSessionsAmount:f,getSessionsPeriods:h,getSummaryHtml:i};}function n(r){return r&&r.hasOwnProperty("startDate")&&r.startDate.hasOwnProperty("unixTicks")&&r.hasOwnProperty("sessionTimePeriod")&&r.sessionTimePeriod.hasOwnProperty("fromTime")&&r.sessionTimePeriod.hasOwnProperty("untilTime")&&r.sessionTimePeriod.hasOwnProperty("daysDuration")&&r.hasOwnProperty("endDate")&&r.endDate.hasOwnProperty("unixTicks")&&r.hasOwnProperty("repeatByType")&&r.hasOwnProperty("repeatEvery")&&r.hasOwnProperty("endsAfterOccurrences")&&r.hasOwnProperty("periodicityType")&&r.hasOwnProperty("daysBitMap")&&r.hasOwnProperty("endType");}function f(r){if(!n(r)||!r.repeatEvery||p.getTypeString(r.startDate.unixTicks)!="number"){return 0;}if(r.periodicityType==p.UI.Scheduler.PeriodicityType.Weekly&&!r.daysBitMap){return 0;}switch(r.endType){case p.UI.Scheduler.EndType.Never:return 0;case p.UI.Scheduler.EndType.Repeats:return r.endsAfterOccurrences;case p.UI.Scheduler.EndType.Date:return b(r);default:throw new Error("Invalid endType: "+r.endType);}}function h(u){var x=f(u),w=[],y=u.startDate.unixTicks,v,z,t,A=[],r,s;if(!x){return[];}if(u.periodicityType==p.UI.Scheduler.PeriodicityType.Weekly){z=p.Date.getDaysOfTheWeekArrayFromBitMask(u.daysBitMap);for(r=0,s=z.length;r<s;r++){if(z[r]){t=0;while(p.Date.getWeekDayIndexFromUtcMs(y+t)!=r){t+=p.WaDate.MsInDay;}A.push(t);}}A=p.Array.sort(A);}for(r=0;r<x;r++){v=a(u,y,r,A);w.push(e(u,v));}return w;}function a(r,t,s,u){switch(r.periodicityType){case p.UI.Scheduler.PeriodicityType.Daily:return p.Date.addDaysToUtcMilliseconds(t,s*r.repeatEvery);case p.UI.Scheduler.PeriodicityType.Yearly:return p.Date.addYearsToUtcMilliseconds(t,s*r.repeatEvery,true,true);case p.UI.Scheduler.PeriodicityType.Monthly:if(r.repeatByType==p.UI.Scheduler.RepeatByType.DayOfTheWeek){return p.Date.addMonthsToUtcMillisecondsByWeekDay(t,s*r.repeatEvery,true);}return p.Date.addMonthsToUtcMilliseconds(t,s*r.repeatEvery,true,true);case p.UI.Scheduler.PeriodicityType.Weekly:return p.Date.addWeeksToUtcMilliseconds(t+u[s%u.length],Math.floor(s/u.length)*r.repeatEvery);default:throw new Error("Unknown periodicityType: "+r.periodicityType);}}function e(r,s){var t=s+p.Date.getMillisecondsFromDays(Math.max(r.sessionTimePeriod.daysDuration-1,0));return{fromDate:s,fromTime:r.sessionTimePeriod.fromTime,untilDate:t==s?null:t,untilTime:r.sessionTimePeriod.untilTime==r.sessionTimePeriod.fromTime?null:r.sessionTimePeriod.untilTime};}function b(v){if(p.getTypeString(v.endDate.unixTicks)!="number"){return 0;}var s=v.sessionTimePeriod.fromTime||0,x=v.startDate.unixTicks+s,r=v.endDate.unixTicks+s,w=0,y,t,u;if(x>r){return 0;}switch(v.periodicityType){case p.UI.Scheduler.PeriodicityType.Daily:return 1+Math.floor((r-x)/(v.repeatEvery*p.WaDate.MsInDay));case p.UI.Scheduler.PeriodicityType.Yearly:return 1+Math.floor(p.Date.getFullYearsBetweenUtcMs(x,r)/v.repeatEvery);case p.UI.Scheduler.PeriodicityType.Monthly:return 1+Math.floor(p.Date.getFullMonthsBetweenUtcMs(x,r)/v.repeatEvery);case p.UI.Scheduler.PeriodicityType.Weekly:if(!v.daysBitMap){return 0;}y=p.Date.getDaysOfTheWeekArrayFromBitMask(v.daysBitMap);for(t=0,u=y.length;t<u;t++){if(y[t]){w+=g(x,r,t,v.repeatEvery);}}return w;default:throw new Error("Unknown periodicityType: "+v.periodicityType);}}function g(s,r,t,u){while(p.Date.getWeekDayIndexFromUtcMs(s)!=t){s+=p.WaDate.MsInDay;}return s>r?0:1+Math.floor(p.Date.getFullWeeksBetweenUtcMs(s,r)/u);}function j(u,r,y,A,t){r=r||p.WaDate.DateFormat.ddMMMMyyyy;y=y||p.WaDate.TimeFormat.h24;A=A||p.WaDate.WeekDayIndex.Sunday;var w=f(u),v="|",x=w?p.Date.format(new Date(u.startDate.unixTicks),[r,"www dddd","dS"].join(v),true).split(v):["","",""],s=u.sessionTimePeriod.fromTime,z=u.sessionTimePeriod.untilTime;return{sessionsAmount:w,sessionsPluralEnding:w==1?"":"s",repeatEvery:u.repeatEvery,repeatsPluralEnding:u.repeatEvery==1?"":"s",fromDate:x[0],fromTime:(typeof s=="number")?p.Date.format(new Date(u.sessionTimePeriod.fromTime),y,true):null,untilTime:(typeof z=="number")?p.Date.format(new Date(u.sessionTimePeriod.untilTime),y,true):null,overPeriodDaysSummary:u.sessionTimePeriod.daysDuration==1?"":p.String.format(t,u.sessionTimePeriod.daysDuration),endsAfterOccurrences:u.endsAfterOccurrences,endDate:w?p.Date.format(new Date(u.endDate.unixTicks),r,true):"",weekDays:w?m(u,A):"",monthWeekDay:x[1],startDayNumber:x[2]};}function i(u,t,r,w,x){var s=j(u,r,w,x,t.ScheduleOverPeriodDaysSummaryTemplate),v;if(!s.sessionsAmount){return t.UnableToGetScheduleSessionsMessageText;}v=k(u,t);return p.String.formatNamed(v,s);}function m(v,x){if(v.periodicityType!=p.UI.Scheduler.PeriodicityType.Weekly||!v.daysBitMap){return"";}var r=p.Date.getDaysOfTheWeekArrayFromBitMask(v.daysBitMap),s,t,w=[],u=[];for(s=0,t=r.length;s<t;s++){w.push(r[s]?p.WaDate.I18N.DayNames[14+s]:r[s]);}w=p.Date.shiftWeekDaysArray(w,x);for(s=0;s<t;s++){if(w[s]){u.push(w[s]);}}return u.join(", ");}function k(s,r){switch(s.endType){case p.UI.Scheduler.EndType.Repeats:return c(s,r);case p.UI.Scheduler.EndType.Date:return d(s,r);default:throw new Error("Unsupported endType: "+s.endType);}}function l(r){if(r.sessionTimePeriod.fromTime){if(r.sessionTimePeriod.untilTime){return"WithFromAndUntilTimeTemplate";}return"WithFromTimeTemplate";}return"Template";}function d(s,r){var u=l(s),t;switch(s.periodicityType){case p.UI.Scheduler.PeriodicityType.Daily:t=(s.repeatEvery==1)?r["ScheduleEndsOnDateDailyEveryDay"+u]:r["ScheduleEndsOnDateDaily"+u];break;case p.UI.Scheduler.PeriodicityType.Weekly:t=r["ScheduleEndsOnDateWeekly"+u];break;case p.UI.Scheduler.PeriodicityType.Monthly:t=(s.repeatByType==p.UI.Scheduler.RepeatByType.DayOfTheWeek)?r["ScheduleEndsOnDateMonthlyRepeatByDayOfTheWeek"+u]:r["ScheduleEndsOnDateMonthlyRepeatByDayOfTheMonth"+u];break;case p.UI.Scheduler.PeriodicityType.Yearly:t=r["ScheduleEndsOnDateAnnually"+u];break;default:throw new Error("Unknown periodicityType: "+s.periodicityType);}return t;}function c(s,r){var u=l(s),t;switch(s.periodicityType){case p.UI.Scheduler.PeriodicityType.Daily:t=(s.repeatEvery==1)?r["ScheduleEndsAfterOccurrencesDailyEveryDay"+u]:r["ScheduleEndsAfterOccurrencesDaily"+u];break;case p.UI.Scheduler.PeriodicityType.Weekly:t=r["ScheduleEndsAfterOccurrencesWeekly"+u];break;case p.UI.Scheduler.PeriodicityType.Monthly:t=(s.repeatByType==p.UI.Scheduler.RepeatByType.DayOfTheWeek)?r["ScheduleEndsAfterOccurrencesMonthlyRepeatByDayOfTheWeek"+u]:r["ScheduleEndsAfterOccurrencesMonthlyRepeatByDayOfTheMonth"+u];break;case p.UI.Scheduler.PeriodicityType.Yearly:t=r["ScheduleEndsAfterOccurrencesAnnually"+u];break;default:throw new Error("Unknown periodicityType: "+s.periodicityType);}return t;}})(window,WA);(function(d,c,b){if(!c.UI.SchedulerTemplate){c.UI.SchedulerTemplate=a;}function a(e){e.controlContainerDisplayType=e.controlContainerDisplayType||c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;e.cssClass="waScheduler"+(e.cssClass?" "+e.cssClass:"");e.layoutContentHTML=c.UI.Helpers.ControlHelper.createElementsHtml(e);return c.UI.ControlLayoutTemplate(e);}})(window,WA);(function(d,c,b){if(!c.UI.ScheduleSessionTimePicker){c.UI.ScheduleSessionTimePicker=a;c.UI.ScheduleSessionTimePicker.DaysPeriodControlMinValue=2;}function a(m,l){l=l||{};var w=this,D="WA.UI.ScheduleSessionTimePicker",F=m,v=l.parentComponent;w.toString=function(){return D;};w.RenderComplete=c.Tools.EventHandlers.createHandlers(w,{id:"RenderComplete"});w.Dispose=c.Tools.EventHandlers.createHandlers(w,{id:"Dispose"});w.ValueChanged=c.Tools.EventHandlers.createHandlers(w,{id:"ValueChanged"});w.VisualStateChanged=c.Tools.EventHandlers.createHandlers(w,{id:"VisualStateChanged"});var n=false,e,E,B,g,A=l.hasOwnProperty("showValidationMessage")?l.showValidationMessage:true,p,C=F.id+c.UI.ScheduleSessionTimePickerTemplate.TimeRangePickerIdPostfix,q=F.id+c.UI.ScheduleSessionTimePickerTemplate.MultiDaysSessionCheckBoxIdPostfix,h=F.id+c.UI.ScheduleSessionTimePickerTemplate.DaysPeriodIdPostfix;w.dispose=i;w.render=y;w.getValue=j;w.getType=function(){return F.layoutControlType;};w.setErrorState=z;function z(G){B.setErrorState(G);if(G===true){c.Dom.addClassName(e,"error");}else{c.Dom.removeClassName(e,"error");}}function j(){return E.getValue();}function y(){return c.UI.ScheduleSessionTimePickerTemplate(F);}function s(){e=c.$(F.id+c.UI.ControlLayoutTemplate.IdControlLayoutPostfix);w.RenderComplete.fireHandlers();}function o(){var G=E.getValue();return G.fromTime!=null&&G.untilTime!=null&&G.fromTime>G.untilTime;}function r(I,G){G=G||{};var H=o();if(G.controlId==C){x();if(H){p.setValue(true,false);g.enable();}}if(!p.isChecked()){E.setValue(1,"daysDuration");}else{if(H){x();}E.setValue(g.getValue(),"daysDuration");}w.ValueChanged.fireHandlers({controlId:F.id,newValue:E.getValue()});}function x(){z(false);B.hideValidationMessages();}function u(){w.VisualStateChanged.fireHandlers();}function t(){var G=E.getErrors();if(G.length>0&&A){B.showValidationMessages(G);z(true);}}function f(){var G=E.getValue("daysDuration"),H={controlFactory:c.UI.ControlFactory};c.UI.Helpers.ControlHelper.createElements({id:F.id,elements:[{id:C,attr:{eventTags:C},layoutControlType:c.UI.ControlType.TimeRangePicker,hint:F.timeHint,dividerContentText:F.timeRangeDividerContentText,dividerContentHTML:F.timeRangeDividerContentHTML,dividerWidth:F.timeRangeDividerWidth,format:F.timeFormat,valueAccessor:E},{id:q,attr:{eventTags:q},layoutControlType:c.UI.ControlType.CheckBox,value:G>1,controlContainerDisplayType:c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed,contentText:F.multiDaysSessionCheckBoxTextLabel,checked:G>1,fadeMode:false,linkedControl:{id:h,attr:{eventTags:h},layoutControlType:c.UI.ControlType.Number,showArrows:true,postfix:F.daysPostfix,value:Math.max(c.UI.ScheduleSessionTimePicker.DaysPeriodControlMinValue,G),decrementValue:1,incrementValue:1,minValue:c.UI.ScheduleSessionTimePicker.DaysPeriodControlMinValue,maxValue:F.maxDays||Number.MAX_VALUE,defaultValue:c.UI.ScheduleSessionTimePicker.DaysPeriodControlMinValue,hidden:G>1,parentChangeBehaviour:{onSelected:c.UI.LinkedControlBehavior.Enable,onDeselected:c.UI.LinkedControlBehavior.Disable}},linkedControlPosition:c.UI.ControlLayoutTemplate.LinkedControlPosition.Horizontal}]},{parentComponent:w},H,{ValueChanged:r,VisualStateChanged:u,EditStarted:x});B=H.controlList[C];p=H.controlList[q];g=H.controlList[h];}function k(){E=c.UI.Helpers.ValueAccessorHelper.createValueAccessor(m,w);var H=E.getValue(),G=o()?c.UI.ScheduleSessionTimePicker.DaysPeriodControlMinValue:1;if(c.getTypeString(H.daysDuration)!="number"||G>H.daysDuration){E.setValue(G,"daysDuration");}f();v.RenderComplete.addHandler(s);v.Dispose.addHandler(i);if(v.ValidationFailed){v.ValidationFailed.addHandler(t);}}function i(){if(n){return;}w.Dispose.fireHandlers();v.RenderComplete.removeHandler(s);v.Dispose.removeHandler(i);if(v.ValidationFailed){v.ValidationFailed.removeHandler(t);}F=null;v=null;e=null;E=null;C=null;B=null;h=null;g=null;q=null;p=null;w.RenderComplete=null;w.Dispose=null;w.ValueChanged=null;w.VisualStateChanged=null;n=true;}k();}})(window,WA);(function(e,d,c){if(!d.UI.ScheduleSessionTimePickerTemplate){d.UI.ScheduleSessionTimePickerTemplate=b;d.UI.ScheduleSessionTimePickerTemplate.TimeRangePickerIdPostfix="_timeRangePicker";d.UI.ScheduleSessionTimePickerTemplate.DaysPeriodIdPostfix="_daysPeriod";d.UI.ScheduleSessionTimePickerTemplate.MultiDaysSessionCheckBoxIdPostfix="_multiDaysSessionCheckBox";}function b(f){f.controlContainerDisplayType=f.controlContainerDisplayType||d.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;f.cssClass="waScheduleSessionTimePicker"+(f.cssClass?" "+f.cssClass:"");f.layoutContentHTML=a(f);return d.UI.ControlLayoutTemplate(f);}function a(g){var f=d.UI.ContainerTemplate;return f({cssClass:"waScheduleSessionTimePickerContainer",contentHTML:f({cssClass:"waScheduleSessionTimeRangePicker",contentHTML:d.UI.TimeRangePickerTemplate({id:g.id+d.UI.ScheduleSessionTimePickerTemplate.TimeRangePickerIdPostfix,hint:g.timeHint,dividerContentText:g.timeRangeDividerContentText,dividerContentHTML:g.timeRangeDividerContentHTML,dividerWidth:g.timeRangeDividerWidth,format:g.timeFormat,controlContainerDisplayType:d.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed})})+f({cssClass:"waScheduleSessionTimeDivider",attr:{style:"width: "+(g.dividerWidth||0)+"px;"},contentText:g.dividerContentText||c,contentHTML:g.dividerContentHTML||c})})+f({cssClass:"waScheduleSessionTimeDays",contentHTML:d.UI.CheckBoxTemplate({id:g.id+d.UI.ScheduleSessionTimePickerTemplate.MultiDaysSessionCheckBoxIdPostfix,controlContainerDisplayType:d.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed,contentText:g.multiDaysSessionCheckBoxTextLabel,linkedControl:{id:g.id+d.UI.ScheduleSessionTimePickerTemplate.DaysPeriodIdPostfix,attr:{eventTags:g.id+d.UI.ScheduleSessionTimePickerTemplate.DaysPeriodIdPostfix},layoutControlType:d.UI.ControlType.Number,showArrows:true,postfix:g.daysPostfix},linkedControlPosition:d.UI.ControlLayoutTemplate.LinkedControlPosition.Horizontal})});}})(window,WA);(function(d,c,b){if(!c.UI.ScheduleSummary){c.UI.ScheduleSummary=a;}function a(h,g){g=g||{};var m=this,r="WA.UI.ScheduleSummary",s=h,l=g.parentComponent,o=s.resources;m.toString=function(){return r;};m.RenderComplete=c.Tools.EventHandlers.createHandlers(m,{id:"RenderComplete"});m.Dispose=c.Tools.EventHandlers.createHandlers(m,{id:"Dispose"});var i=false,q;m.render=n;m.setScheduleModel=p;function p(t){s.scheduleModel=t;var u=c.UI.SchedulerHelper.getSummaryHtml(s.scheduleModel,s.resources,s.dateMask,s.timeMask,s.weekStartDay);q.contentHTML(u);}function n(){return c.UI.ScheduleSummaryTemplate(s);}function j(u,t){m.RenderComplete.fireHandlers();}function k(u,t){t=t||{};p(t.newValue);}function f(){l.RenderComplete.addHandler(j);l.Dispose.addHandler(e);l.ValueChanged.addHandler(k);q=c.Object.create(c.UI.TextContainer,[{id:s.id+c.UI.ScheduleSummaryTemplate.TextContainerIdPostfix},{parentComponent:m}]);}function e(){if(i){return;}m.Dispose.fireHandlers();l.RenderComplete.removeHandler(j);l.Dispose.removeHandler(e);l.ValueChanged.removeHandler(k);s=null;l=null;q=null;m.RenderComplete=null;m.Dispose=null;i=true;}f();}})(window,WA);(function(d,c,b){if(!c.UI.ScheduleSummaryTemplate){c.UI.ScheduleSummaryTemplate=a;c.UI.ScheduleSummaryTemplate.TextContainerIdPostfix="_textContainer";}function a(e){e.controlContainerDisplayType=e.controlContainerDisplayType||c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;e.cssClass="waScheduleSummary"+(e.cssClass?" "+e.cssClass:"");e.layoutContentHTML=c.UI.TextContainerTemplate({id:e.id+c.UI.ScheduleSummaryTemplate.TextContainerIdPostfix,contentHTML:c.UI.SchedulerHelper.getSummaryHtml(e.scheduleModel,e.resources,e.dateMask,e.timeMask,e.weekStartDay)});return c.UI.ControlLayoutTemplate(e);}})(window,WA);(function(b,a){if(!a.UI.ScriptTemplate){a.UI.ScriptTemplate=function(c){var d=document.createElement("script");d.setAttribute("type","text/javascript");d.appendChild(document.createTextNode(c.text));return d;};}})(window,WA);(function(d,c,b){if(!c.UI.ScrollablePanel){c.UI.ScrollablePanel=a;c.UI.ScrollablePanel.FireScrollTimeOut=50;c.UI.ScrollablePanel.ScrollDirection={Down:"Down",Up:"Up"};c.UI.ScrollablePanel.ScrollSpeed={Fast:10,Slow:2};c.UI.ScrollablePanel.CustomScrollBarWidth=0;c.UI.ScrollablePanel.ZIndex={ScrollBarContainer:3,ScrollBarSlider:5};}function a(H,G){G=G||{};var W=this,ai="WA.UI.ScrollablePanel",ak=H,U=G.parentComponent,al=G.window||d,y=(typeof G.containerWidth=="number")?G.containerWidth:null,x=(typeof G.containerHeight=="number")?G.containerHeight:null,J=G.isBorder||false,K=G.isNoRightPadding||false,L=G.isOuterSlider||false,M=G.isResizable||false;if(G.scrollBarContainerZIndex!=null){c.UI.ScrollablePanel.ZIndex.ScrollBarContainer=G.scrollBarContainerZIndex;}if(G.scrollBarSliderZIndex!=null){c.UI.ScrollablePanel.ZIndex.ScrollBarSlider=G.scrollBarSliderZIndex;}W.toString=function(){return ai;};W.RenderComplete=c.Tools.EventHandlers.createHandlers(W,{id:"RenderComplete"});W.Dispose=c.Tools.EventHandlers.createHandlers(W,{id:"Dispose"});W.ScrollablePanelShown=c.Tools.EventHandlers.createHandlers(W,{id:"ScrollablePanelShown"});W.ScrollablePanelHidden=c.Tools.EventHandlers.createHandlers(W,{id:"ScrollablePanelHidden"});W.ScrollablePanelScroll=c.Tools.EventHandlers.createHandlers(W,{id:"ScrollablePanelScroll"});var w,ag,I=false,R,p,aa,z,g=c.UI.ScrollablePanel.ScrollSpeed.Slow,e=c.UI.ScrollablePanel.ScrollDirection.Down,f=false,h=32,O=20,B,N=false;W.init=F;W.render=Y;W.calculate=u;W.setDimensions=ac;W.resetDimensions=Z;W.startAutoScroll=ad;W.stopAutoScroll=ae;W.setContent=ab;W.getContainerRect=function(){return c.Dimensions.getElementRect(w);};W.isSliderMoving=function(){return I;};function ab(am){w.innerHTML=am;}function ae(){f=false;c.clearThrottle(D);}function ad(am){e=am.scrollDirection;g=am.scrollSpeed;f=true;B=ag.parseTags.scrollablePanelContentContainer[0].scrollTop;c.throttle(D,h);}function D(){if(!f){c.clearThrottle(D);return;}switch(e){case c.UI.ScrollablePanel.ScrollDirection.Up:B-=g;if(B<0){B=0;ae();}break;case c.UI.ScrollablePanel.ScrollDirection.Down:B+=g;break;}ag.parseTags.scrollablePanelContentContainer[0].scrollTop=B;c.throttle(D,h);}function Y(){if(ak.isBorder===null){ak.isBorder=J;}return c.UI.ScrollablePanelTemplate(ak);}function ac(am){am=am||{};if(am.height!==b){x=am.height;}if(am.width!==b){y=am.width;}V();u();}function Z(){ag.parseTags.scrollablePanelWrapper[0].style.width="";ag.parseTags.scrollablePanelWrapper[0].style.height="";ag.parseTags.scrollablePanelContentContainer[0].style.width="";ag.parseTags.scrollablePanelContentContainer[0].style.height="";}function af(am){if(N){c.stopEventBubbling(am);}}function S(an,am){w=c.$(ak.id+"_ScrollablePanelContainer",al);ag=c.Dom.parseHTML(w);V();u();c.addHandlers([[al,"resize",X],[ag.parseTags.scrollablePanelContentContainer[0],[["scroll",aj],["mousewheel",af]]],[ag.parseTags.scrollBarContainer[0],[["mousedown",s],["mousewheel",A]]],[ag.parseTags.scrollBarSlider[0],[["mouseover",Q],["mouseout",P],["mousedown",m]]]]);if(U.RecalculatedSize){U.RecalculatedSize.addHandler(X);}W.RenderComplete.fireHandlers();}function V(){if(y!==null){ag.parseTags.scrollablePanelContentContainer[0].style.width=y+"px";}if(x!==null){ag.parseTags.scrollablePanelContentContainer[0].style.height=x+"px";}}function u(){if(!c.UI.ScrollablePanel.CustomScrollBarWidth){c.UI.ScrollablePanel.CustomScrollBarWidth=ag.parseTags.scrollBarContainer[0].offsetWidth;}var am=c.Dimensions.getElementBox(w),ao=c.Dimensions.getElementBox(ag.parseTags.scrollablePanelContentContainer[0]),aw=c.Browser.isWebKit?0:c.Window.getScrollBarWidth(),aq=c.UI.ScrollablePanel.CustomScrollBarWidth,ap=am.innerOffsetWidth+aw,an=ao.offsetHeight,au=an+am.borderTopWidth+am.borderBottomWidth,av=Math.floor(au/((ao.scrollHeight/(an||1))||1)),ar=ap-ao.deltaInnerWidth,at=ap-aw;ar=(ar<0)?0:ar;at=(at<0)?0:at;an=(an<0)?0:an;au=(au<0)?0:au;av=(av<O)?O:av;ag.parseTags.scrollablePanelContentContainer[0].style.width=ar+"px";ag.parseTags.scrollablePanelWrapper[0].style.width=at+"px";ag.parseTags.scrollablePanelWrapper[0].style.height=an+"px";ag.parseTags.scrollBarContainer[0].style.top=(-am.borderTopWidth)+"px";ag.parseTags.scrollBarContainer[0].style.right=(L?-aq:-am.borderRightWidth)+"px";ag.parseTags.scrollBarContainer[0].style.height=au+"px";ag.parseTags.scrollBarContainer[0].style.zIndex=c.UI.ScrollablePanel.ZIndex.ScrollBarContainer;ag.parseTags.scrollBarSlider[0].style.height=av+"px";ag.parseTags.scrollBarSlider[0].style.zIndex=c.UI.ScrollablePanel.ZIndex.ScrollBarSlider;ag.parseTags.scrollablePanelContentContainer[0].style.visibility="visible";if(ao.scrollHeight>an+1){N=true;ag.parseTags.scrollBarContainer[0].style.visibility="visible";c.Dom.addClassName(ag.parseTags.scrollablePanelWrapper[0],"scrollVisible");W.ScrollablePanelShown.fireHandlers({width:at,scrollBarWidth:aq});}else{N=false;if(K){ag.parseTags.scrollablePanelContentContainer[0].style.width=(ar+aq-am.borderRightWidth)+"px";ag.parseTags.scrollablePanelWrapper[0].style.width=(at+aq-am.borderRightWidth)+"px";}ag.parseTags.scrollBarContainer[0].style.visibility="hidden";c.Dom.removeClassName(ag.parseTags.scrollablePanelWrapper[0],"scrollVisible");W.ScrollablePanelHidden.fireHandlers();}aj(au);}function X(){ag.parseTags.scrollablePanelContentContainer[0].style.width="auto";c.throttle(u,17);}function Q(){if(!I&&!c.Dom.containsClassName(ag.parseTags.scrollBarContainer[0],"scrollBarContainerOver")){ag.parseTags.scrollBarContainer[0].className="scrollBarContainer scrollBarContainerOver";}}function P(){if(!I&&!c.Dom.containsClassName(ag.parseTags.scrollBarContainer[0],"scrollBarContainerNormal")){ag.parseTags.scrollBarContainer[0].className="scrollBarContainer scrollBarContainerNormal";}}function i(){if(!c.Dom.containsClassName(ag.parseTags.scrollBarContainer[0],"scrollBarContainerActive")){ag.parseTags.scrollBarContainer[0].className="scrollBarContainer scrollBarContainerActive";}}function aj(am){z=ag.parseTags.scrollablePanelContentContainer[0].scrollTop;am=(typeof am=="number")?am:ag.parseTags.scrollBarContainer[0].offsetHeight;var ao=Math.round(z/((ag.parseTags.scrollablePanelContentContainer[0].scrollHeight/(am||1))||1)),an;if(ao<1){ao=1;}else{an=ag.parseTags.scrollBarSlider[0].offsetHeight;if(ao+an>am){ao=am-an;}}ag.parseTags.scrollBarSlider[0].style.top=ao+"px";c.throttle(E,{timeout:c.UI.ScrollablePanel.FireScrollTimeOut});}function E(){W.ScrollablePanelScroll.fireHandlers({contentScrollTop:z});}function A(am){am=am||event;var ao;if(am){try{ao=document.createEvent("WheelEvent");ao.initWebKitWheelEvent(am.wheelDeltaX,am.wheelDeltaY);ag.parseTags.scrollablePanelContentContainer[0].dispatchEvent(ao);return c.stopEvent(am);}catch(an){}}}function s(am){if(!(am=am||event)||!(am.button===0||am.button==1)){return;}I=true;i();p=0;R=am.clientY;o();c.addHandlers([[al.document,[["mousemove",o],["mouseup",t]]]]);c.stopEvent(am);}function o(){var am=c.Dimensions.getElementScreenXY(ag.parseTags.scrollBarSlider[0]);if(R<am.Y||R>am.Y+am.height){ag.parseTags.scrollablePanelContentContainer[0].scrollTop+=(R<am.Y?-1:1)*ag.parseTags.scrollablePanelContentContainer[0].offsetHeight;aj();}p++;c.throttle(o,{timeout:(Math.round(373/p)>=17?Math.round(373/p):17)});}function q(){c.throttle(t,{timeout:137});}function r(){c.clearThrottle(t);}function t(){c.clearThrottle(o);c.clearThrottle(t);c.removeHandlers([[al.document,[["mousemove",o],["mouseup",t]]]]);Q();I=false;}function m(am){if(!(am=am||event)||!(am.button===0||am.button==1)){return;}I=true;i();aa=am.screenY;c.addHandlers([[al.document,[["selectstart",ah]]]]);c.addGlobalHandler((c.Browser.isIE?"body":"window"),"mouseup",n,"ScrollablePanelBarDragStop",{});c.addGlobalHandler((c.Browser.isIE?"body":"window"),"mousemove",j,"ScrollablePanelBarDrag",{});c.stopEvent(am);}function j(am){if(!(am=am||event)){return;}ag.parseTags.scrollablePanelContentContainer[0].scrollTop+=Math.floor((am.screenY-aa)*(ag.parseTags.scrollablePanelContentContainer[0].scrollHeight/ag.parseTags.scrollablePanelContentContainer[0].offsetHeight));aa=am.screenY;c.stopEvent(am);}function k(){c.throttle(n,{timeout:137});}function l(){c.clearThrottle(n);}function n(){c.clearThrottle(n);c.removeHandlers([[al.document,[["selectstart",ah]]]]);c.removeGlobalHandler("ScrollablePanelBarDragStop");c.removeGlobalHandler("ScrollablePanelBarDrag");Q();I=false;}function ah(){return false;}function v(){c.clearThrottle(u);c.clearThrottle(o);c.clearThrottle(t);c.clearThrottle(n);c.clearThrottle(E);c.clearThrottle(D);}function T(an,am){X();}function F(){U.RenderComplete.addHandler(S);U.Dispose.addHandler(C);}function C(){v();W.Dispose.fireHandlers();U.RenderComplete.removeHandler(S);U.Dispose.removeHandler(C);ak=null;U=null;W.RenderComplete=null;W.Dispose=null;c.removeHandlers([[d,"resize",X],[(ag?ag.parseTags.scrollablePanelContentContainer[0]:null),[["scroll",aj],["mousewheel",af]]],[(ag?ag.parseTags.scrollBarContainer[0]:null),[["mousedown",s],["mousewheel",A]]],[(ag?ag.parseTags.scrollBarSlider[0]:null),[["mouseover",Q],["mouseout",P],["mousedown",m]]],[al.document,[["mousemove",o],["mouseup",t],["selectstart",ah]]]]);w=null;ag=null;p=null;z=null;c.removeGlobalHandler("ScrollablePanelBarDragStop");c.removeGlobalHandler("ScrollablePanelBarDrag");W.ScrollablePanelShown=null;W.ScrollablePanelHidden=null;W.ScrollablePanelScroll=null;}}})(window,WA);(function(d,c,b){if(!c.UI.ScrollablePanelTemplate){c.UI.ScrollablePanelTemplate=a;}function a(h){var i=['<div id="'+h.id+'_ScrollablePanelContainer" class="scrollablePanelContainer'+(h.isBorder?" scrollablePanelContainerBorder":"")+(h.cssClass?" "+h.cssClass+"_ScrollablePanelContainer":"")+'">','  <div class="scrollablePanelWrapper" parseTags="scrollablePanelWrapper">'],f=['    <div class="scrollablePanelContentContainer" parseTags="scrollablePanelContentContainer" style="'+(h.containerHeight!=b?"height: "+h.containerHeight+"px;":"")+(h.containerMaxHeight!=b?"max-height: "+h.containerMaxHeight+"px;":"")+'">'],g=["    </div>"],j=["  </div>",'  <div class="scrollBarContainer scrollBarContainerNormal" parseTags="scrollBarContainer">','    <div class="scrollBarTop"></div>','    <div class="scrollBarBottom"></div>','    <div class="scrollBarSlider" parseTags="scrollBarSlider">','      <div class="scrollBarSliderTop"></div>','      <div class="scrollBarSliderMiddle" parseTags="scrollBarSliderMiddle"></div>','      <div class="scrollBarSliderBottom"></div>',"    </div>","  </div>","</div>"],e;if(h.returnOnlyWrapper){return[i.join(""),j.join("")];}else{e={id:h.id,cssClass:"scrollablePanelContent"+(h.cssClass?" "+h.cssClass:""),parseTags:"scrollablePanelContent"+(h.parseTags?" "+h.parseTags:""),contentHTML:(h.isNoIndentTemplate?h.contentHTML:c.UI.IndentTemplate({indentTop:h.indentTop||true,indentRight:h.indentRight||true,indentBottom:h.indentBottom||true,indentLeft:h.indentLeft||true,contentHTML:h.contentHTML}))};if(h.cssStyle){e.cssStyle=h.cssStyle;}if(h.height!=b){h.style=(h.style?h.style+" ":"")+"height:"+h.height;}if(h.eventTags){e.eventTags=h.eventTags;}return i.join("")+f.join("")+c.UI.ContainerTemplate(e)+g.join("")+j.join("");}}})(window,WA);(function(d,c,b){if(!c.UI.ScrollablePanelV2){c.UI.ScrollablePanelV2=a;c.UI.ScrollablePanelV2.ScrollDirection={Down:"Down",Up:"Up"};c.UI.ScrollablePanelV2.ScrollSpeed={Fast:0.6,Slow:0.15};}function a(r,q){q=q||{};var I=this,V="WA.UI.ScrollablePanelV2",X=r,H=q.parentComponent;I.toString=function(){return V;};I.RenderComplete=c.Tools.EventHandlers.createHandlers(I,{id:"RenderComplete"});I.Dispose=c.Tools.EventHandlers.createHandlers(I,{id:"Dispose"});var s=false,t=false,S=false,K=15,e=32,g=false,h,f,u=1,U,R={panel:{elem:null,size:null},track:{elem:null,size:null,rect:null},thumb:{elem:null,size:null},content:{elem:null,size:null},wrapper:{elem:null},mouseCoords:{clientX:null,clientY:null},defaultScrollDelta:{Y:null,minY:40},thumbShift:{Y:null},thumbMoveBasePoint:{Y:null},thumbMoveBaseTop:{Y:null}};I.render=J;I.calculate=i;I.scrollToElement=M;I.startAutoScroll=N;I.stopAutoScroll=P;I.scrollToCoords=L;I.getContainerRect=function(){return c.Dimensions.getElementRect(R.panel.elem);};function L(Y){if(!Y){}if(Y.Y!=b){R.wrapper.elem.scrollTop=Y.Y;}}function N(Y){f=Y.scrollDirection;h=Y.scrollSpeed;g=true;c.throttle(o,e);}function P(){g=false;c.clearThrottle(o);}function o(){if(!g){c.clearThrottle(o);return;}var Z=R.defaultScrollDelta.Y*h,Y=Math.round(R.wrapper.elem.scrollTop/R.content.size*R.panel.size);switch(f){case c.UI.ScrollablePanelV2.ScrollDirection.Up:R.wrapper.elem.scrollTop-=Z;v(R.thumb.elem,Y);break;case c.UI.ScrollablePanelV2.ScrollDirection.Down:R.wrapper.elem.scrollTop+=Z;v(R.thumb.elem,Y);break;default:throw new Error("scrollDirection is undefined");}c.throttle(o,e);}function M(Y){c.scrollToElement(Y,{scrollableArea:R.wrapper.elem});}function J(){return c.UI.ScrollablePanelV2Template(X);}function B(Z,Y){R.panel.elem=c.$(X.id);R.thumb.elem=c.$(X.id+c.UI.ScrollablePanelV2Template.ScrollBarThumbIdPostfix);R.content.elem=c.$(X.id+c.UI.ScrollablePanelV2Template.ContentIdPostfix);R.track.elem=c.$(X.id+c.UI.ScrollablePanelV2Template.ScrollBarTrackIdPostfix);R.wrapper.elem=c.$(X.id+c.UI.ScrollablePanelV2Template.ScrollWrapperIdPostfix);i();I.RenderComplete.fireHandlers();}function i(){l();if(!t){c.Dom.addClassName(R.track.elem,"disabled");}else{c.Dom.removeClassName(R.track.elem,"disabled");}if(t&&!S){T();}else{if(!t&&S){W();}}}function T(){c.addHandler(R.panel.elem,"mouseover",y);c.addHandler(R.panel.elem,"mouseout",x);c.addHandler(R.panel.elem,"mousewheel",z);c.addHandler(R.panel.elem,"DOMMouseScroll",z);c.addHandler(R.thumb.elem,"mousedown",E);c.addHandler(R.track.elem,"mousedown",F);S=true;}function W(){if(!S){return;}c.removeHandler(R.panel.elem,"mouseover",y);c.removeHandler(R.panel.elem,"mouseout",x);c.removeHandler(R.panel.elem,"mousewheel",z);c.removeHandler(R.panel.elem,"DOMMouseScroll",z);c.removeHandler(R.thumb.elem,"mousedown",E);c.removeHandler(R.track.elem,"mousedown",F);c.removeHandler(d.document,"mouseup",F);c.removeHandler(d.document,"mouseup",D);c.removeHandler(d.document,"mousemove",C);c.removeHandler(d.document,"mousemove",A);S=false;}function y(Y){c.Dom.removeClassName(R.track.elem,"fadeOut");c.Dom.addClassName(R.track.elem,"fadeIn");}function x(Y){c.Dom.removeClassName(R.track.elem,"fadeIn");c.Dom.addClassName(R.track.elem,"fadeOut");}function z(Y){c.stopEventBubbling(Y);var aa=0;if(Y.wheelDeltaY){aa=Y.wheelDeltaY;}else{if(Y.detail){aa=Y.detail>0?(-1*R.defaultScrollDelta.Y):R.defaultScrollDelta.Y;}else{if(Y.wheelDelta){aa=Y.wheelDelta;}else{return;}}}R.wrapper.elem.scrollTop-=aa;var Z=j();v(R.thumb.elem,Z);}function E(Y){R.thumbMoveBasePoint.Y=Y.clientY;R.thumbMoveBaseTop.Y=R.thumb.elem.style.top?parseInt(R.thumb.elem.style.top):0;c.Dom.addClassName(R.track.elem,"active");c.Dom.addClassName(R.thumb.elem,"drag");c.addHandler(d.document,"mousemove",C);c.addHandler(d.document,"mouseup",D);c.stopEvent(Y);}function C(Z){var ab=Z.clientY,ad=c.Dimensions.getElementXY(R.track.elem),Y=ab-R.thumbMoveBasePoint.Y,aa=ad.height-R.thumb.size,ac;if(!parseInt(R.thumb.elem.style.top)){R.thumb.elem.style.top="0px";}if(Y==0){ac=R.thumbMoveBaseTop.Y;}else{if(Y>0){ac=R.thumbMoveBaseTop.Y+Y;}else{if(Y<0){ac=R.thumbMoveBaseTop.Y+Y;}}}if(ac<0){ac=0;R.thumbMoveBasePoint.Y=ab;R.thumbMoveBaseTop.Y=ac;}else{if(ac>aa){ac=aa;R.thumbMoveBasePoint.Y=ab;R.thumbMoveBaseTop.Y=ac;}}R.thumb.elem.style.top=ac+"px";R.wrapper.elem.scrollTop=k();}function D(Y){R.thumbMoveBasePoint.Y=null;c.Dom.removeClassName(R.track.elem,"active");c.Dom.removeClassName(R.thumb.elem,"drag");c.removeHandler(d.document,"mousemove",C);c.removeHandler(d.document,"mouseup",D);}function l(){R.panel.size=R.panel.elem.offsetHeight;R.content.size=R.content.elem.offsetHeight;R.track.size=R.track.elem.offsetHeight;t=R.content.size>R.panel.size;if(!t){return;}R.thumb.size=parseInt(Math.floor(Math.pow(R.panel.size,2)/R.content.size));R.thumb.elem.style.height=R.thumb.size+"px";R.thumbShift.Y=parseInt(Math.floor(Math.pow(R.panel.size,2)/R.content.size))||u;R.defaultScrollDelta.Y=parseInt(R.panel.size/4)>R.defaultScrollDelta.minY?parseInt(R.panel.size/4):R.defaultScrollDelta.minY;}function v(Y,Z){Y.style.top=Z+"px";}function j(){return Math.round(R.wrapper.elem.scrollTop/R.content.size*R.panel.size);}function k(){return Math.round(R.thumb.elem.offsetTop/R.track.size*R.content.size);}function m(){var ac,ab=5,ae=c.Dimensions.getElementXY(R.thumb.elem),af=c.Dimensions.getElementXY(R.track.elem),aa=af.height-R.thumb.size,ad=ae.Y+R.thumb.size/2,Y=R.mouseCoords.clientY-ad,Z=Math.abs(Y);if(Z<ab){G();return R.thumb.elem.offsetTop;}else{if(Y>0){if(Y>R.thumbShift.Y){ac=R.thumbShift.Y;return R.thumb.elem.offsetTop+ac;}else{if(Y<R.thumbShift.Y){ac=Y;return R.thumb.elem.offsetTop+ac>aa?aa:R.thumb.elem.offsetTop+ac;}}}else{if(Y<0){if(Z>R.thumbShift.Y){ac=R.thumbShift.Y;return R.thumb.elem.offsetTop-ac;}else{if(Z<R.thumbShift.Y){ac=Z;return R.thumb.elem.offsetTop-ac>0?R.thumb.elem.offsetTop-ac:0;}}}}}}function F(Y){A(Y);c.Dom.addClassName(R.track.elem,"active");O();c.addHandler(d.document,"mousemove",A);c.addHandler(d.document,"mouseup",G);c.stopEvent(Y);}function G(Y){Q();c.Dom.removeClassName(R.track.elem,"active");c.removeHandler(d.document,"mouseup",G);c.removeHandler(d.document,"mousemove",A);}function O(){if(U){Q();}U=setInterval(w,K);w();}function Q(){if(!U){return;}clearInterval(U);U=null;}function A(Y){R.mouseCoords.clientX=Y.clientX;R.mouseCoords.clientY=Y.clientY;}function w(){var Y=m();v(R.thumb.elem,Y);R.wrapper.elem.scrollTop=k();}function p(){H.RenderComplete.addHandler(B);H.Dispose.addHandler(n);}function n(){if(s){return;}Q();W();c.clearThrottle(o);I.Dispose.fireHandlers();H.RenderComplete.removeHandler(B);H.Dispose.removeHandler(n);X=null;H=null;R=null;t=false;S=null;K=null;e=null;g=null;h=null;f=null;u=null;U=null;I.RenderComplete=null;I.Dispose=null;s=true;}p();}})(window,WA);(function(d,c,b){if(!c.UI.ScrollablePanelV2Template){c.UI.ScrollablePanelV2Template=a;c.UI.ScrollablePanelV2Template.IdPostfix="_scrollablePanel";c.UI.ScrollablePanelV2Template.ScrollBarTrackIdPostfix="_scrollBarTrack";c.UI.ScrollablePanelV2Template.ScrollBarThumbIdPostfix="_scrollBarThumb";c.UI.ScrollablePanelV2Template.ContentIdPostfix="_content";c.UI.ScrollablePanelV2Template.ScrollWrapperIdPostfix="_scrollWrapper";c.UI.ScrollablePanelV2Template.CssClasses={FadeIn:"fadeIn",FadeOut:"fadeOut"};}function a(f){var e=c.UI.ContainerTemplate;return e({id:f.id,cssClass:"scrollablePanelV2",contentHTML:e({id:f.id+c.UI.ScrollablePanelV2Template.ScrollWrapperIdPostfix,cssClass:"scrollWrapper",contentHTML:e({id:f.id+c.UI.ScrollablePanelV2Template.ContentIdPostfix,cssClass:"scrollableContent",contentHTML:f.contentHTML})})+e({id:f.id+c.UI.ScrollablePanelV2Template.ScrollBarTrackIdPostfix,cssClass:"scrollBarTrack disabled "+c.UI.ScrollablePanelV2Template.CssClasses.FadeOut,contentHTML:e({id:f.id+c.UI.ScrollablePanelV2Template.ScrollBarThumbIdPostfix,cssClass:"scrollBarThumb"})})});}})(window,WA);(function(c,b){if(!b.UI.SearchResultLayout){b.UI.SearchResultLayout=a;}function a(j,i){i=i||{};var n=this,q="WA.UI.SearchResultLayout",s=j,p=s.resources,m=i.parentComponent,r;n.toString=function(){return q;};n.ValueChanged=b.Tools.EventHandlers.createHandlers(n,{id:"ValueChanged"});n.RenderComplete=b.Tools.EventHandlers.createHandlers(n,{id:"RenderComplete"});n.Dispose=b.Tools.EventHandlers.createHandlers(n,{id:"Dispose"});var e=[],f;n.render=o;n.dispose=d;n.getId=function(){return s.id;};n.getType=function(){return s.layoutControlType;};function g(){var u,v,t,w=[];for(u=0,v=e.length;u<v;u++){t=e[u];w.push(t.getValue());}return{name:s.attr.eventTags,value:w};}function o(){return b.UI.SearchResultLayoutTemplate(s);}function l(u,t){n.RenderComplete.fireHandlers();}function k(u,t){n.ValueChanged.fireHandlers();}function h(){m.RenderComplete.addHandler(l);m.Dispose.addHandler(d);r=b.UI.Helpers.ValueAccessorHelper.createValueAccessor(j,n);f=b.UI.Helpers.ValueAccessorHelper.mapLayoutElementsToValue(s.elements,r.getValue());var u,w,v,t;for(u=0,w=s.elements.length;u<w;u++){v=s.elements[u];v.id=s.id+u;v.valueAccessor=r.createChildValueAccessor(f[v.attr.eventTags].valueIndex,n);v.resources=v.resources||{};v.resources.textBoxCounter=p.textBoxCounter;t=b.Object.create(b.UI.SearchResultLayoutElement,[v,{parentComponent:n}]);t.ValueChanged.addHandler(k);e.push(t);}}function d(){n.Dispose.fireHandlers();m.RenderComplete.removeHandler(l);m.Dispose.removeHandler(d);s=null;e=null;m=null;n.ValidationComplete=null;n.ValueChanged=null;n.RenderComplete=null;n.Dispose=null;}h();}})(window,WA);(function(c,b){if(!b.UI.SearchResultLayoutTemplate){b.UI.SearchResultLayoutTemplate=a;}function a(j){var e=b.UI.ControlLayoutTemplate,f,h,g,d=[];for(f=0,h=j.elements.length;f<h;f++){g=j.elements[f];g.id=j.id+f;d.push(b.UI.SearchResultLayoutElementTemplate(g));}j.controlContainerDisplayType=b.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;j.cssClass="searchResultLayout"+(j.cssClass?" "+j.cssClass:"");j.layoutContentHTML=d.join("");return e(j);}b.UI.SearchResultLayoutTemplate.createSummary=function(h){if(h.hideInSummary){return"";}var d=[],e,g,f;for(e=0,g=h.elements.length;e<g;e++){f=h.elements[e];d.push(b.UI.SearchResultLayoutElementTemplate.createSummary(f));}return b.UI.ContainerTemplate({cssClass:"searchResultLayout",contentHTML:d.join("")});};})(window,WA);(function(c,b){if(!b.UI.SearchResultLayoutElement){b.UI.SearchResultLayoutElement=a;}function a(m,l){l=l||{};var v=this,A="WA.UI.SearchResultLayoutElement",C=m,x=C.resources,u=l.parentComponent,B;v.toString=function(){return A;};v.ValueChanged=b.Tools.EventHandlers.createHandlers(v,{id:"ValueChanged"});v.RenderComplete=b.Tools.EventHandlers.createHandlers(v,{id:"RenderComplete"});v.Dispose=b.Tools.EventHandlers.createHandlers(v,{id:"Dispose"});var d,D,i,n,f,y;v.getId=function(){return C.id;};v.init=k;v.render=w;v.getValue=h;function h(){var E=[];E.push(d.getValue());if(i){E.push(i.getValue());}if(D){E.push(D.getValue());}return{name:C.attr.eventTags,value:E};}function w(){return b.UI.SearchResultLayoutElementTemplate(C);}function o(F,E){v.ValueChanged.fireHandlers(E);}function r(F,E){y=b.$(C.id+b.UI.SearchResultLayoutElementTemplate.ContainerIdPostfix);v.RenderComplete.fireHandlers();if(d.getValue()===true){z();}else{j();}}function z(){b.Dom.removeClassName(y,"hidden");n.recalculateState();}function j(){b.Dom.addClassName(y,"hidden");}function s(F,E){if(d.getValue()===true){z();}else{j();}g();}function t(F,E){g();}function p(F,E){g();}function q(){g();}function g(){v.ValueChanged.fireHandlers();}function k(){u.RenderComplete.addHandler(r);u.Dispose.addHandler(e);B=b.UI.Helpers.ValueAccessorHelper.createValueAccessor(m,v);var E,I,F,G,H=[];H.push(C.columnSwitcher);H.push(C.widthControl);H.push(C.headerControl);H.push(C.linkedDropDownListsControl);f=b.UI.Helpers.ValueAccessorHelper.mapLayoutElementsToValue(H,B.getValue().value);C.columnSwitcher.id=C.id+"_switcher";E=f[C.columnSwitcher.attr.eventTags].valueIndex;C.columnSwitcher.valueAccessor=B.createChildValueAccessor("value."+E+".value",v);d=new b.UI.CheckBox(C.columnSwitcher,{parentComponent:v});d.ValueChanged.addHandler(s);if(C.widthControl){I=f[C.widthControl.attr.eventTags].valueIndex;C.widthControl.valueAccessor=B.createChildValueAccessor("value."+I+".value",v);C.widthControl.id=C.id+"_widthControl";C.widthControl.resources=C.widthControl.resources||{};C.widthControl.resources.intMinValue=x.textBoxCounter.intMinValue;C.widthControl.resources.intMaxValue=x.textBoxCounter.intMaxValue;D=new b.UI.NumberTextbox(C.widthControl,{parentComponent:v});D.ValueChanged.addHandler(t);}if(C.headerControl){F=f[C.headerControl.attr.eventTags].valueIndex;C.headerControl.valueAccessor=B.createChildValueAccessor("value."+F+".value",v);C.headerControl.id=C.id+"_headerControl";i=new b.UI.TextBox(C.headerControl,{parentComponent:v});i.ValueChanged.addHandler(p);}G=f[C.linkedDropDownListsControl.attr.eventTags].valueIndex;C.linkedDropDownListsControl.valueAccessor=B.createChildValueAccessor("value."+G+".value",v);C.linkedDropDownListsControl.id=C.id+"_linkedDropDownListsControl";n=new b.UI.LinkedDropDownListsControl(C.linkedDropDownListsControl,{parentComponent:v});n.ValueChanged.addHandler(q);}function e(){v.Dispose.fireHandlers();u.RenderComplete.removeHandler(r);u.Dispose.removeHandler(e);C=null;u=null;y=null;v.ValueChanged=null;v.RenderComplete=null;v.Dispose=null;}}})(window,WA);(function(c,b){if(!b.UI.SearchResultLayoutElementTemplate){b.UI.SearchResultLayoutElementTemplate=a;b.UI.SearchResultLayoutElementTemplate.ContainerIdPostfix="_searchResultLayoutElementSettings";}function a(e){var d=[];if(e.widthControl){d.push(b.UI.NumberTextboxTemplate(e.widthControl));}if(e.headerControl){d.push(b.UI.TextBoxTemplate(e.headerControl));}d.push(b.UI.LinkedDropDownListsControlTemplate(e.linkedDropDownListsControl));return b.UI.ContainerTemplate({cssClass:"searchResultLayoutElement",contentHTML:b.UI.CheckBoxTemplate(e.columnSwitcher)+b.UI.ContainerTemplate({id:e.id+b.UI.SearchResultLayoutElementTemplate.ContainerIdPostfix,cssClass:"searchResultLayoutElementSettings",contentHTML:d.join("")})});}b.UI.SearchResultLayoutElementTemplate.createSummary=function(d){return"";};})(window,WA);(function(c,b){if(!b.UI.Section){b.UI.Section=a;b.UI.Section.TypeName="WA.UI.Section";}function a(j,i,y){i=i||{};i.currentWindow=i.currentWindow||c;var s=this,A=b.UI.Section.TypeName,r=i.parentComponent,B=j,e=i.childElementInitArgs||{},d=i.childElementEventHandlers||{ValueChanged:m,VisualStateChanged:q};B.attr=B.attr||{eventTags:B.id};s.toString=function(){return A;};s.ValueChanged=b.Tools.EventHandlers.createHandlers(s,{id:"ValueChanged"});s.RenderComplete=b.Tools.EventHandlers.createHandlers(s,{id:"RenderComplete"});s.ValidationFailed=b.Tools.EventHandlers.createHandlers(s,{id:"ValidationFailed"});s.Dispose=b.Tools.EventHandlers.createHandlers(s,{id:"Dispose"});s.VisualStateChanged=b.Tools.EventHandlers.createHandlers(s,{id:"VisualStateChanged"});s.render=t;s.getId=g;s.dispose=f;s.toString=function(){return A;};s.getType=function(){return B.layoutControlType;};var l=B.isCollapsible,k=B.isCollapsible?B.isCollapsed:false,x,u,v,w;function g(){return B.id;}function t(){return b.UI.SectionTemplate(B);}function m(D,C){s.ValueChanged.fireHandlers(C);}function n(){if(l){x=b.$(B.id+b.UI.SectionTemplate.TitleIdPostfix);u=b.$(B.id+b.UI.SectionTemplate.SectionContainerIdPostfix);v=b.$(B.id+b.UI.SectionTemplate.ControlIdPostfix);b.addHandler(x,"click",o);}s.RenderComplete.fireHandlers();}function o(D,C){k=!k;z();s.VisualStateChanged.fireHandlers();}function z(){if(k===true){b.Dom.addClassName(x,b.UI.SectionTitleTemplate.SectionTitleCollapsedClass);b.Dom.addClassName(v,b.UI.SectionTemplate.SectionContainerClass.Collapsed);b.Dom.removeClassName(v,b.UI.SectionTemplate.SectionContainerClass.Expanded);return;}b.Dom.removeClassName(x,b.UI.SectionTitleTemplate.SectionTitleCollapsedClass);b.Dom.removeClassName(v,b.UI.SectionTemplate.SectionContainerClass.Collapsed);b.Dom.addClassName(v,b.UI.SectionTemplate.SectionContainerClass.Expanded);}function p(D,C){s.ValidationFailed.fireHandlers(C);}function q(){s.VisualStateChanged.fireHandlers();}function h(){r.RenderComplete.addHandler(n);r.Dispose.addHandler(f);if(r.ValidationFailed){r.ValidationFailed.addHandler(p);}e.parentComponent=s;b.UI.Helpers.ControlHelper.createElements(B,e,y,d);}function f(){s.Dispose.fireHandlers();r.RenderComplete.removeHandler(n);r.Dispose.removeHandler(f);if(r.ValidationFailed){r.ValidationFailed.removeHandler(p);}B=null;r=null;w=null;s.ValueChanged=null;s.RenderComplete=null;s.Dispose=null;s.ValidationFailed=null;s.VisualStateChanged=null;if(l){b.removeHandler(x,"click",o);}x=null;u=null;v=null;}h();}})(window,WA);(function(f,e,d){if(!e.UI.SectionTemplate){e.UI.SectionTemplate=c;e.UI.SectionTemplate.SectionContainerIdPostfix="_sectionContent";e.UI.SectionTemplate.TitleIdPostfix="_sectionTitle";e.UI.SectionTemplate.ControlIdPostfix="_sectionControl";e.UI.SectionTemplate.SectionTitleCollapsedClass="collapsed";e.UI.SectionTemplate.SectionContainerClass={Collapsed:"collapsed",Expanded:"expanded",EmptyTitle:"emptyTitle"};}function c(j){var g=e.UI.ContainerTemplate,i=j.isCollapsible,h=j.isCollapsible?j.isCollapsed:false;return g({cssClass:"sectionControl"+(j.title==d?" "+e.UI.SectionTemplate.SectionContainerClass.EmptyTitle:"")+(j.cssClass!=d?" "+j.cssClass:"")+(h===true?(" "+e.UI.SectionTemplate.SectionContainerClass.Collapsed):(" "+e.UI.SectionTemplate.SectionContainerClass.Expanded)),id:j.id+e.UI.SectionTemplate.ControlIdPostfix,contentHTML:b(j,{isCollapsible:i,isCollapsed:h})+a(j)});}function b(h,g){if(h.title==d){return"";}return e.UI.SectionTitleTemplate({id:h.id+e.UI.SectionTemplate.TitleIdPostfix,contentText:h.title,isCollapsible:g.isCollapsible,isCollapsed:g.isCollapsed});}function a(h){var g=e.UI.ContainerTemplate;if(e.getTypeString(h.elements)=="array"&&h.elements.length>0){h.contentHTML=e.UI.Helpers.ControlHelper.createElementsHtml(h);}return g({id:h.id+e.UI.SectionTemplate.SectionContainerIdPostfix,cssClass:"sectionContainer",attr:h.attr,contentHTML:h.contentHTML,contentText:h.contentText});}e.UI.SectionTemplate.createSummary=function(g){return"";};})(window,WA);(function(d,c,b){if(!c.UI.SectionTitleTemplate){c.UI.SectionTitleTemplate=a;c.UI.SectionTitleTemplate.TextContainerIdPostfix="_textContainer";c.UI.SectionTitleTemplate.SectionTitleArrowIdPostfix="_arrow";c.UI.SectionTitleTemplate.SectionTitleCollapsedClass="collapsed";}function a(f){var e=c.UI.ContainerTemplate,g=c.UI.TextContainerTemplate;return e({cssClass:"sectionTitle"+(f.cssClass!=b?(" "+f.cssClass):"")+(f.isCollapsible===true?" collapsible":"")+(f.isCollapsed===true?" "+c.UI.SectionTitleTemplate.SectionTitleCollapsedClass:""),id:f.id,attr:f.attr,contentHTML:e({id:f.id+c.UI.SectionTitleTemplate.SectionTitleArrowIdPostfix,cssClass:"sectionTitleArrow"})+g({id:f.id+c.UI.SectionTitleTemplate.TextContainerIdPostfix,contentHTML:f.contentHTML,contentText:f.contentText})});}})(window,WA);(function(c,b){if(!b.UI.SettingDialog){b.UI.SettingDialog=a;}function a(v,u,F){u=u||{};var C=this,H="WA.UI.SettingDialog",I=v,w=v.modelAccessor,A=u.parentComponent;C.toString=function(){return H;};C.ValidationFailed=b.Tools.EventHandlers.createHandlers(C,{id:"ValidationFailed"});C.ValueChanged=b.Tools.EventHandlers.createHandlers(C,{id:"ValueChanged"});C.RenderComplete=b.Tools.EventHandlers.createHandlers(C,{id:"RenderComplete"});C.Dispose=b.Tools.EventHandlers.createHandlers(C,{id:"Dispose"});var z,m,i=[],E,e;C.render=D;C.dispose=o;C.parentSelected=B;C.getType=function(){return I.layoutControlType;};C.show=G;C.hide=s;C.enable=r;C.disable=n;function G(){throw new Error("not implemented");}function s(){throw new Error("not implemented");}function r(){throw new Error("not implemented");}function n(){throw new Error("not implemented");}function D(){return b.UI.SettingDialogSummaryTemplate(I);}function B(J){b.UI.Helpers.ControlHelper.applyParentSelectedBehavior(C,I.parentChangeBehaviour,J);}function x(K,J){C.RenderComplete.fireHandlers();}function k(){m=b.UI.WaWindowManager.createDialog("SettingsDialog"+I.id,{left:400,top:172,width:I.width,height:I.height,isModal:true,isResizeable:I.isResizable,isResizeableX:false,isResizeableY:true,isScrollable:I.isScrollable});m.setTitle(I.title);m.setFooter(b.UI.SettingDialogButtonsTemplate(I));}function j(){var L,M,N,K,J=[],O={dataSource:F.dataSource,modelAccessor:w};for(L=0,M=I.elements.length;L<M;L++){N=b.Object.copy(I.elements[L]);N.id=I.id+L;K=F.controlFactory.createControl(N.layoutControlType,N,{parentComponent:C},O);J.push(K.render());i.push(K);}m.setContent(b.UI.SettingDialogTemplate({contentHTML:J.join("")}));}function p(){var J,K;for(J=0,K=i.length;J<K;J++){i[J].dispose();}i=[];}function g(){m.setContent("");}function l(){E=new b.UI.WaButton({id:I.id+b.UI.SettingDialogButtonsTemplate.SaveButtonPostfix},{parentComponent:C});E.WaButtonClick.addHandler(d);e=new b.UI.WaButton({id:I.id+b.UI.SettingDialogButtonsTemplate.CancelButtonPostfix},{parentComponent:C});e.WaButtonClick.addHandler(f);}function q(){E.dispose();E=null;e.dispose();e=null;}function d(){var J=w.applyChanges();if(!J.isSuccess){C.ValidationFailed.fireHandlers();return;}C.ValueChanged.fireHandlers({eventTags:I.attr.eventTags});h();}function f(){w.resetChanges();h();}function y(){j();l();m.Cancel.addHandler(f);b.Tools.KeyboardWatcher.Enter.addHandler(d);b.Tools.KeyboardWatcher.Esc.addHandler(f);m.show();C.RenderComplete.fireHandlers();}function h(){p();q();g();if(m){m.hide();m.Cancel.removeHandler(f);}b.Tools.KeyboardWatcher.Enter.removeHandler(d);b.Tools.KeyboardWatcher.Esc.removeHandler(f);}function t(){A.RenderComplete.addHandler(x);A.Dispose.addHandler(o);z=new b.UI.WaButton({id:I.id+b.UI.ButtonTemplate.defaultEventTag},{parentComponent:C});z.WaButtonClick.addHandler(y);k();}function o(){C.Dispose.fireHandlers();b.Tools.KeyboardWatcher.Enter.removeHandler(d);b.Tools.KeyboardWatcher.Esc.removeHandler(f);A.RenderComplete.removeHandler(x);A.Dispose.removeHandler(o);E=null;e=null;i=null;I=null;w=null;A=null;C.RenderComplete=null;C.Dispose=null;C.ValueChanged=null;C.ValidationFailed=null;}t();}})(window,WA);(function(b,a){if(!a.UI.SettingDialogSummaryTemplate){a.UI.SettingDialogSummaryTemplate=function(f){var c=a.UI.ButtonTemplate,h=a.UI.WaButtonTemplate,d=a.UI.ContainerTemplate,e=f.id+a.UI.SettingDialogSummaryTemplate.SummaryContainerPostfix;return d({id:e,cssClass:"settingsSummary",contentHTML:d({contentHTML:g(f)})+d({cssClass:"summaryButtonContainer",contentHTML:h({name:f.openDialogButtonTitle,id:f.id+a.UI.ButtonTemplate.defaultEventTag},{color:a.UI.WaButton.ButtonColor.Grey,size:a.UI.WaButton.ButtonSize.Default})})});function g(k){var l,m,n,j=[];for(l=0,m=k.elements.length;l<m;l++){n=k.elements[l];n.id=n.id||k.id+l;var o=a.UI.ControlFactory.createTemplate(n.layoutControlType);j.push(o.createSummary(n));}return j.join("");}};a.UI.SettingDialogSummaryTemplate.SummaryContainerPostfix="_summaryContainer";a.UI.SettingDialogSummaryTemplate.IdPostfix="_dialogSummary";}if(!a.UI.SettingDialogTemplate){a.UI.SettingDialogTemplate=function(d){var c=a.UI.ContainerTemplate;return c({cssClass:"settingDialog",contentHTML:d.contentHTML});};}if(!a.UI.SettingDialogButtonsTemplate){a.UI.SettingDialogButtonsTemplate=function(f){var c=[],e=a.UI.ContainerTemplate,d=a.UI.WaButtonTemplate;c.push(e({cssClass:"actionButtons",contentHTML:d({id:f.id+a.UI.SettingDialogButtonsTemplate.SaveButtonPostfix,name:f.buttonSaveTitle},{color:a.UI.WaButton.ButtonColor.Grey})+d({id:f.id+a.UI.SettingDialogButtonsTemplate.CancelButtonPostfix,name:f.buttonCancelTitle},{color:a.UI.WaButton.ButtonColor.Grey})}));return c.join("");};a.UI.SettingDialogButtonsTemplate.CancelButtonPostfix="_cancelButton";a.UI.SettingDialogButtonsTemplate.SaveButtonPostfix="_saveButton";}})(window,WA);(function(d,c,b){if(!c.UI.SizeSelector){c.UI.SizeSelector=a;}function a(i,h,v){h=h||{};var q=this,x="WA.UI.SizeSelector",z=i,y,o=h.parentComponent,u=i.resources;q.toString=function(){return x;};q.RenderComplete=c.Tools.EventHandlers.createHandlers(q,{id:"RenderComplete"});q.Dispose=c.Tools.EventHandlers.createHandlers(q,{id:"Dispose"});q.ValueChanged=c.Tools.EventHandlers.createHandlers(q,{id:"ValueChanged"});q.ValidationFailed=c.Tools.EventHandlers.createHandlers(q,{id:"ValidationFailed"});var j=z.minValue!=b?z.minValue:0,e=z.defaultValue,r,s,k;q.render=t;q.setValue=w;q.getValue=function(){return y.getValue();};q.getType=function(){return z.layoutControlType;};function w(A){if(A=="auto"){r.setValue(A);return;}r.setValue("fixed");v.controlList[z.id+c.UI.SizeSelectorTemplate.NumberTextBox].setValue(A);}function t(){return c.UI.SizeSelectorTemplate(z);}function m(B,A){s=c.$(z.id+c.UI.SizeSelectorTemplate.RadioList);s.innerHTML=r.render();q.RenderComplete.fireHandlers();}function n(){q.ValidationFailed.fireHandlers();}function l(B,A){switch(r.getValue()){case"auto":y.setValue(null,"value.value");break;case"fixed":y.setValue(k.getValue(),"value.value");break;}q.ValueChanged.fireHandlers();}function p(){var A=[];A.push({contentText:u.sizeSelector.AutoOptionTitle,value:"auto",attr:{eventTags:"auto"},checked:y.getValue("value.value")===null});A.push({contentText:u.sizeSelector.FixedOptionTitle,checked:y.getValue("value.value")!=null,value:"fixed",linkedControlPosition:c.UI.ControlLayoutTemplate.LinkedControlPosition.Horizontal,attr:{eventTags:"fixed"},controlContainerDisplayType:c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed,linkedControlContainerDisplayType:c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed,linkedControl:{id:z.id+c.UI.SizeSelectorTemplate.NumberTextBox,layoutControlType:c.UI.ControlType.Number,valueAccessor:k,attr:{eventTags:z.id+c.UI.SizeSelectorTemplate.NumberTextBox},postfix:"px",minValue:j,defaultValue:e,controlContainerDisplayType:c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed,parentChangeBehaviour:{onSelected:c.UI.LinkedControlBehavior.Enable,onDeselected:c.UI.LinkedControlBehavior.Disable}}});return A;}function g(){o.RenderComplete.addHandler(m);o.Dispose.addHandler(f);if(o.ValidationFailed){o.ValidationFailed.addHandler(n);}y=c.UI.Helpers.ValueAccessorHelper.createValueAccessor(i,q);k=new c.SimpleAccessor({value:(y.getValue("value.value")!=b)?y.getValue("value.value"):z.defaultValue},{parentComponent:q});r=new c.UI.RadioButtonList({id:z.id+c.UI.SizeSelectorTemplate.RadioList,items:p(),repeatType:"horizontal",value:y.getValue("value.value")==null?"auto":"fixed"},{parentComponent:q},v);r.ValueChanged.addHandler(l);}function f(){q.Dispose.fireHandlers();o.RenderComplete.removeHandler(m);o.Dispose.removeHandler(f);if(o.ValidationFailed){o.ValidationFailed.removeHandler(n);}z=null;y=null;k=null;o=null;r=null;s=null;q.RenderComplete=null;q.Dispose=null;q.ValueChanged=null;q.ValidationFailed=null;}g();}})(window,WA);(function(d,c,b){if(!c.UI.SizeSelectorTemplate){c.UI.SizeSelectorTemplate=a;c.UI.SizeSelectorTemplate.RadioList="_radioList";c.UI.SizeSelectorTemplate.NumberTextBox="_numberTextbox";}function a(g){var f=c.UI.ContainerTemplate,e=c.UI.ControlLayoutTemplate;g.controlContainerDisplayType="flexible";g.cssClass="sizeSelector"+(g.cssClass?" "+g.cssClass:"");g.layoutContentHTML=f({id:g.id+c.UI.SizeSelectorTemplate.RadioList});return e(g);}})(window,WA);(function(b,a){a.Templates.UI.Css.ColumnLabel="columnTypeLabel SplittedContainerFirstColumn";a.Templates.UI.Css.ColumnField="columnTypeField SplittedContainerLastColumn";if(!a.UI.SplittedContainerColumnTemplate){a.UI.SplittedContainerColumnTemplate=function(e){var c=[];c.push('<div class="SplittedContainerColumn');if(e.cssClass){c.push(" "+e.cssClass);}c.push('"');if(e.id){c.push(' id="'+e.id+'"');}if(e.attr){for(var d in e.attr){c.push(" "+d+'="'+e.attr[d]+'"');}}c.push('><div class="xcontainer SplittedContainerInnerColumn');if(e.innerCssClass){c.push(" "+e.innerCssClass);}c.push('">');if(e.contentHTML){c.push(e.contentHTML);}if(e.contentText){c.push(a.encodeHtml(e.contentText));}c.push("</div></div>");return c.join("");};}})(window,WA);(function(b,a){if(!a.UI.SplittedContainerTemplate){a.UI.SplittedContainerTemplate=function(e){var c=[];c.push('<div class="xcontainer SplittedContainer');if(e.cssClass){c.push(" "+e.cssClass);}c.push('"');if(e.id){c.push(' id="'+e.id+'"');}if(e.attr){for(var d in e.attr){c.push(" "+d+'="'+e.attr[d]+'"');}}c.push(">");if(e.contentHTML){c.push(e.contentHTML);}if(e.contentText){c.push(a.encodeHtml(e.contentText));}c.push("</div>");return c.join("");};}})(window,WA);(function(d,c,b){if(!c.UI.Stamp){c.UI.Stamp=a;c.UI.Stamp.CssClass="WaStamp";c.UI.Stamp.PositioningTimeout=10;c.UI.Stamp.Color={Gray:"gray",Green:"green"};}function a(j,h){h=h||{};var n=this,s="WA.UI.Stamp",t=j,m=h.parentComponent;n.toString=function(){return s;};n.Dispose=c.Tools.EventHandlers.createHandlers(n,{id:"Dispose"});var l=false,e,r=t.targetWindow||d,q;n.dispose=f;n.resetContainerPosition=o;function o(){e.style.visibility="hidden";c.throttle(p,c.UI.Stamp.PositioningTimeout);}function p(){var v=c.Dimensions.getElementRect(q,r),u={top:v.heightCenter-(e.offsetHeight>>1),left:v.widthCenter-(e.offsetWidth>>1)};e.style.top=u.top+"px";e.style.left=u.left+"px";e.style.visibility="";}function i(){var v=r.document,u=c.UI.Stamp.Color;e=v.createElement("div");e.innerHTML=c.encodeHtml(t.contentText);e.className=c.UI.Stamp.CssClass+" "+(t.color||u.Green);v.body.appendChild(e);}function k(){q=c.$(t.targetId,r);if(!q){throw new Error("Unable to find target element.");}}function g(){m.Dispose.addHandler(f);k();i();o();}function f(){if(l){return;}c.clearThrottle(p);n.Dispose.fireHandlers();m.Dispose.removeHandler(f);try{d.document.body.removeChild(e);}catch(u){}t=null;m=null;e=null;q=null;r=null;n.Dispose=null;l=true;}g();}})(window,WA);(function(d,c,b){if(!c.UI.StyleSelector){c.UI.StyleSelector=a;}function a(i,h,w){h=h||{};var t=this,z="WA.UI.StyleSelector",B=i,A,r=h.parentComponent;t.toString=function(){return z;};t.RenderComplete=c.Tools.EventHandlers.createHandlers(t,{id:"RenderComplete"});t.Dispose=c.Tools.EventHandlers.createHandlers(t,{id:"Dispose"});t.ValueChanged=c.Tools.EventHandlers.createHandlers(t,{id:"ValueChanged"});t.ValidationFailed=c.Tools.EventHandlers.createHandlers(t,{id:"ValidationFailed"});t.VisualStateChanged=c.Tools.EventHandlers.createHandlers(t,{id:"VisualStateChanged"});t.render=u;t.getType=function(){return B.layoutControlType;};var e,v;function u(){return c.UI.StyleSelectorTemplate(B);}function o(D,C){t.RenderComplete.fireHandlers();}function p(){t.ValidationFailed.fireHandlers();}function k(){var C=e.background.getImageUrl();if(!C){return;}v=new Image();c.addHandler(v,"load",m);v.src=C;}function m(E,C){for(var D in e){if(e[D].getType()!=c.UI.ControlType.SizeSelector){continue;}e[D].setValue(v.height);break;}c.removeHandler(v,"load",m);}function l(){x();}function n(D,C){x(C);}function x(){if(!e.link){return;}if(e.background.getImageUrl()){e.link.showLink();return;}e.link.hideLink();return;}function j(D,C){t.ValueChanged.fireHandlers();}function s(E){var D,F,C;for(D=0,F=E.length;D<F;D++){C=E[D];C.valueAccessor=A.createChildValueAccessor(C.attr.eventTags,t);}}function y(){if(e.background){e.background.ImageSelected.addHandler(n);}if(e.link){e.link.ButtonClick.addHandler(k);e.link.RenderComplete.addHandler(l);}}function q(D,C){t.VisualStateChanged.fireHandlers();}function g(){r.RenderComplete.addHandler(o);r.Dispose.addHandler(f);if(r.ValidationFailed){r.ValidationFailed.addHandler(p);}A=c.UI.Helpers.ValueAccessorHelper.createValueAccessor(i,t);s(B.elements);e=c.UI.Helpers.ControlHelper.createElements(B,{parentComponent:t,gadget:h.gadget,globalMetadataResourceManager:h.globalMetadataResourceManager},w,{ValueChanged:j,VisualStateChanged:q});y();}function f(){t.Dispose.fireHandlers();r.RenderComplete.removeHandler(o);r.Dispose.removeHandler(f);if(r.ValidationFailed){r.ValidationFailed.removeHandler(p);}if(v){c.removeHandler(v,"load",m);}B=null;A=null;r=null;for(var C in e){e[C]=null;}e=null;v=null;t.RenderComplete=null;t.Dispose=null;t.ValueChanged=null;t.ValidationFailed=null;t.VisualStateChanged=null;}g();}})(window,WA);(function(d,c,b){if(!c.UI.StyleSelectorTemplate){c.UI.StyleSelectorTemplate=a;c.UI.StyleSelectorTemplate.BackgroundStyleSelectorPostfix="_backgroundStyleSelector";}function a(g){var e=c.UI.ControlLayoutTemplate,f=c.UI.Helpers.ControlHelper.createElementsHtml(g);g.controlContainerDisplayType=g.controlContainerDisplayType?g.controlContainerDisplayType:c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;g.cssClass="styleSelector"+(g.cssClass?" "+g.cssClass:"");g.layoutContentHTML=f;return e(g);}})(window,WA);(function(c,b){if(!b.UI.TableTemplate){b.UI.TableTemplate=a;}function a(e){var d=[];d.push("<table");if(e.cssClass){d.push(' class="'+e.cssClass+'"');}if(e.id){d.push(' id="'+e.id+'"');}if(e.title){d.push(' title="'+e.title+'"');}if(e.attr){d.push(b.UI.Helpers.ControlHelper.renderAttributes(e.attr));}d.push(">");if(e.contentHTML){d.push(e.contentHTML);}d.push("</table>");return d.join("");}})(window,WA);(function(c,b){if(!b.UI.TDTemplate){b.UI.TDTemplate=a;}function a(e){var d=[];d.push("<td");if(e.cssClass){d.push(' class="'+e.cssClass+'"');}if(e.id){d.push(' id="'+e.id+'"');}if(e.attr){d.push(b.UI.Helpers.ControlHelper.renderAttributes(e.attr));}d.push(">");if(e.contentHTML){d.push(e.contentHTML);}d.push("</td>");return d.join("");}})(window,WA);(function(c,b){if(!b.UI.TRTemplate){b.UI.TRTemplate=a;}function a(e){var d=[];d.push("<tr");if(e.cssClass){d.push(' class="'+e.cssClass+'"');}if(e.id){d.push(' id="'+e.id+'"');}if(e.title){d.push(' title="'+e.title+'"');}if(e.attr){d.push(b.UI.Helpers.ControlHelper.renderAttributes(e.attr));}d.push(">");if(e.contentHTML){d.push(e.contentHTML);}d.push("</tr>");return d.join("");}})(window,WA);(function(c,b){if(!b.UI.TabSwitcher){b.UI.TabSwitcher=a;b.UI.TabSwitcher.TypeName="WA.UI.TabSwitcher";}function a(n,h){h=h||{};var r=this,x=b.UI.TabSwitcher.TypeName;r.toString=function(){return x;};var i=[],y=n,e=null,q=h.parentComponent,j=y.containerId,w,v;r.TabSwitcherTabActivating=b.Tools.EventHandlers.createHandlers(r,{id:"TabSwitcherTabActivating"});r.TabSwitcherTabActivated=b.Tools.EventHandlers.createHandlers(r,{id:"TabSwitcherTabActivated"});r.Dispose=b.Tools.EventHandlers.createHandlers(r,{id:"Dispose"});r.RenderComplete=b.Tools.EventHandlers.createHandlers(r,{id:"RenderComplete"});r.setTabButtons=u;r.activateTab=d;r.deActivateTabs=k;r.dispose=l;function p(A,z){var C=z.tabButtonId,B={tabId:C};r.TabSwitcherTabActivating.fireHandlers(B);if(B.cancel===true){return;}d(C);}function d(E,B){if(!E){return;}var z=null,A=(e!=null&&e!=E),C,D;for(C=0,D=i.length;C<D;C++){z=i[C];if(z.getId()==E){z.activate();}else{z.deActivate();}}e=E;if(B!==false){r.TabSwitcherTabActivated.fireHandlers({tabId:e,changed:A});}}function k(){var z,A;for(z=0,A=i.length;z<A;z++){i[z].deActivate();}}function g(z){var A,B;for(A=0,B=z.buttons.length;A<B;A++){f(z.buttons[A]);}}function f(B){var z,A;A={button:B,id:y.id,buttonContainerType:y.buttonContainerType||b.UI.TabSwitcherButton.ButtonContainerTypes.Dialog};z=new b.UI.TabSwitcherButton(A,{parentComponent:r});if(i.length>0){z.setLeftSibling(i[i.length-1]);i[i.length-1].setRightSibling(z);}z.TabButtonClick.addHandler(p);i.push(z);}function u(z){if(i.length>0){t();}g(z);}function t(){var z,A;for(z=0,A=i.length;z<A;z++){i[z].TabButtonClick.removeHandler(p);i[z].dispose();}i=[];}function s(){var A,C,B,z=[];for(A=0,C=i.length;A<C;A++){B=i[A];z.push(B.render());}return z.join("");}function o(){w=b.$(j);w.innerHTML=b.UI.TabSwitcherTemplate({id:y.id,buttonsHtml:s()});v=b.$(y.id+b.UI.TabSwitcherTemplate.IdPostfix);r.RenderComplete.fireHandlers();}function m(){q.RenderComplete.addHandler(o);q.Dispose.addHandler(l);}function l(){r.Dispose.fireHandlers();q.RenderComplete.removeHandler(o);q.Dispose.removeHandler(l);if(w){w.innerHTML="";}r.TabSwitcherTabActivated=null;r.TabSwitcherTabActivating=null;r.Dispose=null;r.RenderComplete=null;y=null;q=null;e=null;i=null;w=null;v=null;}m();}})(window,WA);(function(c,b){if(!c.WA.UI.TabSwitcherTemplate){b.UI.TabSwitcherTemplate=a;b.UI.TabSwitcherTemplate.IdPostfix="_TabSwitcher";b.UI.TabSwitcherTemplate.TypeName="WA.UI.HorizontalRadioTabTemplate";}function a(e){var f=this,g=b.UI.TabSwitcherTemplate.TypeName;f.toString=function(){return g;};var d=b.UI.ContainerTemplate;return d({cssClass:"tabSwitcherContainer",id:e.id+b.UI.TabSwitcherTemplate.IdPostfix,contentHTML:e.buttonsHtml?e.buttonsHtml:""});}})(window,WA);(function(c,b){if(!b.UI.TabSwitcherButton){b.UI.TabSwitcherButton=a;b.UI.TabSwitcherButton.TypeName="WA.UI.TabSwitcherButton";b.UI.TabSwitcherButton.idPostfix="_TabButton";b.UI.TabSwitcherButton.ButtonContainerTypes={Dialog:"dialog",Panel:"panel"};}function a(m,e){e=e||{};var t=this,w=b.UI.TabSwitcherButton.TypeName;t.toString=function(){return w;};var l=m,r=e.parentComponent||null,k,v,f,s,g=l.buttonContainerType;t.Dispose=b.Tools.EventHandlers.createHandlers(t,{id:"Dispose"});t.TabButtonClick=b.Tools.EventHandlers.createHandlers(t,{id:"TabButtonClick"});t.dispose=i;t.render=u;t.activate=d;t.deActivate=h;t.setLeftSibling=function(x){k=x;};t.setRightSibling=function(x){v=x;};t.getId=function(){return m.button.id;};function u(){switch(g){case b.UI.TabSwitcherButton.ButtonContainerTypes.Dialog:return b.UI.TabSwitcherDialogButtonTemplate(l);case b.UI.TabSwitcherButton.ButtonContainerTypes.Panel:return b.UI.TabSwitcherPanelButtonTemplate(l);default:}}function d(){var x=l.frameWindow.document.getElementById(l.button.id+b.UI.TabSwitcherButton.idPostfix);if(x.className.indexOf("activeTab")<0){x.className+=" activeTab";}x.className=n(x.className);x=null;}function h(){var x=l.frameWindow.document.getElementById(l.button.id+b.UI.TabSwitcherButton.idPostfix);if(x.className.indexOf("activeTab")>=0){x.className=x.className.replace("activeTab","");}x.className=n(x.className);x=null;}function j(){r.Dispose.addHandler(i);r.RenderComplete.addHandler(o);r.TabSwitcherTabActivated.addHandler(p);l.frameWindow=l.frameWindow||c;}function p(B,x){var z=k?k.getId():"",A=v?v.getId():"",y=l.frameWindow.document.getElementById(l.button.id+b.UI.TabSwitcherButton.idPostfix);switch(x.tabId){case z:if(y.className.indexOf("leftSibling")<0){y.className+=" leftSibling";}y.className=y.className.replace("rightSibling","");break;case A:if(y.className.indexOf("rightSibling")<0){y.className+=" rightSibling";}y.className=y.className.replace("leftSibling","");break;default:y.className=y.className.replace("leftSibling","");y.className=y.className.replace("rightSibling","");}y.className=n(y.className);y=null;}function n(x){return b.String.gtrim(x.replace(/\s{2,}/g," "));}function o(){f=b.$(l.button.id+b.UI.TabSwitcherButton.idPostfix);s=new b.PointerClickHandler({id:l.button.id+"_pointerClickHandler"},{elementId:f.id,handler:q,parentComponent:t,stopEvent:true});}function q(){t.TabButtonClick.fireHandlers({tabButtonId:l.button.id,tabButtonType:l.button.type});}function i(){t.Dispose.fireHandlers();r.Dispose.removeHandler(i);s=null;t.Dispose=null;t.TabButtonClick=null;l=null;r=null;f=null;g=null;}j();}})(window,WA);(function(d,c,b){if(!c.UI.TabSwitcherDialogButtonTemplate){c.UI.TabSwitcherDialogButtonTemplate=a;}function a(f){var e=c.UI.ContainerTemplate;return e({id:f.button.id+c.UI.TabSwitcherButton.idPostfix,cssClass:f.buttonContainerType+" tabButton"+(f.button.cssClass?" "+f.button.cssClass:""),attr:{eventTags:"TabButton",objectId:f.button.id+"_"+f.id},contentHTML:e({cssClass:f.buttonContainerType+" tabTitleContainer",attr:{eventTags:"TabButton",objectId:f.button.id+"_"+f.id},contentHTML:f.button.title?f.button.title:f.button.id})});}})(window,WA);(function(d,c,b){if(!c.UI.TabSwitcherPanelButtonTemplate){c.UI.TabSwitcherPanelButtonTemplate=a;}function a(f){var e=c.UI.ContainerTemplate;return e({id:f.button.id+c.UI.TabSwitcherButton.idPostfix,cssClass:f.buttonContainerType+" tabButton"+(f.button.cssClass?" "+f.button.cssClass:""),attr:{eventTags:"TabButton",objectId:f.button.id+"_"+f.id},contentHTML:e({cssClass:f.buttonContainerType+" tabIconContainer",attr:{eventTags:"TabButton",objectId:f.button.id+"_"+f.id}})+e({cssClass:f.buttonContainerType+" tabTitleContainer",attr:{eventTags:"TabButton",objectId:f.button.id+"_"+f.id},contentHTML:f.button.title?f.button.title:f.button.id})});}})(window,WA);(function(d,c,b){if(!c.UI.TagList){c.UI.TagList=a;c.UI.TagList.TypeName="WA.UI.TagList";}function a(g){var k=this,m=c.UI.TagList.TypeName,n=g,j=g.parentComponent;k.toString=function(){return m;};k.RenderComplete=c.Tools.EventHandlers.createHandlers(k,{id:"RenderComplete"});k.Dispose=c.Tools.EventHandlers.createHandlers(k,{id:"Dispose"});var h=false;k.render=l;function l(){return c.UI.TagListTemplate(n);}function i(p,o){k.RenderComplete.fireHandlers();}function f(){j.RenderComplete.addHandler(i);j.Dispose.addHandler(e);}function e(){if(h){return;}k.Dispose.fireHandlers();j.RenderComplete.removeHandler(i);j.Dispose.removeHandler(e);n=null;j=null;k.RenderComplete=null;k.Dispose=null;h=true;}f();}})(window,WA);(function(d,c,b){if(!c.UI.TagListTemplate){c.UI.TagListTemplate=a;}function a(e){return c.UI.ContainerTemplate({id:e.id,contentHTML:f(e.tags)});function f(k){if(!k){return"";}var j="";for(var g=0,h=k.length;g<h;g++){j+=c.UI.TagTemplate(k[g],{id:e.id+g});}return j;}}})(window,WA);(function(d,c,b){if(!c.UI.TagTemplate){c.UI.TagTemplate=a;}function a(f,e){return c.UI.TextControlSimpleTemplate({id:e.id,contentText:f.contentText,eventTags:f.eventTags});}})(window,WA);(function(c,b){if(!b.UI.TagSelector){b.UI.TagSelector=a;}function a(l,k){k=k||{};var s=this,w="WA.UI.TagSelector",x=l,q=k.parentComponent;s.toString=function(){return w;};s.ValueChanged=b.Tools.EventHandlers.createHandlers(s,{id:"ValueChanged"});s.RenderComplete=b.Tools.EventHandlers.createHandlers(s,{id:"RenderComplete"});s.Dispose=b.Tools.EventHandlers.createHandlers(s,{id:"Dispose"});var p=[],d,m;s.render=t;s.getValue=h;s.parentSelected=r;s.resetValue=u;s.getType=function(){return x.layoutControlType;};s.enable=g;s.disable=e;function v(){throw new Error("not implemented");}function i(){throw new Error("not implemented");}function g(){throw new Error("not implemented");}function e(){throw new Error("not implemented");}function u(){x.value.value=m.value;var A,z,y;for(A=0,z=p.length;A<z;A++){y=p[A];y.resetValue();}}function h(){var y,z,A,B=[];for(y=0,z=p.length;y<z;y++){A=p[y];if(A.isSelected()){B.push(A.getValue());}}return{name:x.attr.eventTags,value:B};}function r(y){b.UI.Helpers.ControlHelper.applyParentSelectedBehavior(s,x.parentChangeBehaviour,y);}function t(){return b.UI.TagSelectorTemplate(x);}function o(z,y){d=b.$(x.id+b.UI.TagSelectorTemplate.IdContainerPostfix);s.RenderComplete.fireHandlers();}function n(z,y){x.value.value=h().value;s.ValueChanged.fireHandlers();}function j(){var y,z,A,B;m=b.Object.copy(x.value);for(y=0,z=x.items.length;y<z;y++){B=x.items[y];B.id=x.id+y;B.checked=x.value.value.indexOf(B.value)>=0;A=b.Object.create(b.UI.TagSelectorOption,[B,{parentComponent:s}]);A.ValueChanged.addHandler(n);p.push(A);}q.RenderComplete.addHandler(o);q.Dispose.addHandler(f);}function f(){s.Dispose.fireHandlers();q.RenderComplete.removeHandler(o);q.Dispose.removeHandler(f);x=null;q=null;p=null;d=null;s.RenderComplete=null;s.Dispose=null;s.ValueChanged=null;}j();}})(window,WA);(function(c,b){if(!b.UI.TagSelectorTemplate){b.UI.TagSelectorTemplate=a;}function a(g){var e,f,d=[],h,j=b.UI.TagSelectorOptionTemplate;if(g.items.length>0){for(e=0,f=g.items.length;e<f;e++){h=g.items[e];h.id=g.id+e;d.push(j(h,e==(f-1)));}}else{d.push(b.UI.TextContainerTemplate({contentText:(b.AdminPanel?b.AdminPanel.Resources.Text.TagSelector_NoTags:"No tags"),cssClass:"textSmall textGrey"}));}return b.UI.ContainerTemplate({cssClass:"tagSelector",id:g.id+b.UI.TagSelectorTemplate.IdContainerPostfix,attr:b.UI.Helpers.ControlHelper.createContainerAttributes(g),contentHTML:d.join("")});}b.UI.TagSelectorTemplate.createSummary=function(j){if(j.hideInSummary){return"";}var f,h,d=[],k=b.UI.TagSelectorOptionTemplate,g,e=false;if(j.items.length>0){for(f=0,h=j.items.length;f<h;f++){g=j.items[f];if(g.checked===true){e=true;d.push(k.createSummary(g));d.push(b.UI.TextContainerTemplate({contentText:", ",cssClass:"textSmall textGrey"}));}}d.splice((d.length-1),1);}if(!e){d.push(b.UI.TextContainerTemplate({contentText:b.AdminPanel.Resources.Text.TagSelector_NoSelectedTags,cssClass:"textSmall textGrey"}));}return b.UI.ContainerTemplate({cssClass:"controlSummary",contentHTML:d.join("")});};b.UI.TagSelectorTemplate.IdContainerPostfix="_tagSelectorContainer";})(window,WA);(function(c,b){if(!b.UI.TagSelectorOption){b.UI.TagSelectorOption=a;}function a(i,h){h=h||{};var n=this,r="WA.UI.TagSelectorOption",s=i,m=h.parentComponent;n.toString=function(){return r;};n.RenderComplete=b.Tools.EventHandlers.createHandlers(n,{id:"RenderComplete"});n.Dispose=b.Tools.EventHandlers.createHandlers(n,{id:"Dispose"});n.ValueChanged=b.Tools.EventHandlers.createHandlers(n,{id:"ValueChanged"});n.init=g;n.render=o;n.getValue=f;n.resetValue=p;n.isSelected=function(){return s.checked;};var d,j;function p(){if(j==s.checked){return;}s.checked=j;q(s.checked);n.ValueChanged.fireHandlers({name:s.attr.eventTags,value:f()});}function q(t){if(t){b.Dom.addClassName(d,b.UI.TagSelectorOptionTemplate.selectedClass);}else{b.Dom.removeClassName(d,b.UI.TagSelectorOptionTemplate.selectedClass);}}function o(){return b.UI.TagSelectorOptionTemplate(s);}function f(){return s.value;}function k(){s.checked=!s.checked;q(s.checked);n.ValueChanged.fireHandlers({name:s.attr.eventTags,value:f()});}function l(u,t){d=b.$(s.id);b.addHandler(d,"click",k);n.RenderComplete.fireHandlers();}function g(){j=s.checked;m.RenderComplete.addHandler(l);m.Dispose.addHandler(e);}function e(){n.Dispose.fireHandlers();if(d){b.removeHandler(d,"click",k);}m.RenderComplete.removeHandler(l);m.Dispose.removeHandler(e);s=null;m=null;d=null;n.RenderComplete=null;n.Dispose=null;n.ValueChanged=null;}}})(window,WA);(function(c,b){if(!b.UI.TagSelectorOptionTemplate){b.UI.TagSelectorOptionTemplate=a;}function a(e,d){return b.UI.ContainerTemplate({id:e.id,cssClass:"tagSelectorOption"+(e.checked===true?" "+b.UI.TagSelectorOptionTemplate.selectedClass:""),contentHTML:b.UI.TextContainerTemplate({contentText:e.contentText})})+(d===false?b.UI.ContainerTemplate({cssClass:"tagSelectorOptionDivider",contentHTML:b.UI.TextContainerTemplate({contentHTML:","})}):"");}b.UI.TagSelectorOptionTemplate.createSummary=function(d){if(d.hideInSummary){return"";}return b.UI.TextContainerTemplate({cssClass:"textSmall textGrey",contentText:d.contentText});};b.UI.TagSelectorOptionTemplate.selectedClass="tagSelected";})(window,WA);(function(c,b){if(!b.UI.TextBox){b.UI.TextBox=a;b.UI.TextBox.TypeName="WA.UI.TextBox";b.UI.TextBox.TextBoxSize={Small:"Small",Medium:"Medium",Large:"Large"};}function a(t,d){d=d||{};var P=this,L=d.parentComponent,ac=b.UI.TextBox.TypeName,ag=t,af;ag.attr=ag.attr||{eventTags:ag.id};P.toString=function(){return ac;};P.TextBoxFocus=b.Tools.EventHandlers.createHandlers(P,{id:"TextBoxFocus"});P.TextBoxClick=b.Tools.EventHandlers.createHandlers(P,{id:"TextBoxClick"});P.ValueChanged=b.Tools.EventHandlers.createHandlers(P,{id:"ValueChanged"});P.TextBoxBlur=b.Tools.EventHandlers.createHandlers(P,{id:"TextBoxBlur"});P.Dispose=b.Tools.EventHandlers.createHandlers(P,{id:"Dispose"});P.VisualStateChanged=b.Tools.EventHandlers.createHandlers(P,{id:"VisualStateChanged"});var m={},e=ag.behaviorModel,f,w=d.showValidationMessage!=undefined?d.showValidationMessage:true,y=false,C,v=false,ab,i,h,u,ae=ag.updateModelTimeout||200,A=ag.normalizeTimeout||200,z,aa=d.size||b.UI.TextBox.TextBoxSize,x=false;P.dispose=k;P.onRenderComplete=J;P.render=Q;P.enable=l;P.disable=j;P.show=Y;P.hide=p;P.focus=n;P.selectAllText=R;P.setValue=X;P.setTitle=W;P.parentSelected=M;P.parentValueChanged=N;P.getId=function(){return ag.id;};P.setDescription=T;P.getValue=function(){return af.getValue();};P.getType=function(){return ag.layoutControlType;};P.showValidationMessages=Z;P.hideValidationMessages=q;P.setErrorState=U;P.getElementAttribute=o;P.setDefaultValue=S;function S(ah){f.setDefaultValue(ah);}function o(ah){if(ab){return ab.getAttribute(ah,0);}return null;}function N(ah){b.UI.Helpers.ControlHelper.applyParentValueChangedBehavior(P,ag.parentChangeBehaviour,ah);}function M(ah){b.UI.Helpers.ControlHelper.applyParentSelectedBehavior(P,ag.parentChangeBehaviour,ah);}function T(ah){if(ah){b.Dom.removeClassName(i,b.UI.TextBoxTemplate.HiddenDescriptionCssClass);i.innerHTML=b.encodeHtml(ah);P.VisualStateChanged.fireHandlers();return;}b.Dom.addClassName(i,b.UI.TextBoxTemplate.HiddenDescriptionCssClass);i.innerHTML="";P.VisualStateChanged.fireHandlers();}function X(ah){B(ah);}function W(ah,ai){b.UI.Helpers.ControlHelper.setControlTitle(ag.id,ah,ai);}function V(ai){if(ab.value!==ai){var ah=b.getSelectionStartIndex(ab),aj=ai.length-ab.value.length;ab.value=ai;if(ah>0&&x){b.setSelectionStartIndex(ab,ah+aj);}}u=ai;}function E(ai,ah){if(ai.target.type!="text"){return;}P.TextBoxClick.fireHandlers();}function Q(){return b.UI.TextBoxTemplate(ag,{size:aa});}function J(ai,ah){i=b.$(ag.id+b.UI.TextBoxTemplate.IdContainerDescriptionPostfix);h=b.$(ag.id+b.UI.ControlLayoutTemplate.IdControlLayoutPostfix);ab=b.$(ag.id);if(!i){throw new Error("parentComponent was not defined! id: "+(ag.id+b.UI.TextBoxTemplate.IdContainerDescriptionPostfix));}if(!h){throw new Error("parentComponent was not defined! id: "+(ag.id+b.UI.ControlLayoutTemplate.IdControlLayoutPostfix));}if(!ab){throw new Error("textBoxElement was not found! id:"+ag.id);}b.addHandler(h,"click",E);b.Tools.disposeEventModel(m,ag.frameWindow);m[ag.id]=O(ab);b.Tools.applyEventModel(m,ag.frameWindow);var aj=af.getValue();if(aj==undefined||(aj===""&&ab.value!=="")){af.setValue(ab.value);}else{ab.value=(aj!==undefined&&aj!==null)?aj:"";}u=ab.value;if(ag.hint!=undefined&&ag.hint!==""){ab.placeholder=ag.hint;}}function F(){x=true;P.TextBoxFocus.fireHandlers();b.throttle(I,A);}function I(){B(ab.value,{skipDefaultValue:true,skipTrims:true,skipNormalizeChars:true});b.throttle(I,A);}function B(ai,ah){ah=ah||{};ai=ai==undefined?"":ai;ai=b.getTypeString(ai)=="string"?ai:ai.toString();if(!ah.force&&z==ai){return;}var aj=f.normalize(ai,ah);z=aj.normalizedValue;V(z);ad();}function O(ah){if(ah.oninput==undefined){return{blur:D,focus:F,keyPress:H};}return{blur:D,focus:F,input:G};}function G(ah){if(!g(ah.currentTarget.value,u)){V(u);return;}V(ah.currentTarget.value);b.throttle(ad,{timeout:ae});}function U(ah){if(ah===true){b.Dom.addClassName(ab,"error");return;}b.Dom.removeClassName(ab,"error");}function Z(ah){if(w&&ah.length>0){b.UI.Helpers.ControlHelper.showValidationMessages(ag.id,ah);U(ah&&ah.length>0);}}function q(){b.UI.Helpers.ControlHelper.hideValidationMessages(ag.id);U(false);}function ad(){var ah=e?f.normalize(u).normalizedValue:u;if(v||af.getValue()===ah){return;}q();C=af.getValue();af.setValue(ah);y=true;P.ValueChanged.fireHandlers({newValue:ah});}function D(){x=false;ad();B(af.getValue(),{force:true});b.clearThrottle(I);Z(af.getErrors());P.TextBoxBlur.fireHandlers({isValueChanged:y});}function H(ah){var ai=g(u+String.fromCharCode(ah.keyCode),u);ah.returnValue=ai;V(ah.currentTarget.value);b.throttle(ad,{timeout:ae});}function g(ai,aj){ai=ai||"";aj=aj||"";var ah=ai.length-aj.length;if(Math.abs(ah)==1){return f.checkInput(ai,ah);}return true;}function l(){var aj=ag.frameWindow||c,ai=b.$(ag.id,aj),ah=b.$((ag.id+b.UI.ControlLayoutTemplate.IdControlLayoutPostfix),aj);b.Dom.removeClassName(ah,b.UI.ControlLayoutTemplate.DisabledCssClass);ai.disabled=false;aj=ai=ah=null;}function j(){var aj=ag.frameWindow||c,ai=b.$(ag.id,aj),ah=b.$((ag.id+b.UI.ControlLayoutTemplate.IdControlLayoutPostfix),aj);b.Dom.addClassName(ah,b.UI.ControlLayoutTemplate.DisabledCssClass);ai.disabled=true;aj=ai=ah=null;q();}function Y(){b.Dom.removeClassName(h,"hidden");P.VisualStateChanged.fireHandlers();}function p(){b.Dom.addClassName(h,"hidden");P.VisualStateChanged.fireHandlers();}function n(){var ai=ag.frameWindow||c,ah=b.$(ag.id,ai);ah.focus();ai=ah=null;}function R(){var aj=ag.frameWindow||c,ah=b.$(ag.id,aj),ai=setTimeout(function(){ah.select();clearTimeout(ai);ai=aj=ah=null;},1);}function K(ai,ah){b.UI.Helpers.ValidationHelper.updateValidationMessages({controlId:ag.id,messages:af.getErrors(),isEditInProgress:ah.isEditInProgress,showValidationCallback:Z,hideValidationCallback:q});}function s(){e=e||{};e.behaviors=e.behaviors||[];if(ag.defaultValue!=undefined){e.behaviors.push({type:"defaultValue",value:ag.defaultValue});}if(ag.maxLength!=undefined){e.behaviors.push({type:"maxLength",value:ag.maxLength});}}function r(){L.RenderComplete.addHandler(J);L.Dispose.addHandler(k);if(L.ValidationFailed){L.ValidationFailed.addHandler(K);}af=b.UI.Helpers.ValueAccessorHelper.createValueAccessor(t,P);s();f=b.Object.create(b.UI.BehaviorProcessor,[e,{parentComponent:P}]);if(ag.htmlReady){J();}}function k(){if(v){return;}b.clearThrottle(I);b.clearThrottle(ad);P.Dispose.fireHandlers();b.Tools.disposeEventModel(m);L.RenderComplete.removeHandler(J);L.Dispose.removeHandler(k);if(L.ValidationFailed){L.ValidationFailed.removeHandler(K);}if(h){b.removeHandler(h,"click",E);}af=null;m=null;f=null;ag=null;ab=null;i=null;h=null;P.Dispose=null;P.ValueChanged=null;P.TextBoxBlur=null;P.TextBoxClick=null;P.TextBoxFocus=null;P.VisualStateChanged=null;v=true;}r();}})(window,WA);(function(c,b){if(!b.UI.TextBoxService){b.UI.TextBoxService=a;}function a(g){g=g||{};var i=this,j="WA.UI.TextBoxService",h=g.parentComponent;i.toString=function(){return j;};i.Dispose=b.Tools.EventHandlers.createHandlers(i,{id:"Dispose"});i.ValidateValueBeforeSend=b.Tools.EventHandlers.createHandlers(i,{id:"ValidateValueBeforeSend"});i.ValidateValueSuccess=b.Tools.EventHandlers.createHandlers(i,{id:"ValidateValueSuccess"});i.ValidateValueFailed=b.Tools.EventHandlers.createHandlers(i,{id:"ValidateValueFailed"});var f=false;i.init=e;i.validateValue=k;function k(n,l,m){b.Ajax({url:l,dataType:"json",type:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify({valueToValidate:n,validationData:m}),beforeSend:function(){if(f){return;}i.ValidateValueBeforeSend.fireHandlers();},success:function(o){if(f){return;}i.ValidateValueSuccess.fireHandlers(o);},error:function(o){if(f){return;}i.ValidateValueFailed.fireHandlers({error:o});}});}function e(){h.Dispose.addHandler(d);}function d(){i.Dispose.fireHandlers();h.Dispose.removeHandler(d);i.Dispose=null;i.ValidateValueBeforeSend=null;i.ValidateValueSuccess=null;i.ValidateValueFailed=null;f=true;}}})(window,WA);(function(j,i,h){if(!i.UI.TextBoxTemplate){i.UI.TextBoxTemplate=g;i.UI.TextBoxTemplate.ContainerPostfix="_textBoxMainContainer";i.UI.TextBoxTemplate.DisabledCssClass="disabled";i.UI.TextBoxTemplate.ErrorCssClass="error";i.UI.TextBoxTemplate.HiddenDescriptionCssClass="hidden";i.UI.TextBoxTemplate.DefaultValueCssClass="defaultValue";i.UI.TextBoxTemplate.AutoFitCssClass="autoFit";i.UI.TextBoxTemplate.IdContainerPostfix="_tBoxContainer";i.UI.TextBoxTemplate.IdContainerTitlePostfix="_tBoxTitleContainer";i.UI.TextBoxTemplate.IdTitlePostfix="_tBoxTitle";i.UI.TextBoxTemplate.IdContainerDescriptionPostfix="_tBoxDescriptionContainer";i.UI.TextBoxTemplate.MultilineCssClass="typeTextArea";i.UI.MultilineTextBoxTemplate=function(k){k.isMultiline=true;return g(k);};}function g(p,k){k=k||{};p.args=p.args||{};if(p.isMultiline===true){return f(p);}var n=i.UI.ContainerTemplate,l=i.UI.ControlLayoutTemplate,r={},q=k.size||i.UI.TextBox.TextBoxSize.Medium,o=p.isNumberTextBox&&p.hasArrows;if(p.controlContainerDisplayType==i.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed&&p.width!=h){r.style="width:"+p.width+"px;";}p.idContainerDescriptionPostfix=i.UI.TextBoxTemplate.IdContainerDescriptionPostfix;p.controlContainerDisplayType=p.controlContainerDisplayType?p.controlContainerDisplayType:i.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;p.cssClass="textBox"+(p.isNumberTextBox?" numberTextBox":"")+(o?" hasArrows":"")+(p.hidden?" hidden":"")+(p.cssClass?" "+p.cssClass:"");p.layoutContentHTML=n({cssClass:"waTextBox"+d(q)+(p.hasArrows?" hasArrows":""),attr:r,contentHTML:c(p)+a(p)});return l(p);}function a(l){if(!l.isNumberTextBox||!l.hasArrows){return"";}var k=i.UI.ContainerTemplate;return k({cssClass:"buttonsContainer",contentHTML:k({cssClass:"arrowUp"+(l.disabled?" "+i.UI.TextBoxTemplate.DisabledCssClass:""),id:l.arrowUpId?l.arrowUpId:"",contentHTML:k({})})+k({cssClass:"arrowDown"+(l.disabled?" "+i.UI.TextBoxTemplate.DisabledCssClass:""),id:l.arrowDownId?l.arrowDownId:"",contentHTML:k({})})});}function e(k){if(k.value!=h&&i.getTypeString(k.value)=="object"&&k.value.value!=h){return i.encodeHtml(k.value.value.toString());}else{if(k.value!=h&&i.getTypeString(k.value)!="object"){return i.encodeHtml(k.value.toString());}else{if(k.defaultValue!=h){return i.encodeHtml(k.defaultValue.toString());}}}return null;}function c(k){var l=[];l.push('<input type="text"');if(k.id!=h){l.push(' id="'+k.id+'"');}var n=e(k);if(n!=null){l.push(' value="'+n+'"');}if(k.name!=h){l.push(' name="'+k.name+'"');}if(k.hint!=h&&k.hint!=""){l.push(' placeholder="'+k.hint+'"');}if(k.disabled===true){l.push(' disabled="disabled"');}if(k.readonly===true){l.push(' readonly="readonly"');}if(k.attr!=h){l.push(i.UI.Helpers.ControlHelper.renderAttributes(k.attr));}l.push(" />");return l.join("");}i.UI.MultilineTextBoxTemplate.createSummary=function(k){return"";};i.UI.TextBoxTemplate.createSummary=function(k){if(k.hideInSummary){return"";}return i.UI.ContainerTemplate({cssClass:"controlSummary",contentHTML:i.UI.TextContainerTemplate({contentText:k.title+": "})+i.UI.TextContainerTemplate({contentHTML:i.UI.TextContainerTemplate({contentText:k.value})})});};function f(o){var p,n=i.UI.IndentTemplate,l=i.UI.ControlLayoutTemplate,k=i.UI.Helpers.ControlHelper.createContainerAttributes(o);p=b(o);if(o.controlContainerDisplayType!=i.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible&&o.width!=h){k.style=k.style||{};k.style.width=o.width+"px;";}o.idContainerDescriptionPostfix=i.UI.TextBoxTemplate.IdContainerDescriptionPostfix;o.controlContainerDisplayType=o.controlContainerDisplayType?o.controlContainerDisplayType:i.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;o.cssClass="textArea"+(o.cssClass?" "+o.cssClass:"");o.layoutContentHTML=n({attr:k,cssClass:"textAreaContainer",contentHTML:p});return l(o);}function b(l){var k=[];l.rows=l.rows||5;l.cols=l.cols||30;k.push('<textarea class="'+i.UI.TextBoxTemplate.MultilineCssClass);if(l.cssClass){k.push(" "+l.cssClass);}if(l.resizeable===true){k.push(" resizeable");}k.push('"');if(l.id){k.push(' id="'+l.id+'"');}k.push(' rows="'+l.rows+'"');k.push(' cols="'+l.cols+'"');if(l.name){k.push(' name="'+i.encodeHtml(l.name)+'"');}if(l.hint!=h&&l.hint!=""){k.push(' placeholder="'+i.encodeHtml(l.hint)+'"');}if(l.disabled===true){k.push(' disabled="disabled"');}if(l.attr){k.push(i.UI.Helpers.ControlHelper.renderAttributes(l.attr));}k.push(">");var n=e(l);if(n!=null){k.push(n);}if(l.valueAccessor!=h){k.push(i.encodeHtml(l.valueAccessor.getValue()));}k.push("</textarea>");return k.join("");}function d(l){var k="";switch(l){case i.UI.TextBox.TextBoxSize.Small:k="textBoxSizeSmall";break;case i.UI.TextBox.TextBoxSize.Medium:k="textBoxSizeMedium";break;case i.UI.TextBox.TextBoxSize.Large:k="textBoxSizeLarge";break;}if(k.length>0){return(" "+k);}return"";}})(window,WA);(function(d,c,b){if(!c.UI.TextContainer){c.UI.TextContainer=a;}function a(u,t){t=t||{};var C=this,J="WA.UI.TextContainer",K=u,B=t.parentComponent;K.attr=K.attr||{eventTags:K.id};C.toString=function(){return J;};C.RenderComplete=c.Tools.EventHandlers.createHandlers(C,{id:"RenderComplete"});C.Dispose=c.Tools.EventHandlers.createHandlers(C,{id:"Dispose"});C.init=s;C.dispose=m;C.render=E;C.renderComplete=A;C.contentText=h;C.getContentText=q;C.getContentHTML=p;C.contentHTML=g;C.recalculateSize=D;C.show=G;C.hide=r;C.enableToolTip=o;C.disableToolTip=l;var f,H,I,L=K.windowResizeWatcherEnabled===true,z=K.displayType&&K.displayType.toLowerCase()===c.UI.TextContainerTemplate.DisplayType.SingleLine.toLowerCase(),w=K.fadeMode===true&&z,i=K.contentType||c.UI.TextContainerTemplate.ContentType.Text,x=false,v=false,y=K.isHidden||false;function o(){n();}function l(){k();if(I){I.disableToolTip();}}function G(){c.Dom.removeClassName(f,"hidden");D();y=false;}function r(){c.Dom.addClassName(f,"hidden");k();y=true;}function E(){return c.UI.TextContainerTemplate(K);}function D(){c.throttle(n,72);}function n(){if(!w||x){return;}x=true;if(I){I.disableToolTip();}c.addHandler(H,"mousemove",F);}function k(){c.clearThrottle(n);if(!w||!x){return;}x=false;c.removeHandler(H,"mousemove",F);}function A(N,M){H=c.$(K.id);f=c.$(K.id+c.UI.TextContainerTemplate.ContainerPostfix);if(!z){e();}j();C.RenderComplete.fireHandlers();I.setToolTipContent(K.contentText||K.contentHTML||"");n();if(L){c.addHandler(d,"resize",D);}}function j(){if(I&&!I.isDisposed()){return;}I=new c.UI.ToolTip({id:K.id+c.UI.BulletedContainerTemplate.ToolTipPostfix,target:H,autoEnable:false},{parentComponent:C,trackMouse:true});}function F(){k();if(w&&H.scrollWidth>H.offsetWidth){I.enableToolTip();}else{I.disableToolTip();}}function e(){switch(i){case c.UI.TextContainerTemplate.ContentType.Path:var M=new RegExp("/","g");H.innerHTML=H.innerHTML.replace(M,"/<wbr>");break;case c.UI.TextContainerTemplate.ContentType.Text:break;}}function h(M){K.contentText=c.encodeHtml(M);H.innerHTML=K.contentText;D();}function p(){return H.innerHTML;}function q(){return H.innerText;}function g(M){K.contentHTML=M;H.innerHTML=K.contentHTML;D();}function s(){B.RenderComplete.addHandler(A);B.Dispose.addHandler(m);}function m(){if(v){return;}k();if(L){c.removeHandler(d,"resize",D);}C.Dispose.fireHandlers();B.RenderComplete.removeHandler(A);B.Dispose.removeHandler(m);K=null;B=null;H=null;I=null;C.RenderComplete=null;C.Dispose=null;v=true;}}})(window,WA);(function(e,d,c){if(!d.UI.TextContainerTemplate){d.UI.TextContainerTemplate=b;d.UI.TextContainerTemplate.ContainerPostfix="_container";d.UI.TextContainerTemplate.DisplayType={SingleLine:"singleline",MultiLine:"multiline"};d.UI.TextContainerTemplate.ContentType={Path:"path",Text:"text"};}function b(i){i.attr=i.attr||{};var g=d.UI.ContainerTemplate,h=i.displayType==d.UI.TextContainerTemplate.DisplayType.SingleLine,f=i.contentType||d.UI.TextContainerTemplate.ContentType.Text,j=i.wordBreakEnabled||false;return g({id:i.id?i.id+d.UI.TextContainerTemplate.ContainerPostfix:"",cssClass:"textContainer"+(h?" singleLine":" multiLine")+(i.cssClass!==c?" "+i.cssClass:"")+(i.isHidden===true?" hidden":""),attr:i.attr,contentHTML:g({cssClass:"textContainerContent",attr:i.attr,contentHTML:g({id:i.id?i.id:"",cssClass:"text"+(j?" wordBreak":"")+((i.fadeMode===true)?" fadeMode":"")+" "+a(f),attr:i.attr,contentHTML:i.contentHTML,contentText:i.contentText})})});}function a(f){switch(f){case d.UI.TextContainerTemplate.ContentType.Text:return"contentTypeText";case d.UI.TextContainerTemplate.ContentType.Path:return"contentTypePath";default:return"contentTypeText";}}})(window,WA);(function(d,c,b){if(!c.UI.TextControl){c.UI.TextControl=a;}function a(i,h){h=h||{};var n=this,t="WA.UI.TextControl",u=i,l=h.parentComponent;n.toString=function(){return t;};n.RenderComplete=c.Tools.EventHandlers.createHandlers(n,{id:"RenderComplete"});n.Dispose=c.Tools.EventHandlers.createHandlers(n,{id:"Dispose"});n.VisualStateChanged=c.Tools.EventHandlers.createHandlers(n,{id:"VisualStateChanged"});n.render=o;n.parentSelected=m;n.show=q;n.hide=f;n.setText=p;n.getType=function(){return u.layoutControlType;};n.isVisible=function(){return !j;};var r,s,j=u.isHidden||false;function p(v){r.contentText(v);}function f(){c.Dom.addClassName(s,"hidden");n.VisualStateChanged.fireHandlers();j=true;}function q(){c.Dom.removeClassName(s,"hidden");r.recalculateSize();n.VisualStateChanged.fireHandlers();j=false;}function o(){return c.UI.TextControlTemplate(u);}function m(v){c.UI.Helpers.ControlHelper.applyParentSelectedBehavior(n,u.parentChangeBehaviour,v);}function k(w,v){s=c.$(u.id+c.UI.TextControlIdPostfix);n.RenderComplete.fireHandlers();}function g(){l.RenderComplete.addHandler(k);l.Dispose.addHandler(e);r=c.Object.create(c.UI.TextContainer,[u,{parentComponent:n}]);}function e(){n.Dispose.fireHandlers();l.RenderComplete.removeHandler(k);l.Dispose.removeHandler(e);u=null;l=null;r=null;s=null;n.RenderComplete=null;n.Dispose=null;n.VisualStateChanged=null;}g();}})(window,WA);(function(d,c,b){if(!c.UI.TextControlTemplate){c.UI.TextControlTemplate=a;c.UI.TextControlIdPostfix="_textControlContainer";}function a(f){if(f.inlineSpan===true){return c.UI.TextControlSimpleTemplate(f);}var e=c.UI.ContainerTemplate,g=c.UI.TextContainerTemplate;return e({id:f.id+c.UI.TextControlIdPostfix,cssClass:"textControlContainer",contentHTML:g(f)});}})(window,WA);(function(d,c,b){if(!c.UI.TextControlSimple){c.UI.TextControlSimple=a;}function a(h){var l=this,o="WA.UI.TextControlSimple",p=h,k=p.parentComponent;l.toString=function(){return o;};l.RenderComplete=c.Tools.EventHandlers.createHandlers(l,{id:"RenderComplete"});l.Dispose=c.Tools.EventHandlers.createHandlers(l,{id:"Dispose"});var i=false,e;l.render=m;l.setContentText=n;l.renderComplete=j;function m(){return c.UI.TextControlSimpleTemplate(p);}function j(r,q){e=c.$(p.id);l.RenderComplete.fireHandlers();}function n(q){e.innerHTML=c.encodeHtml(q);}function g(){k.RenderComplete.addHandler(j);k.Dispose.addHandler(f);}function f(){if(i){return;}l.Dispose.fireHandlers();k.RenderComplete.removeHandler(j);k.Dispose.removeHandler(f);p=null;k=null;e=null;l.RenderComplete=null;l.Dispose=null;i=true;}g();}})(window,WA);(function(d,c,b){if(!c.UI.TextControlSimpleTemplate){c.UI.TextControlSimpleTemplate=a;c.UI.TextControlSimpleTemplate.Postfix="_inlineText";}function a(e){return"<span"+(e.hasOwnProperty("cssClass")?' class="'+e.cssClass+'"':"")+(e.hasOwnProperty("id")?' id="'+e.id+'"':"")+(e.hasOwnProperty("eventTags")?' eventTags="'+e.eventTags+'"':"")+">"+c.encodeHtml(e.contentText)+"</span>";}})(window,WA);(function(d,c,b){if(!c.UI.TimePicker){c.UI.TimePicker=a;c.UI.TimePicker.TimeDelimiter=":";c.UI.TimePicker.TimeFormat={H12:12,H24:24};c.UI.TimePicker.TexBoxMaxLength={H12:9,H24:6};c.UI.TimePicker.TexBoxHint={H12:"h:mm AM",H24:"hh:mm"};c.UI.TimePicker.TexBoxTimeMask={H12:"h:MM TT",H24:"HH:MM"};}function a(m,l){l=l||{};var C=this,N="WA.UI.TimePicker",P=m,x=l.parentComponent;P.attr=P.attr||{eventTags:P.id};C.toString=function(){return N;};C.RenderComplete=c.Tools.EventHandlers.createHandlers(C,{id:"RenderComplete"});C.Dispose=c.Tools.EventHandlers.createHandlers(C,{id:"Dispose"});C.ValueChanged=c.Tools.EventHandlers.createHandlers(C,{id:"ValueChanged"});C.EditStarted=c.Tools.EventHandlers.createHandlers(C,{id:"EditStarted"});C.VisualStateChanged=c.Tools.EventHandlers.createHandlers(C,{id:"VisualStateChanged"});var n=false,J,I,q,A,K=c.UI.TimePicker.TimeDelimiter,L=c.UI.TimePicker.TimeFormat,g=P.format==L.H12?L.H12:L.H24,M=g==L.H12?c.UI.TimePicker.TexBoxTimeMask.H12:c.UI.TimePicker.TexBoxTimeMask.H24,e,O,H=l.hasOwnProperty("showValidationMessage")?l.showValidationMessage:true;C.dispose=f;C.render=D;C.getValue=j;C.setValue=G;C.setErrorState=E;C.getType=function(){return P.layoutControlType;};function i(R){if(!R){return null;}var Q=new Date("Thu Jan 01 1970 "+R+" UTC");return c.Date.getDateTimeUtcTicks(Q);}function h(Q){if(Q==null){return"";}return c.Date.format(new Date(Q),M,true);}function E(Q){I.setErrorState(Q);if(Q===true){c.Dom.addClassName(e,"error");return;}c.Dom.removeClassName(e,"error");}function j(){return O.getValue();}function G(Q){O.setValue(Q);I.setValue(h(Q));}function D(){return c.UI.TimePickerTemplate(P);}function r(){e=c.$(P.id+c.UI.ControlLayoutTemplate.IdControlLayoutPostfix);C.RenderComplete.fireHandlers();}function p(S){if(!S){return"";}S=S.replace(new RegExp("[^0-9:]","g"),"");var V=S.split(K),Q=V[0],U="",R,T=V.length;for(R=1;R<T;R++){U+=V[R];}Q=Q.replace(/^([3-9])/,"0$1");Q=Q.replace(/^2([4-9])/,"02$1");if(Q.length>1){U=Q.substr(2)+U;Q=Q.substr(0,2);}if(!U.length){return Q+((T>1)?K:"");}U=U.replace(/^([6-9])/,"0$1");return Q+K+U.substr(0,2);}function z(T){if(!T){return"";}var S=T.split(K),Q=S[0]||"",R=S[1]||"";return w(Q)+K+w(R);}function o(Y){if(!Y){return"";}Y=Y.replace(new RegExp("[^0-9"+K+" APM]","gi"),"");var U=Y.indexOf(" ")!=-1,T=Y.toUpperCase().indexOf("P")!=-1,R=Y.toUpperCase().indexOf("A")!=-1,S=Y.toUpperCase().indexOf("M")!=-1,Z=Y.split(/[ APM]/i),ac=Z[0].replace(new RegExp("[^0-9"+K+"]","g"),""),ad=ac.split(K),V=ad[0],ab="",X,aa=ad.length,W,Q=(T&&" P")||(R&&" A")||(U?" ":"");Q+=S?"M":"";for(X=1;X<aa;X++){ab+=ad[X];}V=V.replace(/^0/,"120");if(!V.length){V="12";}W=V.length;if(W>1){W=!/^1[0-2]/.test(V)?1:2;ab=V.substr(W)+ab;V=V.substr(0,W);}if(!ab.length){return V+((aa>1||Q)?K:"")+(Q||"");}ab=ab.replace(/^([6-9])/,"0$1");ab=ab.substr(0,2);return V+K+ab+(Q||"");}function y(V){if(!V){return"";}var Q=V.toUpperCase().indexOf("P")!=-1,T=V.replace(new RegExp("[^0-9"+K+"]","g"),""),U=T.split(K),R=U[0]||"",S=U[1]||"";return(R.length?R:"12")+K+w(S)+(Q?" PM":" AM");}function w(Q){switch(Q.length){case 0:Q="00";break;case 1:Q="0"+Q;break;}return Q;}function t(S,Q){Q=Q||{};var R=A(Q.newValue),T=i(R);O.setValue(T);C.EditStarted.fireHandlers();}function s(){var R=I.getValue(),Q=B(R),S=i(Q);I.setValue(Q);O.setValue(S);C.ValueChanged.fireHandlers({newValue:Q});}function v(){C.VisualStateChanged.fireHandlers();}function B(Q){return A(q(Q));}function F(){var R,S,Q;if(g==L.H24){A=z;q=p;R=c.UI.TimePicker.TexBoxMaxLength.H24;Q=P.hint||c.UI.TimePicker.TexBoxHint.H24;S=[{type:"mask",value:"[0-9"+K+" -]"},{type:"replace",regex:"[^0-9"+K+" -]",to:""}];}else{A=y;q=o;R=c.UI.TimePicker.TexBoxMaxLength.H12;Q=P.hint||c.UI.TimePicker.TexBoxHint.H12;S=[{type:"mask",value:"[0-9"+K+" aApPmM-]"},{type:"replace",regex:"[^0-9"+K+" aApPmM-]",to:""}];}J={id:P.id+c.UI.TimePickerTemplate.idTextBoxPostfix,title:P.title,description:P.description,hint:Q,attr:{eventTags:P.attr.eventTags+"_input"},value:h(O.getValue()),maxLength:R,behaviorModel:{behaviors:S}};}function u(){var Q=O.getErrors();if(Q.length>0&&H){c.UI.Helpers.ControlHelper.showValidationMessages(P.id,Q);E(true);}}function k(){O=c.UI.Helpers.ValueAccessorHelper.createValueAccessor(m,C);F();I=new c.UI.TextBox(J,{parentComponent:C});I.ValueChanged.addHandler(t);I.TextBoxBlur.addHandler(s);I.VisualStateChanged.addHandler(v);x.RenderComplete.addHandler(r);x.Dispose.addHandler(f);if(x.ValidationFailed){x.ValidationFailed.addHandler(u);}}function f(){if(n){return;}C.Dispose.fireHandlers();x.RenderComplete.removeHandler(r);x.Dispose.removeHandler(f);if(x.ValidationFailed){x.ValidationFailed.removeHandler(u);}P=null;x=null;I=null;q=null;A=null;e=null;O=null;C.RenderComplete=null;C.Dispose=null;C.ValueChanged=null;C.EditStarted=null;C.VisualStateChanged=null;n=true;}k();}})(window,WA);(function(d,c,b){if(!c.UI.TimePickerTemplate){c.UI.TimePickerTemplate=a;c.UI.TimePickerTemplate.idTextBoxPostfix="_textBox";c.UI.TimePickerTemplate.Width={H12:68,H24:54};}function a(g){var f=c.UI.ContainerTemplate,e=c.UI.ControlLayoutTemplate;g.controlContainerDisplayType=c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Fixed;g.cssClass="timePicker";g.layoutContentHTML=f({cssClass:"timePickerContainer",attr:{style:"width: "+((g.format==c.UI.TimePicker.TimeFormat.H12)?c.UI.TimePickerTemplate.Width.H12:c.UI.TimePickerTemplate.Width.H24)+"px;"},contentHTML:f({cssClass:"inputContainer",contentHTML:c.UI.TextBoxTemplate({id:g.id+c.UI.TimePickerTemplate.idTextBoxPostfix})})});return e(g);}})(window,WA);(function(d,c,b){if(!c.UI.TimeRangePicker){c.UI.TimeRangePicker=a;}function a(l,k){k=k||{};var s=this,x="WA.UI.TimeRangePicker",z=l,r=k.parentComponent;z.attr=z.attr||{eventTags:z.id};s.toString=function(){return x;};s.RenderComplete=c.Tools.EventHandlers.createHandlers(s,{id:"RenderComplete"});s.Dispose=c.Tools.EventHandlers.createHandlers(s,{id:"Dispose"});s.ValueChanged=c.Tools.EventHandlers.createHandlers(s,{id:"ValueChanged"});s.EditStarted=c.Tools.EventHandlers.createHandlers(s,{id:"EditStarted"});s.VisualStateChanged=c.Tools.EventHandlers.createHandlers(s,{id:"VisualStateChanged"});var m=false,e,y,w,g;s.dispose=f;s.render=t;s.getValue=h;s.getType=function(){return z.layoutControlType;};s.setErrorState=u;s.showValidationMessages=v;s.hideValidationMessages=i;function v(A){c.UI.Helpers.ControlHelper.showValidationMessages(z.id,A);}function i(){c.UI.Helpers.ControlHelper.hideValidationMessages(z.id);}function u(A){w.setErrorState(A);g.setErrorState(A);if(A===true){c.Dom.addClassName(e,"error");}else{c.Dom.removeClassName(e,"error");}}function h(){return y.getValue();}function t(){return c.UI.TimeRangePickerTemplate(z);}function p(){e=c.$(z.id+c.UI.ControlLayoutTemplate.IdControlLayoutPostfix);s.RenderComplete.fireHandlers();}function n(){u(false);s.EditStarted.fireHandlers();}function q(){s.VisualStateChanged.fireHandlers();}function o(){y.setValue(w.getValue(),"fromTime");y.setValue(g.getValue(),"untilTime");s.ValueChanged.fireHandlers({controlId:z.id,newValue:y.getValue()});}function j(){y=c.UI.Helpers.ValueAccessorHelper.createValueAccessor(l,s);w=new c.UI.TimePicker({id:z.id+c.UI.TimeRangePickerTemplate.StartPickerIdPostfix,value:y.getValue("fromTime"),format:z.format},{parentComponent:s});w.ValueChanged.addHandler(o);w.EditStarted.addHandler(n);w.VisualStateChanged.addHandler(q);g=new c.UI.TimePicker({id:z.id+c.UI.TimeRangePickerTemplate.EndPickerIdPostfix,value:y.getValue("untilTime"),format:z.format},{parentComponent:s});g.ValueChanged.addHandler(o);g.EditStarted.addHandler(n);g.VisualStateChanged.addHandler(q);r.RenderComplete.addHandler(p);r.Dispose.addHandler(f);}function f(){if(m){return;}s.Dispose.fireHandlers();r.RenderComplete.removeHandler(p);r.Dispose.removeHandler(f);z=null;r=null;e=null;y=null;w=null;g=null;s.RenderComplete=null;s.Dispose=null;s.ValueChanged=null;s.EditStarted=null;s.VisualStateChanged=null;m=true;}j();}})(window,WA);(function(e,d,c){if(!d.UI.TimeRangePickerTemplate){d.UI.TimeRangePickerTemplate=b;d.UI.TimeRangePickerTemplate.StartPickerIdPostfix="_fromTime";d.UI.TimeRangePickerTemplate.EndPickerIdPostfix="_untilTime";}function b(f){f.controlContainerDisplayType=f.controlContainerDisplayType||d.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;f.cssClass="waTimeRangePicker"+(f.cssClass?" "+f.cssClass:"");f.layoutContentHTML=a(f);return d.UI.ControlLayoutTemplate(f);}function a(g){var f=d.UI.ContainerTemplate;return f({cssClass:"waTimeRangePickerContainer",contentHTML:f({cssClass:"waTimeRangePickerStart",contentHTML:d.UI.TimePickerTemplate({id:g.id+d.UI.TimeRangePickerTemplate.StartPickerIdPostfix,format:g.format})})+f({cssClass:"waTimeRangePickerDivider",attr:{style:"width: "+(g.dividerWidth||0)+"px;"},contentText:g.dividerContentText||c,contentHTML:g.dividerContentHTML||c})+f({cssClass:"waTimeRangePickerEnd",contentHTML:d.UI.TimePickerTemplate({id:g.id+d.UI.TimeRangePickerTemplate.EndPickerIdPostfix,format:g.format})})});}})(window,WA);(function(d,c,b){if(!c.UI.ToolTip){c.UI.ToolTip=a;c.UI.ToolTip.Align={BottomRight:"BottomRight",Left:"Left",Right:"Right"};c.UI.ToolTip.DomAttrName="data-waToolTip";c.UI.ToolTip.DefaultOffset={TrackMouse:{X:12,Y:22},Element:{X:15,Y:15}};}function a(s,r){r=r||{};var A=this,K="WA.UI.ToolTip",L=s,G,z=r.parentComponent,e=r.position||c.UI.ToolTip.Align.BottomRight,J=(r.trackMouse===false)?false:true,i=J?c.UI.ToolTip.DefaultOffset.TrackMouse:c.UI.ToolTip.DefaultOffset.Element,u=(c.getTypeString(r.offsetX)=="number")?r.offsetX:i.X,v=(c.getTypeString(r.offsetY)=="number")?r.offsetY:i.Y,j=L.toolTipText||null,C=r.replaceTitleAttr!==false,D=r.replaceTitleWithAttrName||c.UI.ToolTip.DomAttrName;A.toString=function(){return K;};A.RenderComplete=c.Tools.EventHandlers.createHandlers(A,{id:"RenderComplete"});A.Dispose=c.Tools.EventHandlers.createHandlers(A,{id:"Dispose"});A.dispose=l;A.enableToolTip=n;A.disableToolTip=k;A.setToolTipContent=E;A.isDisposed=function(){return t;};var g,t=false,m=false,o=true,H,f=L.autoEnable!=b?L.autoEnable:true,I=null;function E(M){j=(M&&typeof M=="string")?M:null;if((C&&I)||j){g.innerHTML=(C&&I)?c.encodeHtml(I):c.encodeHtml(j);}else{p();}}function n(){if(m){return;}m=true;c.addHandler(G,"mouseover",x);c.addHandler(G,"mouseout",w);if(J){c.addHandler(G,"mousemove",F);}}function k(){if(!m){return;}m=false;c.removeHandler(G,"mouseover",x);c.removeHandler(G,"mouseout",w);c.removeHandler(G,"mousemove",F);p();}function x(M){var N=c.getEventTarget(M),O;I=null;if(C){O=N.getAttribute("title",0);N.removeAttribute("title");if(O&&typeof O=="string"){I=O;N.setAttribute(D,I);}else{I=N.getAttribute(D,0);}if(I&&typeof I=="string"){o=true;}else{I=null;}}if(I||j){g.innerHTML=I?c.encodeHtml(I):c.encodeHtml(j);}else{p();}F(M);}function F(Q){if(!I&&!j){return;}Q=c.getEvent(Q);var N,O,S=(C&&I)?c.getEventTarget(Q):G,R,T=c.UI.ToolTip.Align,P,M;if(o){if(!J){H=c.Dimensions.getElementRect(S);}o=false;}switch(e){case T.Left:P=g.offsetWidth;M=g.offsetHeight;if(!J){N=H.left-P;O=H.heightCenter-Math.round(M/2);}else{R=c.getEventMouseCoords(Q);N=R.left-P;O=R.top-Math.round(M/2);}break;case T.Right:M=g.offsetHeight;if(!J){N=H.right;O=H.heightCenter-Math.round(M/2);}else{R=c.getEventMouseCoords(Q);N=R.left;O=R.top-Math.round(M/2);}break;default:if(!J){N=H.right;O=H.bottom;}else{R=c.getEventMouseCoords(Q);N=R.left;O=R.top;}}g.style.left=(N+u)+"px";g.style.top=(O+v)+"px";}function w(M){p();}function p(){o=true;g.style.left="-10000px";g.style.top="-10000px";}function h(){var M=c.$(L.id);if(M){return;}g=document.createElement("DIV");g.id=L.id;g.className="waToolTip";g.style.zIndex=c.UI.DefaultZIndex.ToolTip;document.body.appendChild(g);}function B(){if(!g){return;}document.body.removeChild(g);g=null;}function y(N,M){G=(typeof L.target=="string")?c.$(L.target):L.target;h();if(j!=b){E(j);}if(f){n();}A.RenderComplete.fireHandlers();}function q(){z.RenderComplete.addHandler(y);z.Dispose.addHandler(l);}function l(){t=true;A.Dispose.fireHandlers();z.RenderComplete.removeHandler(y);z.Dispose.removeHandler(l);k();B();G=null;L=null;z=null;A.RenderComplete=null;A.Dispose=null;}q();}})(window,WA);(function(d,c,a){if(!c.UI.UploadFileButton){c.UI.UploadFileButton=b;}function b(j){var q=this,s="WA.UI.UploadFileButton",t=j,p=t.parentComponent;q.toString=function(){return s;};q.RenderComplete=c.Tools.EventHandlers.createHandlers(q,{id:"RenderComplete"});q.Dispose=c.Tools.EventHandlers.createHandlers(q,{id:"Dispose"});q.ButtonClicked=c.Tools.EventHandlers.createHandlers(q,{id:"ButtonClicked"});q.FilesSelect=c.Tools.EventHandlers.createHandlers(q,{id:"FilesSelect"});var l=false,e,k;q.render=r;q.onBrowseButtonClick=m;q.disableButton=f;q.enableButton=h;function f(){e.disableButton();}function h(){e.enableButton();}function r(){return c.UI.UploadFileButtonTemplate(t);}function o(v,u){k=c.$(t.id+c.UI.UploadFileButtonTemplate.IdInputFilePostfix);c.addHandler(k,"change",n);q.RenderComplete.fireHandlers();}function m(u){if(k){k.click();}q.ButtonClicked.fireHandlers({sender:u});}function n(){q.FilesSelect.fireHandlers({files:k.files});k.value="";}function i(){e=new c.UI.WaButton({id:t.id+c.UI.ButtonTemplate.defaultEventTag},{parentComponent:q});e.WaButtonClick.addHandler(m);p.RenderComplete.addHandler(o);p.Dispose.addHandler(g);}function g(){if(l){return;}q.Dispose.fireHandlers();p.RenderComplete.removeHandler(o);p.Dispose.removeHandler(g);if(k){c.removeHandler(k,"change",n);}t=null;p=null;e=null;k=null;q.RenderComplete=null;q.Dispose=null;q.FilesSelect=null;l=true;}i();}})(window,WA);(function(e,d,b){if(!d.UI.UploadFileButtonTemplate){d.UI.UploadFileButtonTemplate=c;d.UI.UploadFileButtonTemplate.IdPostfix="_UploadFileButton";d.UI.UploadFileButtonTemplate.IdInputFilePostfix="_InputFile";}function c(h){var g=d.UI.ContainerTemplate,f=d.UI.WaButtonTemplate;return g({id:h.id,cssClass:"uploadButtonContainer",contentHTML:a(h)+f({id:h.id+d.UI.ButtonTemplate.defaultEventTag,name:h.resources.uploadFileButtonName},{color:d.UI.WaButton.ButtonColor.Grey,size:d.UI.WaButton.ButtonSize.Default})});}function a(f){return'<input type="file"id="'+f.id+d.UI.UploadFileButtonTemplate.IdInputFilePostfix+'"style="display: none;" multiple="multiple"/>';}})(window,WA);(function(c,b){if(!c.WA.UI.VerticalTabButton){b.UI.VerticalTabButton=a;}function a(h){var g=this;var f=h;g.render=function(){return b.UI.VerticalTabButtonTemplate(f);};g.activateTab=function(j,i){if(i.activeTabId){if(f.id==i.activeTabId){d();}else{e();}}};function d(){var i=f.frameWindow.document.getElementById(f.id);i.className="activeButton";i=null;}function e(){var i=f.frameWindow.document.getElementById(f.id);i.className="";i=null;}}})(window,WA);(function(b,a){if(!a.UI.VerticalTabButtonTemplate){a.UI.VerticalTabButtonTemplate=function(e){var c=[];if(e.contentHTML){c.push(e.contentHTML);}if(e.contentText){c.push(a.encodeHtml(e.contentText));}var d=e.attr||{};d.eventTags=e.id;d.onselectstart="return false;";return a.UI.ContainerTemplate({cssClass:"verticalTabButton",attr:d,contentHTML:a.UI.ContainerTemplate({id:e.id,cssClass:e.cssClass,contentHTML:c.join(""),attr:d})});};}})(window,WA);(function(d,b,a){if(!b.UI.WaButton){b.UI.WaButton=c;b.UI.WaButton.TypeName="WA.UI.WaButton";b.UI.WaButton.ClickBehavior={PleaseWait:"pleasewait",DisableButton:"disablebutton",ShowTopShading:"showtopshading",ShowContentShading:"showcontentshading"};b.UI.WaButton.ButtonSize={Default:"Default",Small:"Small"};b.UI.WaButton.ButtonColor={Default:"Default",Grey:"Grey"};}function c(x,e){e=e||{};var F=this,w=x,D=e.parentComponent;w.eventTags=w.eventTags||w.id;w.targetElementId=w.id+b.UI.WaButtonTemplate.ToolBarButtonPrefix;F.toString=function(){return b.UI.WaButton.TypeName;};F.WaButtonClick=b.Tools.EventHandlers.createHandlers(F,{id:"WaButtonClick"});F.RenderComplete=b.Tools.EventHandlers.createHandlers(F,{id:"RenderComplete"});F.DropDownShown=b.Tools.EventHandlers.createHandlers(F,{id:"DropDownShown"});F.DropDownHidden=b.Tools.EventHandlers.createHandlers(F,{id:"DropDownHidden"});F.Dispose=b.Tools.EventHandlers.createHandlers(F,{id:"Dispose"});F.dispose=l;F.render=G;F.setName=J;F.renderComplete=C;F.hideDropDownOptions=t;var m,i,N,g,f,v=false,n=r()&&w.dropDownOnly,p=(w.enabled!=a?w.enabled:true),k=b.UI.WaButtonTemplate.DisabledClassName,h=e.color||b.UI.WaButton.ButtonColor.Default,M=e.size||b.UI.WaButton.ButtonSize.Default;F.getId=function(){return w.id;};F.isDisposed=function(){return v;};F.showButton=K;F.hideButton=s;F.enableButton=o;F.disableButton=j;F.setWaButtonTitle=I;F.renderComplete=H;F.hideDropDownOptions=t;F.isEnabled=function(){return p;};function t(){if(r()&&m){m.hideDropDownOptions();}}function J(P){g.innerHTML=b.encodeHtml(P);}function H(){C();}function I(P){N.innerHTML=b.encodeHtml(P);}function o(){if(p){return;}p=true;b.Dom.removeClassName(i,k);if(m){m.enableArrow();}}function j(){if(!p){return;}p=false;b.Dom.addClassName(i,k);if(m){m.disableArrow();}}function K(){L(true);}function s(){L(false);}function L(P){i.style.display=P?"":"none";}function G(){if(v){return"";}return b.UI.WaButtonTemplate(w,{color:h,size:M});}function C(){if(v){return;}i=b.$(w.id);b.disableSelect(i);N=i.querySelector(".waBarButtonText");f=b.$(w.targetElementId);b.disableSelect(f);g=b.$(w.id+b.UI.WaButtonTemplate.NameIdPostfix);if(n){m.setContainer(f);}else{b.addHandler(f,"click",y);}F.RenderComplete.fireHandlers();}function r(){return((w.options&&w.options.length>0)||(w.optionComponents&&w.optionComponents.length>0));}function q(){O(w.action,w.actionReturnsSuccessResult,w.causesValidation,w.checkIfDataChanged,w.awayMessage);}function O(U,V,R,S,Q){var T=(typeof(BonaPage.topWindow.contentarea.DataChangeWatcher)!="undefined")?BonaPage.topWindow.contentarea.DataChangeWatcher:null;if(!R){if(T){if(S){if(!T.confirmIfDataChanged()){return;}}else{T.pauseWatching();}}BonaPage.topWindow.contentarea.Page_ValidationActive=false;}else{if(!S){if(T){T.pauseWatching();}}}var P=U();if(P!==false&&w.clickBehavior){E(w.clickBehavior);}if(R){if(BonaPage.topWindow.contentarea.Page_IsValid&&!BonaPage.topWindow.contentarea.Page_BlockSubmit){if(S){if(T&&!T.confirmIfDataChanged()){BonaPage.topWindow.contentarea.Page_BlockSubmit=true;return;}}if(!P){return;}if(!V||(V&&P)){b.AdminPanel.setWaitMessage(Q);}}else{if(!S){if(T){T.resumeWatching();}}}}else{if(P===false){return;}if(!V||(V&&P)){b.AdminPanel.setWaitMessage(Q);}else{if(T){T.resumeWatching();}}}}function y(P){if(!p){return;}if(w.clickBehavior&&w.args.webFormsButton!==true){E(w.clickBehavior);}if(w.action){if(w.args.webFormsButton===true){q();return;}else{w.action();}}if(v){return;}var Q=b.getEventTags(P);F.WaButtonClick.fireHandlers({eventTags:Q,id:w.id});}function E(P){switch(P.toLowerCase()){case b.UI.WaButton.ClickBehavior.DisableButton:j();break;case b.UI.WaButton.ClickBehavior.ShowTopShading:if(b.AdminPanel){b.AdminPanel.showShading(b.AdminPanel.ShadingType.Top);}break;case b.UI.WaButton.ClickBehavior.ShowContentShading:if(b.AdminPanel){b.AdminPanel.showShading(b.AdminPanel.ShadingType.Content);}break;case b.UI.WaButton.ClickBehavior.PleaseWait:break;}}function B(Q,P){if(!p){return;}F.WaButtonClick.fireHandlers(P);}function A(Q,P){F.DropDownShown.fireHandlers();}function z(Q,P){F.DropDownHidden.fireHandlers();}function u(){D.Dispose.addHandler(l);if(D.RenderComplete){D.RenderComplete.addHandler(C);}if(r()){var P=w.id+b.UI.WaButtonDropDownArrowTemplate.Postfix;m=new b.UI.WaButtonDropDownArrow({id:P,enabled:p,optionModels:w.options,optionComponents:w.optionComponents,targetElementId:w.targetElementId,dropDownsHolderId:w.dropDownsHolderId},{parentComponent:F,size:M,color:h});m.DropDownShown.addHandler(A);m.DropDownHidden.addHandler(z);m.OptionClick.addHandler(B);}}function l(){if(v){return;}F.Dispose.fireHandlers();D.Dispose.removeHandler(l);if(D.RenderComplete){D.RenderComplete.removeHandler(C);}if(f){b.removeHandler(f,"click",y);}i=null;N=null;f=null;m=null;g=null;F.WaButtonClick=null;F.RenderComplete=null;F.DropDownShown=null;F.DropDownHidden=null;F.Dispose=null;v=true;}u();}})(window,WA);(function(i,g,f){if(!g.UI.WaButtonTemplate){g.UI.WaButtonTemplate=h;g.UI.WaButtonTemplate.DisabledClassName="disabled";g.UI.WaButtonTemplate.ToolBarButtonPrefix="_toolBarButton";g.UI.WaButtonTemplate.NameIdPostfix="_buttonName";g.UI.WaButtonTemplate.Type={Default:"Default",FloatingToolBar:"FloatingToolBar"};g.UI.WaButtonTemplate.CssClasses={Default:"defaultView",FloatingToolBar:"floatingToolBarView"};}function h(p,j){j=j||{};p.args=p.args||{};p.name=p.name||"";var l=j.color||g.UI.WaButton.ButtonColor.Default,q=j.size||g.UI.WaButton.ButtonSize.Default;var o=p.hasOptions===true||(p.options!=f&&p.options.length>0),n=o&&p.dropDownOnly,k=e(p);return g.UI.ContainerTemplate({id:p.id,attr:{title:p.args.webFormsButton===true?p.tooltip:g.encodeHtml(p.tooltip)},cssClass:"waButtonContainer "+b(j.type)+(p.enabled===false?(" "+g.UI.WaButtonTemplate.DisabledClassName):"")+(o?" hasOptions"+(n?" dropDownOnly":" buttonWithArrow"):"")+(p.cssClass?(" "+p.cssClass):""),contentHTML:g.UI.ContainerTemplate({cssClass:"buttonComponent"+c(l)+d(q),contentHTML:g.UI.ContainerTemplate({cssClass:"buttonContainer",attr:k,contentHTML:g.UI.ContainerTemplate({id:(p.id!=f?p.id+g.UI.WaButtonTemplate.ToolBarButtonPrefix:""),cssClass:"toolBarButton",attr:k,contentHTML:g.UI.ContainerTemplate({cssClass:"waBarButtonText",attr:k,contentHTML:g.UI.ContainerTemplate({id:p.id+g.UI.WaButtonTemplate.NameIdPostfix,cssClass:"buttonName",contentHTML:a(p),attr:k})+(n?g.UI.ContainerTemplate({cssClass:"arrowElement"}):"")})})})+((o&&!n)?g.UI.WaButtonDropDownArrowTemplate({id:p.id+g.UI.WaButtonDropDownArrowTemplate.Postfix}):"")})});}function a(j){if(j.args.webFormsButton===true){return j.name;}if(j.name){return g.encodeHtml(j.name);}if(j.contentHTML){return j.contentHTML;}}function e(k){var j=k.attr||{};if(k.minWidth!=f){j.style="min-width: "+k.minWidth+"px;";}if(k.eventTags!=f){j.eventTags=k.eventTags;}return j;}function c(j){var k="";switch(j){case g.UI.WaButton.ButtonColor.Grey:k="buttonColorGrey";break;default:k="buttonColorGreen";}if(k.length>0){return(" "+k);}return"";}function d(k){var j="";switch(k){case g.UI.WaButton.ButtonSize.Small:j="buttonSizeSmall";break;}if(j.length>0){return(" "+j);}return"";}function b(j){switch(j){case g.UI.WaButtonTemplate.Type.FloatingToolBar:return g.UI.WaButtonTemplate.CssClasses.FloatingToolBar;default:return g.UI.WaButtonTemplate.CssClasses.Default;}}})(window,WA);(function(d,c,b){if(!c.UI.ButtonLight){c.UI.ButtonLight=a;c.UI.ButtonLight.State={Default:"Default",Active:"Active",Disabled:"Disabled"};}function a(k){var p=this,v="WA.UI.ButtonLight",w=k,o=k.parentComponent,f,g,e,i=!!w.hasArrow,u=w.state||c.UI.ButtonLight.State.Default;p.toString=function(){return v;};p.RenderComplete=c.Tools.EventHandlers.createHandlers(p,{id:"RenderComplete"});p.Dispose=c.Tools.EventHandlers.createHandlers(p,{id:"Dispose"});p.ButtonClick=c.Tools.EventHandlers.createHandlers(p,{id:"ButtonClick"});var l=false;p.render=q;p.setState=t;p.setContentHtml=r;p.setContentText=s;function r(x){g.innerHTML=x;}function s(x){g.innerHTML=c.encodeHtml(x);}function q(){return c.UI.ButtonLightTemplate(w);}function t(x){switch(x){case c.UI.ButtonLight.State.Default:c.Dom.removeClassName(f,c.UI.ButtonLightTemplate.CssClasses.Active);c.Dom.removeClassName(f,c.UI.ButtonLightTemplate.CssClasses.Disabled);u=c.UI.ButtonLight.State.Default;break;case c.UI.ButtonLight.State.Active:c.Dom.removeClassName(f,c.UI.ButtonLightTemplate.CssClasses.Disabled);c.Dom.addClassName(f,c.UI.ButtonLightTemplate.CssClasses.Active);u=c.UI.ButtonLight.State.Active;break;case c.UI.ButtonLight.State.Disabled:c.Dom.removeClassName(f,c.UI.ButtonLightTemplate.CssClasses.Active);c.Dom.addClassName(f,c.UI.ButtonLightTemplate.CssClasses.Disabled);u=c.UI.ButtonLight.State.Disabled;break;default:}}function n(y,x){f=c.$(w.id);c.addHandler(f,"click",m);t(u);p.RenderComplete.fireHandlers();}function m(){if(u!==c.UI.ButtonLight.State.Default){return;}p.ButtonClick.fireHandlers({id:w.id});}function j(){o.RenderComplete.addHandler(n);o.Dispose.addHandler(h);}function h(){if(l){return;}p.Dispose.fireHandlers();o.RenderComplete.removeHandler(n);o.Dispose.removeHandler(h);w=null;o=null;c.removeHandler(f,"click",m);f=null;g=null;e=null;p.RenderComplete=null;p.Dispose=null;p.ButtonClick=null;l=true;}j();}})(window,WA);(function(d,c,b){if(!c.UI.ButtonLightTemplate){c.UI.ButtonLightTemplate=a;c.UI.ButtonLightTemplate.IdContentPostfix="_content";c.UI.ButtonLightTemplate.IdArrowPostfix="_arrow";c.UI.ButtonLightTemplate.CssClasses={Active:"active",Disabled:"disabled"};}function a(f){var e=c.UI.ContainerTemplate;return e({id:f.id,cssClass:"buttonLight withArrow"+(f.cssClass?" "+f.cssClass:""),title:f.title?f.title:"",contentHTML:e({id:f.id+c.UI.ButtonLightTemplate.IdContentPostfix,cssClass:"content"})});}})(window,WA);(function(d,c,b){if(!c.UI.FloatingToolBarButtonTemplate){c.UI.FloatingToolBarButtonTemplate=a;}function a(e){var f=c.UI.WaButtonTemplate;return f({id:e.id,name:e.name,contentHTML:e.contentHTML,cssClass:"floatingToolBarButton"+(e.cssClass?" "+e.cssClass:""),hasOptions:e.hasArrow,dropDownOnly:e.hasArrow},{color:c.UI.WaButton.ButtonColor.Grey,size:c.UI.WaButton.ButtonSize.Small,type:c.UI.WaButtonTemplate.Type.FloatingToolBar});}})(window,WA);(function(d,b,a){if(!b.UI.WaButtonDropDownArrow){b.UI.WaButtonDropDownArrow=c;}function c(E,D){D=D||{};var S=this,aa="WA.UI.WaButtonDropDownArrow",ab=E,Q=D.parentComponent;S.toString=function(){return aa;};S.OptionClick=b.Tools.EventHandlers.createHandlers(S,{id:"OptionClick"});S.DropDownShown=b.Tools.EventHandlers.createHandlers(S,{id:"DropDownShown"});S.DropDownHidden=b.Tools.EventHandlers.createHandlers(S,{id:"DropDownHidden"});S.RenderComplete=b.Tools.EventHandlers.createHandlers(S,{id:"RenderComplete"});S.Dispose=b.Tools.EventHandlers.createHandlers(S,{id:"Dispose"});var l,z=ab.id+"_globalMouseDown",o,R=ab.processEnterEsc||true,r=ab.id+"_dropDown",v=false,f=200,t={top:0},u={top:3},i={top:1,right:1,bottom:1,left:1},P={top:6,bottom:6},p={verticalAlign:b.UI.WaDropDown.VerticalAlign.Bottom,horizontalAlign:b.UI.WaDropDown.HorizontalAlign.Left,verticalOpenDirection:b.UI.WaDropDown.VerticalOpenDirection.Bottom,horizontalOpenDirection:b.UI.WaDropDown.HorizontalOpenDirection.Right},x=(ab.enabled!=a?ab.enabled:true),Z=ab.targetElementId||ab.id,k=D.color||b.UI.WaButton.ButtonColor.Default,Y=D.size||b.UI.WaButton.ButtonSize.Default,s="adminToolBarButtonArrowDropDown"+y(Y,k),q="adminToolBarButtonDropDownContainer";S.render=W;S.enableArrow=w;S.disableArrow=m;S.hideDropDownOptions=B;S.setContainer=function(ac){l=ac;};function B(){A();}function w(){x=true;}function m(){A();x=false;}function W(){return b.UI.WaButtonDropDownArrowTemplate(ab);}function O(ad,ac){l=l||b.$(ab.id);b.disableSelect(l);e();b.addHandler(l,"mouseover",H);b.addHandler(l,"mouseout",G);S.RenderComplete.fireHandlers();}function M(ac){var ae=b.getEventTarget(ac);var ad=b.jq$(ae).parents("#"+r).length>0;if(!ad){A();}}function F(ad,ac){if(!x){return;}if(v){return;}X();}function H(ac){if(!x){return;}if(!v){b.Dom.addClassName(l,"dropDownArrowHover");}}function G(ac){if(!x){return;}if(!v){b.Dom.removeClassName(l,"dropDownArrowHover");}}function K(){A();}function L(){A();}function J(ad,ac){v=true;b.Dom.addClassName(l,"dropDownActive");b.addGlobalMouseDown(M,z);T();g();h();S.DropDownShown.fireHandlers();}function I(ad,ac){v=false;b.Dom.removeClassName(l,"dropDownActive");b.Dom.removeClassName(l,"dropDownArrowHover");b.removeGlobalHandler(z);b.throttle(e,f);U();V();S.DropDownHidden.fireHandlers();}function y(ae,ac){var af="",ad="";switch(ae){case b.UI.WaButton.ButtonSize.Small:af="buttonOptionSmall";break;}if(af.length>0){af=(" "+af);}switch(ac){case b.UI.WaButton.ButtonColor.Grey:ad="buttonOptionGrey";break;}if(ad.length>0){ad=(" "+ad);}return af+ad;}function X(){if(v){return;}o.showDropDown();v=true;}function A(){if(!v){return;}o.hideDropDown();v=false;}function T(){b.removeHandler(l,"click",F);}function e(){b.addHandler(l,"click",F);}function g(){if(R===true){b.Tools.KeyboardWatcher.Enter.addHandler(K);}}function U(){if(R===true){b.Tools.KeyboardWatcher.Enter.removeHandler(K);}}function h(){b.Tools.KeyboardWatcher.Esc.addHandler(L);}function V(){b.Tools.KeyboardWatcher.Esc.removeHandler(L);}function N(ad,ac){S.OptionClick.fireHandlers(ac);A();}function C(){Q.RenderComplete.addHandler(O);Q.Dispose.addHandler(n);o=new b.UI.WaDropDown({id:r,cssClass:s,containerCssClass:q,targetElementId:Z,align:p,offset:t,padding:u,dropDownOptionModels:ab.optionModels,dropDownOptions:ab.optionComponents,optionsContainerPadding:P,borders:i,optionsType:b.UI.WaButtonDropDownOption,dropDownsHolderId:ab.dropDownsHolderId},{parentComponent:S});o.DropDownShown.addHandler(J);o.DropDownHidden.addHandler(I);o.OptionClick.addHandler(N);}function j(){b.clearThrottle(e);}function n(){S.Dispose.fireHandlers();j();Q.RenderComplete.removeHandler(O);Q.Dispose.removeHandler(n);b.removeGlobalHandler(z);U();V();if(l){T();b.removeHandler(l,"mouseover",H);b.removeHandler(l,"mouseout",G);}ab=null;l=null;v=false;Q=null;S.OptionClick=null;S.RenderComplete=null;S.Dispose=null;S.DropDownShown=null;S.DropDownHidden=null;}C();}})(window,WA);(function(d,b,a){if(!b.UI.WaButtonDropDownArrowTemplate){b.UI.WaButtonDropDownArrowTemplate=c;b.UI.WaButtonDropDownArrowTemplate.Postfix="_dropDownArrow";}function c(e){return b.UI.ContainerTemplate({cssClass:"toolBarButtonDropDownArrowContainer",contentHTML:b.UI.ContainerTemplate({id:e.id,cssClass:"toolBarButtonDropDownArrow",contentHTML:b.UI.ContainerTemplate({cssClass:"arrowElement"})})});}})(window,WA);(function(d,b,a){if(!b.UI.WaButtonDropDownOption){b.UI.WaButtonDropDownOption=c;}function c(i,h){h=h||{};var p=this,r="WA.UI.WaButtonDropDownOption",s=i,o=h.parentComponent;p.toString=function(){return r;};p.OptionClick=b.Tools.EventHandlers.createHandlers(p,{id:"OptionClick"});p.RenderComplete=b.Tools.EventHandlers.createHandlers(p,{id:"RenderComplete"});p.Dispose=b.Tools.EventHandlers.createHandlers(p,{id:"Dispose"});var e,j=false;p.init=g;p.render=q;function q(){return b.UI.WaButtonDropDownOptionTemplate(s);}function n(u,t){e=b.$(s.id);b.addHandler(e,"click",k);b.addHandler(e,"mouseover",m);b.addHandler(e,"mouseout",l);p.RenderComplete.fireHandlers();}function m(t){b.Dom.addClassName(e,"mouseOver");}function l(t){b.Dom.removeClassName(e,"mouseOver");}function k(t){var u=b.getEventTags(t);if(s.action){s.action();}if(j){return;}if(u){p.OptionClick.fireHandlers({eventTags:u});}}function g(){o.RenderComplete.addHandler(n);o.Dispose.addHandler(f);}function f(){p.Dispose.fireHandlers();o.RenderComplete.removeHandler(n);o.Dispose.removeHandler(f);if(e){b.removeHandler(e,"click",k);b.removeHandler(e,"mouseover",m);b.removeHandler(e,"mouseout",l);}s=null;o=null;p.OptionClick=null;p.RenderComplete=null;p.Dispose=null;j=true;}}})(window,WA);(function(d,b,a){if(!b.UI.WaButtonDropDownOptionTemplate){b.UI.WaButtonDropDownOptionTemplate=c;}function c(e){return b.UI.ContainerTemplate({id:e.id,cssClass:"adminToolBarDropDownOption",attr:{eventTags:e.eventTags},contentHTML:b.UI.TextContainerTemplate({attr:{eventTags:e.eventTags},contentHTML:e.name})});}})(window,WA);(function(d,b,a){if(!b.UI.WaDialogV2){b.UI.WaDialogV2=c;b.UI.WaDialogV2.ScrollTimeOut=50;b.UI.WaDialogV2.DisplayMode={Default:"Default",FullScreen:"FullScreen",Alarm:"Alarm"};}function c(ah,ag){ag=ag||{};var az=this,bc="WA.UI.WaDialogV2",bd=ah,ay=ag.parentComponent;az.toString=function(){return bc;};az.RenderComplete=b.Tools.EventHandlers.createHandlers(az,{id:"RenderComplete"});az.Dispose=b.Tools.EventHandlers.createHandlers(az,{id:"Dispose"});az.Cancel=b.Tools.EventHandlers.createHandlers(az,{id:"Cancel"});az.ActionButtonClick=b.Tools.EventHandlers.createHandlers(az,{id:"ActionButtonClick"});az.DialogTabActivated=b.Tools.EventHandlers.createHandlers(az,{id:"DialogTabActivated"});az.DialogTabActivating=b.Tools.EventHandlers.createHandlers(az,{id:"DialogTabActivating"});az.ContentScroll=b.Tools.EventHandlers.createHandlers(az,{id:"ContentScroll"});var ak=false,aB=20,be=100,Y,s=null,F=null,I=null,K,L,H=null,G=null,bb=null,N=null,J=null,M=null,an=null,a2=null,ao,a9=null,ba=null,am=null,k=null,e={},S={},aj=true,ai=false,al=false,w=80,aF=null;var ax={id:bd.id,title:ag.titleText||"",headerBackgroundColor:ag.headerBackgroundColor||b.UI.WaDialogV2Template.HeaderBackgroundColor.Grey,cssClass:ag.cssClass||"",buttons:ag.buttons,tabs:ag.tabs,mainToolBarEnabled:bd.mainToolBarEnabled||false,advancedToolBarEnabled:bd.advancedToolBarEnabled||false,displayMode:ag.displayMode||b.UI.WaDialogV2.DisplayMode.Default,html:{content:ag.contentHTML||""},messages:{wait:{text:ag.waitMessageText||"Please wait...",image:ag.waitMessageImage||"/Admin/html_res/images/async-load-progress-01.gif"},error:{text:ag.errorMessageText||"Error...",image:ag.errorMessageImage||""}},size:{def:{z:ag.z||(b.AdminPanel?b.AdminPanel.ZIndex.Dialogs.Default:37773),width:ag.width||400,minWidth:ag.minWidth||107,maxWidth:ag.maxWidth,height:ag.height||300,minHeight:ag.minHeight||107,maxHeight:ag.maxHeight},current:{z:ag.z||(b.AdminPanel?b.AdminPanel.ZIndex.Dialogs.Default:37773),width:ag.width||400,minWidth:ag.minWidth||107,maxWidth:ag.maxWidth,height:ag.height||300,minHeight:ag.minHeight||107,maxHeight:ag.maxHeight}},flags:{windowResizeWatcherEnabled:ag.windowResizeWatcherEnabled!==a?ag.windowResizeWatcherEnabled:true,hideCloseButton:ag.hideCloseButton||false,hideWaitingMessage:ag.hideWaitingMessage||false,showTitle:ag.showTitle!==a?ag.showTitle:false,showTabs:ag.showTabs!==a?ag.showTabs:false,scrollDisabled:ag.scrollDisabled!=a?ag.scrollDisabled:false},state:{normal:ag.state===b.UI.WaDialogV2Template.StateStatus.Normal||!ag.state,waiting:ag.state===b.UI.WaDialogV2Template.StateStatus.Waiting,error:ag.state===b.UI.WaDialogV2Template.StateStatus.Error,visible:false}};az.dispose=E;az.show=a3;az.hide=Z;az.renderComplete=at;az.setContent=aM;az.setContentHeader=aN;az.setButtons=aJ;az.setTitle=a0;az.activateTab=f;az.enableCancelButton=R;az.disableCancelButton=A;az.disableActionButtons=x;az.enableActionButtons=O;az.setNormalState=aV;az.setWaitingState=a1;az.setShadingState=aX;az.setErrorState=aR;az.calcPosition=m;az.enableButton=Q;az.disableButton=z;az.setButtonTitle=aL;az.setDialogSize=aQ;az.showButtons=a5;az.hideButtons=ab;az.showButton=a4;az.hideButton=aa;az.setButtonTitle=aL;az.addButton=h;az.removeButton=aD;az.showButtonsContentContainer=a6;az.hideButtonsContentContainer=ac;az.setButtonsContentContainerHtml=aK;az.setLeftToolBarComponents=aT;az.setRightToolBarComponents=aW;az.setAdvancedToolBarComponents=aI;az.getDragDropTargetContainer=X;az.scrollToElement=aG;az.scrollToFirstError=aH;az.recalculateScroll=aC;function aC(){if(ax.flags.scrollDisabled){return;}g();}function aH(){aG(J.querySelector(".error"));}function aG(bf){if(aF){aF.scrollToElement(bf);}else{b.scrollToElement(bf,{scrollableArea:J});}}function X(){return J;}function aT(bf){am.setLeftToolBarComponents(bf);}function aW(bf){am.setRightToolBarComponents(bf);}function aI(bf){k.setComponents(bf);}function aK(bf){H.innerHTML=bf;}function a6(){if(ai){return;}ai=true;b.Dom.removeClassName(H,b.UI.WaDialogV2Template.CssClasses.Hidden);}function ac(){if(!ai){return;}ai=false;b.Dom.addClassName(H,b.UI.WaDialogV2Template.CssClasses.Hidden);}function a4(bf){if(!e||!e.hasOwnProperty(bf)){return;}e[bf].showButton();}function aa(bf){if(!e||!e.hasOwnProperty(bf)){return;}e[bf].hideButton();}function aL(bf,bg){if(!e||!e.hasOwnProperty(bf)){return;}e[bf].setButtonTitle(bg);}function h(bg,bf){if(e&&e.hasOwnProperty(bg.id)){throw new Error("Button already exists.");}t(bg,bf);ax.buttons.push(bg);b.Dom.insertAdjacentHTML(G,e[bg.id].render());if(al){e[bg.id].renderComplete();}}function aD(bg){if(!e||!e.hasOwnProperty(bg)){return;}var bf;e[bg].dispose();delete e[bg];bf=b.$(bg);if(bf){bf.parentNode.removeChild(bf);}}function a5(){if(aj){return;}aj=true;b.Dom.removeClassName(G,b.UI.WaDialogV2Template.CssClasses.Hidden);}function ab(){if(!aj){return;}aj=false;b.Dom.addClassName(G,b.UI.WaDialogV2Template.CssClasses.Hidden);}function Q(bf){if(!e){return;}if(!e[bf]){throw new Error("Could not find button with id: "+bf);}S[bf]=true;if(ax.state.waiting||ax.state.error){return;}e[bf].enableButton();}function z(bf){if(!e){return;}if(!e[bf]){throw new Error("Could not find button with id: "+bf);}e[bf].disableButton();delete S[bf];}function aL(bf,bg){if(!e||!e.hasOwnProperty(bf)){throw new Error("Could not find button with id: "+bf);}e[bf].setWaButtonTitle(bg);}function R(){b.Dom.removeClassName(s,b.UI.WaDialogV2Template.CssClasses.Hidden);b.addHandler(s,"mousedown",aq);b.Tools.KeyboardWatcher.Esc.addHandler(aq);}function A(){b.Dom.addClassName(s,b.UI.WaDialogV2Template.CssClasses.Hidden);b.removeHandler(s,"mousedown",aq);b.Tools.KeyboardWatcher.Esc.removeHandler(aq);}function aZ(){b.Dom.addClassName(bb,b.UI.WaDialogV2Template.CssClasses.Hidden);b.Dom.removeClassName(a9,b.UI.WaDialogV2Template.CssClasses.Hidden);}function aV(){aY(b.UI.WaDialogV2Template.StateStatus.Normal);}function a1(bf){aY(b.UI.WaDialogV2Template.StateStatus.Waiting,bf);}function aX(){aY(b.UI.WaDialogV2Template.StateStatus.Shading);}function aR(bf){aY(b.UI.WaDialogV2Template.StateStatus.Error,bf);}function P(){if(!e){return;}var bf;for(bf in S){if(S.hasOwnProperty(bf)&&e.hasOwnProperty(bf)){e[bf].enableButton();}}}function y(){if(!e){return;}var bf;for(bf in S){if(S.hasOwnProperty(bf)&&e.hasOwnProperty(bf)){e[bf].disableButton();}}}function aY(bg,bf){ax.state.normal=(bg===b.UI.WaDialogV2Template.StateStatus.Normal)||!bg;ax.state.waiting=(bg===b.UI.WaDialogV2Template.StateStatus.Waiting);ax.state.shading=(bg===b.UI.WaDialogV2Template.StateStatus.Shading);ax.state.error=(bg===b.UI.WaDialogV2Template.StateStatus.Error);switch(bg){case b.UI.WaDialogV2Template.StateStatus.Normal:P();U();ae();D();break;case b.UI.WaDialogV2Template.StateStatus.Shading:y();ae();C();V(b.UI.WaDialogV2Template.ShadingType.Translucent);break;case b.UI.WaDialogV2Template.StateStatus.Waiting:y();C();V(b.UI.WaDialogV2Template.ShadingType.Opaque);a8(bf);break;case b.UI.WaDialogV2Template.StateStatus.Error:y();C();a8();T(bf);break;default:P();U();disableWaitingMessage();}}function C(){b.addHandler(H,"scroll",B);b.addHandler(G,"scroll",B);}function U(){b.removeHandler(H,"scroll",B);b.removeHandler(G,"scroll",B);}function B(bf){return false;}function V(bf){b.Dom.removeClassName(a2,b.UI.WaDialogV2Template.CssClasses.Hidden);b.Dom.removeClassName(a2,b.UI.WaDialogV2Template.CssClasses.FadeOut);switch(bf){case b.UI.WaDialogV2Template.ShadingType.Opaque:b.Dom.addClassName(a2,b.UI.WaDialogV2Template.CssClasses.Opaque);break;case b.UI.WaDialogV2Template.ShadingType.Translucent:b.Dom.addClassName(a2,b.UI.WaDialogV2Template.CssClasses.Translucent);break;case b.UI.WaDialogV2Template.ShadingType.Transparent:b.Dom.addClassName(a2,b.UI.WaDialogV2Template.CssClasses.Transparent);break;default:}b.Dom.addClassName(a2,b.UI.WaDialogV2Template.CssClasses.FadeIn);}function a8(bf){b.Dom.removeClassName(an,b.UI.WaDialogV2Template.CssClasses.Hidden);b.Dom.addClassName(an,b.UI.WaDialogV2Template.CssClasses.Wait);aU(bf||ax.messages.wait.text);}function T(bf){b.Dom.addClassName(an,b.UI.WaDialogV2Template.CssClasses.Error);aU(bf||ax.messages.error.text);}function aU(bf){ao.innerHTML=b.encodeHtml(bf);}function D(){b.Dom.removeClassName(a2,b.UI.WaDialogV2Template.CssClasses.FadeIn);b.Dom.addClassName(a2,b.UI.WaDialogV2Template.CssClasses.FadeOut);b.Dom.addClassName(a2,b.UI.WaDialogV2Template.CssClasses.Hidden);}function ae(){b.Dom.addClassName(an,b.UI.WaDialogV2Template.CssClasses.Hidden);}function O(bf){var bh,bg=!!bf&&bf.length;for(bh in e){if(e.hasOwnProperty(bh)){if(!bg||bg&&bf.indexOf(e[bh].getId())>=0){Q(bh);}}}}function x(bf){var bh,bg=!!bf&&bf.length;for(bh in e){if(e.hasOwnProperty(bh)){if(!bg||bg&&bf.indexOf(e[bh].getId())>=0){z(bh);}}}}function a0(bf){ax.title=bf;b.Dom.addClassName(a9,b.UI.WaDialogV2Template.CssClasses.Hidden);bb.innerHTML=b.encodeHtml(ax.title);b.Dom.removeClassName(bb,b.UI.WaDialogV2Template.CssClasses.Hidden);}function aN(bf){L.innerHTML=bf;b.Dom.removeClassName(K,"hidden");}function aM(bf,bg){aQ(bg!==a?bg:ax.size.def);aO();I.innerHTML=bf;if(ax.state.visible){m();g();}}function aJ(bf){G.innerHTML=bf;}function a3(){if(ax.state.visible){return;}j();a7();ax.state.visible=true;b.Dom.removeClassName(F,b.UI.WaDialogV2Template.CssClasses.Out);b.Dom.removeClassName(F,b.UI.WaDialogV2Template.CssClasses.Hidden);p();aO();m();g();}function g(){if(ax.flags.scrollDisabled){return;}if(!ax.state.visible){return;}aF.calculate();}function Z(){if(ak){return;}if(!ax.state.visible){return;}aE();ax.state.visible=false;b.Dom.addClassName(F,b.UI.WaDialogV2Template.CssClasses.Hidden);b.Dom.addClassName(F,b.UI.WaDialogV2Template.CssClasses.Out);F.style.left="";F.style.top="";ad();}function a7(){if(ax.displayMode==b.UI.WaDialogV2.DisplayMode.Alarm){return;}if(b.AdminPanel){b.AdminPanel.showShading(b.AdminPanel.ShadingType.Dialog,{shadingZIndex:ax.size.def.z-1,hideSpinner:true});}}function ad(){if(ax.displayMode==b.UI.WaDialogV2.DisplayMode.Alarm){return;}if(b.AdminPanel){b.AdminPanel.hideShading();}}function m(){switch(ax.displayMode){case b.UI.WaDialogV2.DisplayMode.FullScreen:o();break;default:n();}}function n(){b.Dom.addClassName(F,b.UI.WaDialogV2Template.CssClasses.Hidden);F.style.left="0px";F.style.top="0px";var bj=b.Dimensions.getViewport(),bi=F.offsetWidth,bh=F.offsetHeight,bf=(bj.width-bi)/2,bg=(bj.height-bh)/2;F.style.left=(bf>0?bf+bj.scrollLeft:0)+"px";F.style.top=(bg>0?bg+bj.scrollTop:0)+"px";b.Dom.removeClassName(F,b.UI.WaDialogV2Template.CssClasses.Hidden);}function o(){F.style.left="0px";F.style.top="0px";var bg=b.Dimensions.getViewport(),bh=bg.width-w,bf=bh-ax.size.current.minWidth;bf<=0?F.style.right=bf+"px":F.style.right="0px";}function aA(){b.throttle(m,aB);}function aO(){switch(ax.displayMode){case b.UI.WaDialogV2.DisplayMode.FullScreen:aS();break;default:aP();}}function aP(){var bg=b.Dimensions.getViewport(),bf;if(ax.size.current.maxHeight==a){bf=bg.height-Y-w;}else{if(ax.size.current.maxHeight>(bg.height-Y-w)){bf=bg.height-Y-w;}else{bf=ax.size.current.maxHeight;}}bf=ax.size.current.minHeight>bf?ax.size.current.minHeight:bf;J.style.maxHeight=K.style.maxHeight=bf+"px";}function aS(){var bg=b.Dimensions.getViewport(),bf;bf=bg.height-Y-w;J.style.height=bf+"px";}function p(){var bg=N.offsetHeight,bf=M.offsetHeight;Y=bg+bf;return Y;}function i(){var bf=document.createElement("div");bf.innerHTML=b.UI.WaDialogV2Template(bd,ax);document.body.appendChild(bf.firstChild);bf=null;}function at(bg,bf){az.RenderComplete.fireHandlers();al=true;}function aw(){aO();g();aA();}function aQ(bf){ax.size.current=bf;J.style.minWidth=K.style.minWidth=(bf.minWidth!==a?bf.minWidth+"px":"");J.style.maxWidth=K.style.maxWidth=(bf.maxWidth!==a?bf.maxWidth+"px":"");J.style.minHeight=(bf.minHeight!==a?bf.minHeight+"px":"");J.style.maxHeight=(bf.maxHeight!==a?bf.maxHeight+"px":"");}function l(){F=b.$(bd.id);s=b.$(bd.id+b.UI.WaDialogV2Template.CloseButtonPostfix);N=b.$(bd.id+b.UI.WaDialogV2Template.HeaderContainerPostfix);I=b.$(bd.id+b.UI.WaDialogV2Template.ContentPostfix);K=b.$(bd.id+b.UI.WaDialogV2Template.ContentHeaderPostfix);L=b.$(bd.id+b.UI.WaDialogV2Template.ContentHeaderContentPostfix);J=b.$(bd.id+b.UI.WaDialogV2Template.ContentContainerPostfix);M=b.$(bd.id+b.UI.WaDialogV2Template.FooterContainerPostfix);a2=b.$(bd.id+b.UI.WaDialogV2Template.ShadingContainerPostfix);an=b.$(bd.id+b.UI.WaDialogV2Template.MsgContainerPostfix);ao=b.$(bd.id+b.UI.WaDialogV2Template.MsgContainerTextPostfix);H=b.$(bd.id+b.UI.WaDialogV2Template.ButtonsContainerContentPostfix);G=b.$(bd.id+b.UI.WaDialogV2Template.ButtonsContainerPostfix);bb=b.$(bd.id+b.UI.WaDialogV2Template.TitleContainerPostfix);a9=b.$(bd.id+b.UI.WaDialogV2Template.TabContainerPostfix);}function aE(){if(!ax.flags.hideCloseButton){b.removeHandler(s,"mousedown",aq);}if(ax.flags.windowResizeWatcherEnabled){b.removeHandler(d,"resize",aw);}b.Tools.KeyboardWatcher.Esc.removeHandler(aq);b.removeHandler(H,"scroll",B);b.removeHandler(G,"scroll",B);b.removeHandler(J,"scroll",ar);}function j(){if(!ax.flags.hideCloseButton){b.addHandler(s,"mousedown",aq);b.Tools.KeyboardWatcher.Esc.addHandler(aq);}if(ax.flags.windowResizeWatcherEnabled){b.addHandler(d,"resize",aw);}b.addHandler(J,"scroll",ar);}function ar(bf){b.throttle(W,{timeout:b.UI.WaDialogV2.ScrollTimeOut});}function W(){az.ContentScroll.fireHandlers();}function aq(bf){Z();az.Cancel.fireHandlers();}function ap(bg,bf){az.ActionButtonClick.fireHandlers(bf);}function t(bg,bf){bf=bf||{};bf.parentComponent=az;e[bg.id]=new b.UI.WaButton(bg,bf);e[bg.id].WaButtonClick.addHandler(ap);if(bg.enabled){S[bg.id]=true;}}function u(){if(b.getTypeString(ax.buttons)!="array"){return;}var bf,bg;for(bf=0,bg=ax.buttons.length;bf<bg;bf++){t(ax.buttons[bf].model);}}function v(){ba=new b.UI.TabSwitcher({id:ax.id,containerId:bd.id+b.UI.WaDialogV2Template.TabContainerPostfix},{parentComponent:az});ba.TabSwitcherTabActivating.addHandler(av);ba.TabSwitcherTabActivated.addHandler(au);if(ax.tabs&&b.getTypeString(ax.buttons)=="array"){ba.setTabButtons({buttons:ax.tabs});}}function f(bf){ba.activateTab(bf);}function av(bg,bf){az.DialogTabActivating.fireHandlers(bf);}function au(bg,bf){az.DialogTabActivated.fireHandlers(bf);}function q(){var bf=document.createElement("div");bf.appendChild(F);bf.innerHTML="";bf=null;}function r(){b.clearThrottle(m);b.clearThrottle(ae);b.clearThrottle(W);}function af(){ay.RenderComplete.addHandler(at);ay.Dispose.addHandler(E);i();l();u();v();aQ(ax.size.def);if(!ax.flags.scrollDisabled){aF=new b.UI.ScrollablePanelV2({id:bd.id+b.UI.ScrollablePanelV2Template.IdPostfix},{parentComponent:az});}if(ax.mainToolBarEnabled){am=new b.UI.DialogMainToolBar({id:ax.id+b.UI.DialogMainToolBarTemplate.IdPostfix,parentComponent:az});}if(ax.advancedToolBarEnabled){k=new b.UI.DialogAdvancedToolBar({id:ax.id+b.UI.DialogAdvancedToolBarTemplate.IdPostfix,parentComponent:az});}}function E(){if(ak){return;}r();Z();az.Dispose.fireHandlers();ay.RenderComplete.removeHandler(at);ay.Dispose.removeHandler(E);aE();q();az.RenderComplete=null;az.Dispose=null;az.Cancel=null;az.ActionButtonClick=null;az.DialogTabActivated=null;az.DialogTabActivating=null;az.ContentScroll=null;bd=null;ay=null;s=null;F=null;I=null;G=null;e=null;bb=null;J=null;a2=null;an=null;a9=null;ba=null;am=null;k=null;K=null;L=null;S=null;H=null;aF=null;ak=true;}af();}})(window,WA);(function(h,f,e){if(!f.UI.WaDialogV2Template){f.UI.WaDialogV2Template=g;f.UI.WaDialogV2Template.CloseButtonPostfix="_closeBtn";f.UI.WaDialogV2Template.ContentPostfix="_content";f.UI.WaDialogV2Template.ShadingContainerPostfix="_shadingContainer";f.UI.WaDialogV2Template.MsgContainerPostfix="_msgContainer";f.UI.WaDialogV2Template.MsgContainerTextPostfix="_msgTxtContainer";f.UI.WaDialogV2Template.HeaderContainerPostfix="_headerContainer";f.UI.WaDialogV2Template.ContentContainerPostfix="_contentContainer";f.UI.WaDialogV2Template.ContentHeaderPostfix="_contentHeaderContainer";f.UI.WaDialogV2Template.ContentHeaderContentPostfix="_contentHeaderContent";f.UI.WaDialogV2Template.TitleContainerPostfix="_titleContainer";f.UI.WaDialogV2Template.TabContainerPostfix="_tabContainer";f.UI.WaDialogV2Template.ConfirmationContainerPostfix="_confirmationContainer";f.UI.WaDialogV2Template.FooterContainerPostfix="_footerContainer";f.UI.WaDialogV2Template.ButtonsContainerContentPostfix="_buttonsContainerContent";f.UI.WaDialogV2Template.ButtonsContainerPostfix="_buttonsContainer";f.UI.WaDialogV2Template.ScrollablePanelPostfix="_scrollablePanel";f.UI.WaDialogV2Template.StateStatus={Normal:"normal",Waiting:"waiting",Shading:"shading",Error:"error"};f.UI.WaDialogV2Template.CssClasses={Hidden:"hidden",Out:"out",FadeIn:"fadein",FadeOut:"fadeout",Error:"error",Wait:"wait",Transparent:"transparent",Translucent:"translucent",Opaque:"opaque"};f.UI.WaDialogV2Template.ShadingType={Transparent:"transparent",Translucent:"translucent",Opaque:"opaque"};f.UI.WaDialogV2Template.HeaderBackgroundColor={Grey:"Grey",White:"White"};}function g(l,i){var j=f.UI.ContainerTemplate,k=i.headerBackgroundColor||f.UI.WaDialogV2Template.HeaderBackgroundColor.Grey,n=f.UI.ScrollablePanelV2Template;return j({id:l.id,cssClass:"waDialog "+(i.displayMode==f.UI.WaDialogV2.DisplayMode.Alarm?"alarm ":"")+"out hidden"+(l.cssClass?" "+l.cssClass:""),contentHTML:j({cssClass:"dlgPadding",contentHTML:j({cssClass:"dlgWrapper",contentHTML:j({id:l.id+f.UI.WaDialogV2Template.CloseButtonPostfix,cssClass:"closeBtn"+(i.flags.hideCloseButton?" hidden":"")})+j({cssClass:"dlgRoundedBox",contentHTML:j({cssClass:"dlgMainContainer",contentHTML:j({id:l.id+f.UI.WaDialogV2Template.HeaderContainerPostfix,cssClass:"dlgHeader "+d(k),contentHTML:j({id:l.id+f.UI.WaDialogV2Template.TitleContainerPostfix,cssClass:"dlgTitleContainer"+(i.flags.showTitle?"":" hidden"),contentHTML:i.title})+j({id:l.id+f.UI.WaDialogV2Template.TabContainerPostfix,cssClass:"dlgTabContainer"+(i.flags.showTabs?"":" hidden")})+c({id:l.id,mainToolBarEnabled:l.mainToolBarEnabled})+b({id:l.id,advancedToolBarEnabled:l.advancedToolBarEnabled})})+j({id:l.id+f.UI.WaDialogV2Template.ContentHeaderPostfix,cssClass:"dlgContentHeader hidden",contentHTML:j({cssClass:"dlgContentHeaderContent",id:l.id+f.UI.WaDialogV2Template.ContentHeaderContentPostfix})})+j({id:l.id+f.UI.WaDialogV2Template.ContentContainerPostfix,cssClass:"dlgContentContainer",contentHTML:n({id:l.id+f.UI.WaDialogV2Template.ScrollablePanelPostfix,contentHTML:j({id:l.id+f.UI.WaDialogV2Template.ContentPostfix,cssClass:"dlgContent",contentHTML:i.html.content||""})})+j({id:l.id+f.UI.WaDialogV2Template.ShadingContainerPostfix,cssClass:"dlgShadingContainer hidden"})+j({id:l.id+f.UI.WaDialogV2Template.MsgContainerPostfix,cssClass:"dlgMsgContainer hidden",contentHTML:j({cssClass:"dlgWaitingMsgIcon"+(i.flags.hideWaitingMessage?" hidden":""),attr:{style:"background-image:url("+i.messages.wait.image+")"}})+j({id:l.id+f.UI.WaDialogV2Template.MsgContainerTextPostfix,cssClass:"dlgWaitingMsgText"+(i.flags.hideWaitingMessage?" hidden":""),contentText:i.messages.wait.text})})})+j({id:l.id+f.UI.WaDialogV2Template.FooterContainerPostfix,cssClass:"dlgFooter",contentHTML:j({id:l.id+f.UI.WaDialogV2Template.ConfirmationContainerPostfix,cssClass:"dlgConfirmationContainer"})+j({id:l.id+f.UI.WaDialogV2Template.ButtonsContainerContentPostfix,cssClass:"dlgButtonsContainerContent "+f.UI.WaDialogV2Template.CssClasses.Hidden})+j({id:l.id+f.UI.WaDialogV2Template.ButtonsContainerPostfix,cssClass:"dlgButtonsContainer",contentHTML:a(l,i)})})})})})})});}function a(p,j){if(f.getTypeString(j.buttons)!="array"){return"";}var q=f.UI.WaButtonTemplate,k=[];var l,o,n;for(l=0,o=j.buttons.length;l<o;l++){n=j.buttons[l];k.push(q(n.model,n.args));}return k.join("");}function c(j){var k=f.UI.DialogMainToolBarTemplate,i=f.UI.ContainerTemplate;if(!j.mainToolBarEnabled){return"";}return i({cssClass:"dialogMainToolBarContainer",contentHTML:k({id:j.id+k.IdPostfix,mainToolBar:j.mainToolBar})});}function b(k){var i=f.UI.DialogAdvancedToolBarTemplate,j=f.UI.ContainerTemplate;if(!k.advancedToolBarEnabled){return"";}return j({cssClass:"dialogAdvancedToolBarContainer",contentHTML:i({id:k.id+i.IdPostfix,advancedToolBar:k.advancedToolBar})});}function d(j){var i="";switch(j){case f.UI.WaDialogV2Template.HeaderBackgroundColor.White:i="backgroundColorWhite";break;default:i="backgroundColorGrey";}if(i.length>0){return(" "+i);}return"";}})(window,WA);(function(d,c,b){if(!c.UI.DialogAdvancedToolBar){c.UI.DialogAdvancedToolBar=a;}function a(i){var m=this,q="WA.UI.DialogAdvancedToolBar",r=i,l=r.parentComponent;m.toString=function(){return q;};m.RenderComplete=c.Tools.EventHandlers.createHandlers(m,{id:"RenderComplete"});m.Dispose=c.Tools.EventHandlers.createHandlers(m,{id:"Dispose"});var j=false,f,e;m.render=n;m.setComponents=p;function p(s){m.Dispose.fireHandlers();e=s;}function n(){return c.UI.DialogAdvancedToolBarTemplate(r);}function k(t,s){f=c.$(r.id);f.innerHTML=o();m.RenderComplete.fireHandlers();}function o(){if(!e){return"";}var s=[],t,v,u;for(t=0,v=e.length;t<v;t++){u=e[t];s.push(u.render());}return s.join("");}function h(){l.RenderComplete.addHandler(k);l.Dispose.addHandler(g);}function g(){if(j){return;}m.Dispose.fireHandlers();l.RenderComplete.removeHandler(k);l.Dispose.removeHandler(g);r=null;l=null;f=null;e=null;m.RenderComplete=null;m.Dispose=null;j=true;}h();}})(window,WA);(function(d,c,b){if(!c.UI.DialogAdvancedToolBarTemplate){c.UI.DialogAdvancedToolBarTemplate=a;c.UI.DialogAdvancedToolBarTemplate.IdPostfix="_DialogAdvancedToolBar";}function a(f){var e=c.UI.ContainerTemplate;return e({id:f.id,cssClass:"dialogAdvancedToolBar"});}})(window,WA);(function(d,c,b){if(!c.UI.DialogMainToolBar){c.UI.DialogMainToolBar=a;}function a(g){var o=this,t="WA.UI.DialogMainToolBar",u=g,n=u.parentComponent;o.toString=function(){return t;};o.RenderComplete=c.Tools.EventHandlers.createHandlers(o,{id:"RenderComplete"});o.Dispose=c.Tools.EventHandlers.createHandlers(o,{id:"Dispose"});var h=false,i=null,q=null;o.render=p;o.setLeftToolBarComponents=r;o.setRightToolBarComponents=s;function p(){return c.UI.DialogMainToolBarTemplate(u);}function r(v){i.setComponents(v);}function s(v){q.setComponents(v);}function m(x,v){var w=c.$(u.id);o.RenderComplete.fireHandlers();}function f(){n.RenderComplete.addHandler(m);n.Dispose.addHandler(e);i=new c.UI.DialogMainToolBarSectionContainer({id:u.id+c.UI.DialogMainToolBarTemplate.IdLeftSectionPostfix,cssClass:c.UI.DialogMainToolBarSectionContainerTemplate.CssClasses.Left,parentComponent:o});q=new c.UI.DialogMainToolBarSectionContainer({id:u.id+c.UI.DialogMainToolBarTemplate.IdRightSectionPostfix,cssClass:c.UI.DialogMainToolBarSectionContainerTemplate.CssClasses.Right,parentComponent:o});}function l(w,v){o.ListViewChange.fireHandlers({viewMode:v.viewMode});}function k(w,v){if(!v){throw new Error("args is undefined");}o.FilePathChange.fireHandlers({path:v.path});}function j(){o.AddFolderButtonClick.fireHandlers();}function e(){if(h){return;}o.Dispose.fireHandlers();n.RenderComplete.removeHandler(m);n.Dispose.removeHandler(e);u=null;n=null;i=null;q=null;o.RenderComplete=null;o.Dispose=null;h=true;}f();}})(window,WA);(function(d,c,b){if(!c.UI.DialogMainToolBarTemplate){c.UI.DialogMainToolBarTemplate=a;c.UI.DialogMainToolBarTemplate.IdPostfix="_DialogMainToolBar";c.UI.DialogMainToolBarTemplate.IdLeftSectionPostfix="_MainToolBarLeft";c.UI.DialogMainToolBarTemplate.IdRightSectionPostfix="_MainToolBarRight";}function a(f){var e=c.UI.ContainerTemplate,g=c.UI.DialogMainToolBarSectionContainerTemplate;return e({id:f.id,cssClass:"dialogMainToolBar",contentHTML:g({id:f.id+c.UI.DialogMainToolBarTemplate.IdLeftSectionPostfix,cssClass:c.UI.DialogMainToolBarSectionContainerTemplate.CssClasses.Left})+g({id:f.id+c.UI.DialogMainToolBarTemplate.IdRightSectionPostfix,cssClass:c.UI.DialogMainToolBarSectionContainerTemplate.CssClasses.Right})});}})(window,WA);(function(d,c,b){if(!c.UI.DialogMainToolBarSectionContainer){c.UI.DialogMainToolBarSectionContainer=a;}function a(i){var m=this,q="WA.UI.DialogMainToolBarSectionContainer",r=i,l=r.parentComponent;m.toString=function(){return q;};m.RenderComplete=c.Tools.EventHandlers.createHandlers(m,{id:"RenderComplete"});m.Dispose=c.Tools.EventHandlers.createHandlers(m,{id:"Dispose"});var j=false,f,e;m.render=n;m.setComponents=p;function p(s){m.Dispose.fireHandlers();e=s;}function n(){return c.UI.DialogMainToolBarSectionContainer(r);}function k(t,s){f=c.$(r.id);f.innerHTML=o();m.RenderComplete.fireHandlers();}function o(){if(!e){return"";}var s=[],t,v,u;for(t=0,v=e.length;t<v;t++){u=e[t];s.push(u.render());}return s.join("");}function h(){l.RenderComplete.addHandler(k);l.Dispose.addHandler(g);}function g(){if(j){return;}m.Dispose.fireHandlers();l.RenderComplete.removeHandler(k);l.Dispose.removeHandler(g);r=null;l=null;f=null;m.RenderComplete=null;m.Dispose=null;j=true;}h();}})(window,WA);(function(d,c,b){if(!c.UI.DialogMainToolBarSectionContainerTemplate){c.UI.DialogMainToolBarSectionContainerTemplate=a;c.UI.DialogMainToolBarSectionContainerTemplate.CssClasses={Left:"left",Right:"right"};}function a(e){return c.UI.ContainerTemplate({id:e.id,cssClass:"toolBarSectionContainer"+(e.cssClass?" "+e.cssClass:"")});}})(window,WA);(function(c,b){if(!b.UI.DialogInfoMessageSwitcher){b.UI.DialogInfoMessageSwitcher=a;b.UI.DialogInfoMessageSwitcher.TypeName="WA.UI.DialogInfoMessageSwitcher";}function a(j,d){d=d||{};var m=this,p=b.UI.DialogInfoMessageSwitcher.TypeName;m.toString=function(){return p;};var i=j,l=d.parentComponent||null,g,f;m.Dispose=b.Tools.EventHandlers.createHandlers(m,{id:"Dispose"});m.init=h;m.dispose=e;m.render=n;m.setInfoMessage=o;function n(q){b.$(q).innerHTML=b.Templates.UI.DialogInfoMessageSwitcherTemplate({message:f,type:g,id:i.id});}function h(){l.Dispose.addHandler(e);l.RenderComplete.addHandler(k);i.frameWindow=i.frameWindow||c;}function k(){}function o(q){g=q.type;f=b.encodeHtml(q.message);}function e(){m.Dispose.fireHandlers();l.Dispose.removeHandler(e);l.OnRenderComplete.removeHandler(k);m.Dispose=null;i=null;l=null;}}})(window,WA);(function(c,b){if(!b.Templates.UI.DialogInfoMessageSwitcherTemplate){b.Templates.UI.DialogInfoMessageSwitcherTemplate=a;}function a(e){var f={warning:{type:"BullitedContainerWarningIcon",label:"Warning:"},attention:{type:"BullitedContainerWarningIcon",label:"Attention:"},info:{type:"BullitedContainerWarningIcon",label:"Info:"},confirmation:{type:"BullitedContainerWarningIcon",label:"Warning:"}};var d=['<div class="dialogInfoMessageLabel" style="display: table-cell;">',f[e.type.toLowerCase()].label,"</div>",'<div class="dialogInfoMessageText" style="display: table-cell;">',e.message,"</div>"];return d.join("\r\n");}})(window,WA);(function(d,b,a){if(!b.UI.WaDropDown){b.UI.WaDropDown=c;b.UI.WaDropDown.Align={BottomLeft:"BottomLeft",RightBottom:"RightBottom",BottomRight:"BottomRight"};b.UI.WaDropDown.VerticalAlign={Top:"top",Bottom:"bottom"};b.UI.WaDropDown.HorizontalAlign={Left:"left",Right:"right",Center:"center"};b.UI.WaDropDown.VerticalOpenDirection={Top:"top",Bottom:"bottom"};b.UI.WaDropDown.HorizontalOpenDirection={Left:"left",Right:"right",Center:"center"};}function c(D,C,af){C=C||{};var Y=this,au="WA.UI.WaDropDown",ay=D,W=C.parentComponent,ar=C.targetWindow||d,az=(C.zIndex!=a?C.zIndex:b.UI.DefaultZIndex.WaDropDown),r=C.disableAnimation||false,f=C.animationSpeed||200,w=ay.hasScroll!=a?ay.hasScroll:false,V=ay.padding||{},I=ay.offset||{},S=ay.optionsContainerPadding||{},ad=ay.scrollContainerPadding||{},aj=27,al;ay.optionsType=ay.optionsType||b.UI.WaDropDown.GeneralOption;Y.toString=function(){return au;};Y.DropDownMouseOver=b.Tools.EventHandlers.createHandlers(Y,{id:"DropDownMouseOver"});Y.DropDownMouseOut=b.Tools.EventHandlers.createHandlers(Y,{id:"DropDownMouseOut"});Y.OptionClick=b.Tools.EventHandlers.createHandlers(Y,{id:"OptionClick"});Y.ValueChanged=b.Tools.EventHandlers.createHandlers(Y,{id:"ValueChanged"});Y.DropDownOptionContentChanged=b.Tools.EventHandlers.createHandlers(Y,{id:"DropDownOptionContentChanged"});Y.DropDownShown=b.Tools.EventHandlers.createHandlers(Y,{id:"DropDownShown"});Y.DropDownHidden=b.Tools.EventHandlers.createHandlers(Y,{id:"DropDownHidden"});Y.RenderComplete=b.Tools.EventHandlers.createHandlers(Y,{id:"RenderComplete"});Y.Dispose=b.Tools.EventHandlers.createHandlers(Y,{id:"Dispose"});Y.VisualStateChanged=b.Tools.EventHandlers.createHandlers(Y,{id:"VisualStateChanged"});var l,ap,R=[],E=false,X={},aq={},ae=null,G=(ay.maxHeight||(w?350:null))-(V.top||0)-(V.bottom||0),H=ay.maxWidth||null,h=ay.borders||{},U=ay.optionsTextTemplate,T,ao="idSystemDropDownsHolder",an,t,av,y,ax,A,at,F,aw,z;Y.showDropDown=ak;Y.hideDropDown=x;Y.dispose=s;Y.setMinWidth=ah;Y.recalculateSize=Z;Y.onRenderComplete=O;Y.getOptions=function(){return R;};function ah(aA){l.style.minWidth=aA+"px";}function e(){if(b.Browser.isTouchEventsSupported){b.addHandler(ar,"resize",Q);b.addHandler(ar,"scroll",Q);}else{b.addHandler(ar,"resize",x);b.addHandler(ar,"scroll",x);}}function ab(){al=null;b.clearThrottle(ai);if(b.Browser.isTouchEventsSupported){b.removeHandler(ar,"resize",Q);b.removeHandler(ar,"scroll",Q);}else{b.removeHandler(ar,"resize",x);b.removeHandler(ar,"scroll",x);}}function Q(){b.throttle(ai,{timeout:aj});}function ak(aA){if(E){return;}al=aA||{};var aB=r||(al.animationFlag&&al.animationFlag.isEnabled===false);if(!aB){b.UI.Animation.stop(ay.id);}e();ai();ag();if(aB){b.setElementOpacity(l,100);}else{b.UI.Animation.animate(ay.id,{opacity:1},f);}Y.DropDownShown.fireHandlers({targetElementPosition:aq,dropDownPosition:X});}function ag(){if(!y||!av){b.Dom.removeClassName(l,"top");b.Dom.removeClassName(l,"bottom");b.Dom.removeClassName(l,"left");b.Dom.removeClassName(l,"right");return;}switch(y){case b.UI.WaDropDown.HorizontalAlign.Left:b.Dom.addClassName(l,"left");break;case b.UI.WaDropDown.HorizontalAlign.Right:b.Dom.addClassName(l,"right");break;case b.UI.WaDropDown.HorizontalAlign.Center:b.Dom.addClassName(l,"center");break;default:}switch(av){case b.UI.WaDropDown.VerticalAlign.Top:b.Dom.addClassName(l,"top");break;case b.UI.WaDropDown.VerticalAlign.Bottom:b.Dom.addClassName(l,"bottom");break;case b.UI.WaDropDown.VerticalAlign.Center:b.Dom.addClassName(l,"center");break;default:}}function x(aA){if(E){return;}aA=aA||{};ab();if(r||(aA.animationFlag&&aA.animationFlag.isEnabled===false)){b.setElementOpacity(l,0);aa();return;}b.UI.Animation.stop(ay.id);b.UI.Animation.animate(ay.id,{opacity:0},f,aa);Y.DropDownHidden.fireHandlers();}function aa(){if(E){return;}l.style.top="-37000px";l.style.left="-37000px";}function O(aB,aA){ap=b.$(ay.targetElementId,ar);Y.RenderComplete.fireHandlers();}function m(){l=ar.document.createElement("DIV");l.id=ay.id;l.className="dropDownContainer"+(ay.containerCssClass?" "+ay.containerCssClass:" generalDropDown");if(V.top!==a){l.style.paddingTop=V.top+"px";}if(V.bottom!==a){l.style.paddingBottom=V.bottom+"px";}if(V.left!==a){l.style.paddingLeft=V.left+"px";}if(V.right!==a){l.style.paddingRight=V.right+"px";}if(G){l.style.maxHeight=G+"px";}if(H){l.style.maxWidth=H+"px";}l.style.zIndex=az;b.disableSelect(l);b.setElementOpacity(l,0);b.addHandler(l,"mouseover",K);b.addHandler(l,"mouseout",J);}function q(){an=b.$(ao);if(!an){an=ar.document.createElement("DIV");an.id=ao;document.body.appendChild(an);}}function p(){if(!ay.dropDownsHolderId){t=an;return;}t=b.$(ay.dropDownsHolderId);if(!t){t=ar.document.createElement("DIV");t.id=ay.dropDownsHolderId;an.appendChild(t);}}function ac(){l.innerHTML=b.UI.WaDropDownTemplate({id:ay.id,hasScroll:w,cssClass:ay.cssClass,scrollContainerCssClass:ay.scrollContainerCssClass,contentHTML:v(),optionsContainerPadding:S,scrollContainerPadding:ad,maxHeight:G});}function v(){var aB,aC,aD,aA=[];for(aB=0,aC=R.length;aB<aC;aB++){aD=R[aB];aA.push(aD.render());}return aA.join("");}function K(aA){Y.DropDownMouseOver.fireHandlers();}function J(aA){Y.DropDownMouseOut.fireHandlers();}function ai(){if(!al){return;}var aA=(al.targetElementId&&b.$(al.targetElementId,ar))||ap;aq=(ar===d)?b.Dimensions.getElementRect(aA):b.Dimensions.getElementAbsXY(aA,ar);if(b.Browser.isTouchEventsSupported&&b.Browser.isIE){aq.left-=aq.viewport.scrollLeft;aq.right-=aq.viewport.scrollLeft;aq.top-=aq.viewport.scrollTop;aq.bottom-=aq.viewport.scrollTop;}if(ae===null){ae={width:l.offsetWidth,height:l.offsetHeight};}if(typeof(ay.align)!="object"){k();at=(al.offset&&al.offset.top)||I.top||0;F=(al.offset&&al.offset.left)||I.left||0;X.top+=at;X.left+=F;}else{aw=(al.offset&&al.offset.vertical)||I.verticalOffset||0;z=(al.offset&&al.offset.horizontal)||I.horizontalOffset||0;u();i();j();}if(al.bounds){if(al.bounds.bottom!=a&&X.top+ae.height-(V.bottom||0)>al.bounds.bottom){X.top=al.bounds.bottom-ae.height+(V.bottom||0);}if(al.bounds.top!=a&&X.top+(V.top||0)<al.bounds.top){X.top=al.bounds.top-(V.top||0);}if(al.bounds.left!=a&&X.left-(V.left||0)<al.bounds.left){X.left=al.bounds.left-(V.left||0);}}l.style.top=X.top+"px";l.style.left=X.left+"px";}function u(){av=ay.align.verticalAlign||b.UI.WaDropDown.VerticalAlign.Bottom;y=ay.align.horizontalAlign||b.UI.WaDropDown.HorizontalAlign.Left;ax=ay.align.verticalOpenDirection||b.UI.WaDropDown.VerticalOpenDirection.Bottom;A=ay.align.horizontalOpenDirection||b.UI.WaDropDown.HorizontalOpenDirection.Right;}function i(){switch(ax){case b.UI.WaDropDown.VerticalOpenDirection.Bottom:if(aq.viewport.height<(aq.top+ae.height+aw)){av=b.UI.WaDropDown.VerticalAlign.Top;ax=b.UI.WaDropDown.VerticalOpenDirection.Top;}break;case b.UI.WaDropDown.VerticalOpenDirection.Top:if(aq.top-ae.height-aw<aq.viewport.scrollTop){av=b.UI.WaDropDown.VerticalAlign.Bottom;ax=b.UI.WaDropDown.VerticalOpenDirection.Bottom;}break;default:}switch(y){case b.UI.WaDropDown.HorizontalAlign.Left:switch(A){case b.UI.WaDropDown.HorizontalOpenDirection.Left:if(aq.left-ae.width-z<aq.viewport.scrollLeft){A=b.UI.WaDropDown.HorizontalOpenDirection.Right;}break;case b.UI.WaDropDown.HorizontalOpenDirection.Right:case b.UI.WaDropDown.HorizontalOpenDirection.Center:break;default:}break;case b.UI.WaDropDown.HorizontalAlign.Right:switch(A){case b.UI.WaDropDown.HorizontalOpenDirection.Left:break;case b.UI.WaDropDown.HorizontalOpenDirection.Right:if(aq.right+ae.width+z>aq.viewport.width){A=b.UI.WaDropDown.HorizontalOpenDirection.Left;}break;default:}break;case b.UI.WaDropDown.HorizontalAlign.Center:break;default:}}function j(){X.top=0;X.left=0;switch(av){case b.UI.WaDropDown.VerticalAlign.Bottom:X.top+=aq.bottom;break;case b.UI.WaDropDown.VerticalAlign.Top:X.top+=aq.top;break;default:}switch(ax){case b.UI.WaDropDown.VerticalOpenDirection.Bottom:X.top+=aw;break;case b.UI.WaDropDown.VerticalOpenDirection.Top:X.top-=ae.height-aw;break;default:}switch(y){case b.UI.WaDropDown.HorizontalAlign.Left:X.left+=aq.left+z;break;case b.UI.WaDropDown.HorizontalAlign.Right:X.left+=aq.right-z;break;case b.UI.WaDropDown.HorizontalAlign.Center:X.left+=Math.round(aq.left+aq.width/2-ae.width/2)-z;break;default:}switch(A){case b.UI.WaDropDown.HorizontalOpenDirection.Left:X.left-=ae.width;break;case b.UI.WaDropDown.HorizontalOpenDirection.Right:case b.UI.WaDropDown.HorizontalOpenDirection.Center:break;default:}}function k(){switch(ay.align){case b.UI.WaDropDown.Align.RightBottom:X.top=aq.bottom-ae.height;X.left=aq.right;break;case b.UI.WaDropDown.Align.BottomRight:X.top=aq.bottom;X.left=aq.right-ae.width;break;default:X.top=aq.bottom;X.left=aq.left;break;}}function L(aB,aA){Y.OptionClick.fireHandlers(aA);}function M(){Z();Y.DropDownOptionContentChanged.fireHandlers();}function N(aB,aA){Y.ValueChanged.fireHandlers(aA);}function Z(){if(w){T.calculate();}}function o(){var aB,aC,aD,aE,aA=[];for(aB=0,aC=ay.dropDownOptionModels.length;aB<aC;aB++){aE=ay.dropDownOptionModels[aB];aE.id=ay.id+aB;aD=b.Object.create(aE.optionType||ay.optionsType,[aE,{parentComponent:Y,optionsTextTemplate:U},af]);if(aD.VisualStateChanged){aD.VisualStateChanged.addHandler(P);}aA.push(aD);}return aA;}function P(){Y.VisualStateChanged.fireHandlers();}function am(){var aA,aB,aC;for(aA=0,aB=R.length;aA<aB;aA++){aC=R[aA];if(aC.OptionClick){aC.OptionClick.addHandler(L);}if(aC.OptionContentChanged){aC.OptionContentChanged.addHandler(M);}if(aC.ValueChanged){aC.ValueChanged.addHandler(N);}if(aC.VisualStateChanged){aC.VisualStateChanged.addHandler(P);}}}function g(){R=ay.dropDownOptions?ay.dropDownOptions:o();am();}function n(){try{m();q();p();t.appendChild(l);}catch(aA){throw new Error("Could not create WaDropDown with id: "+ay.id);}ac();}function B(){W.RenderComplete.addHandler(O);W.Dispose.addHandler(s);g();if(w){T=new b.UI.ScrollablePanelV2({id:ay.id+b.UI.CheckBoxListTemplate.ScrollablePanelPostfix},{parentComponent:Y});}n();}function s(){Y.Dispose.fireHandlers();W.RenderComplete.removeHandler(O);W.Dispose.removeHandler(s);ab();if(l){b.removeHandler(l,"mouseover",K);b.removeHandler(l,"mouseout",J);l.innerHTML="";t.removeChild(l);}an=null;t=null;ay=null;W=null;l=null;X=null;aq=null;T=null;Y.DropDownShown=null;Y.DropDownHidden=null;Y.OptionClick=null;Y.DropDownOptionContentChanged=null;Y.DropDownMouseOver=null;Y.DropDownMouseOut=null;Y.RenderComplete=null;Y.Dispose=null;Y.ValueChanged=null;Y.VisualStateChanged=null;E=true;}B();}})(window,WA);(function(d,b,a){if(!b.UI.WaDropDownTemplate){b.UI.WaDropDownTemplate=c;b.UI.WaDropDownTemplate.scrollablePanelPostfix="_scrollablePanel";}function c(g){var j=null,e=null,h=b.UI.ScrollablePanelV2Template,f=b.UI.ContainerTemplate;if(g.optionsContainerPadding!=a){j="";j+=(g.optionsContainerPadding.top!==a)?"padding-top: "+g.optionsContainerPadding.top+"px;":"";j+=(g.optionsContainerPadding.right!==a)?"padding-right: "+g.optionsContainerPadding.right+"px;":"";j+=(g.optionsContainerPadding.bottom!==a)?"padding-bottom: "+g.optionsContainerPadding.bottom+"px;":"";j+=(g.optionsContainerPadding.left!==a)?"padding-left: "+g.optionsContainerPadding.left+"px;":"";if(j.length>0){e={style:j};}}if(g.hasScroll){var i={};if(g.maxHeight!==a){i.style="max-height: "+g.maxHeight+"px";}return f({attr:i,cssClass:g.scrollContainerCssClass,contentHTML:h({id:g.id+b.UI.WaDropDownTemplate.scrollablePanelPostfix,contentHTML:f({attr:e,cssClass:g.cssClass,contentHTML:g.contentHTML})})});}else{return f({attr:e,cssClass:g.cssClass,contentHTML:g.contentHTML});}}})(window,WA);(function(d,c,b){if(!c.UI.WaDropDown.GeneralHtmlOption){c.UI.WaDropDown.GeneralHtmlOption=a;}function a(i,h){h=h||{};var m=this,o="WA.UI.WaDropDown.GeneralHtmlOption",p=i,l=h.parentComponent;m.toString=function(){return o;};m.OptionClick=c.Tools.EventHandlers.createHandlers(m,{id:"OptionClick"});m.RenderComplete=c.Tools.EventHandlers.createHandlers(m,{id:"RenderComplete"});m.Dispose=c.Tools.EventHandlers.createHandlers(m,{id:"Dispose"});var e;m.init=g;m.dispose=f;m.render=n;function n(){return c.UI.WaDropDown.GeneralHtmlOptionTemplate(p);}function k(r,q){e=c.$(p.id);c.addHandler(e,"click",j);m.RenderComplete.fireHandlers();}function j(q){var r=c.getEventTags(q);if(r){m.OptionClick.fireHandlers({eventTags:r});}}function g(){l.RenderComplete.addHandler(k);l.Dispose.addHandler(f);}function f(){m.Dispose.fireHandlers();l.RenderComplete.removeHandler(k);l.Dispose.removeHandler(f);if(e){c.removeHandler(e,"click",j);}p=null;l=null;e=null;m.OptionClick=null;m.RenderComplete=null;m.Dispose=null;}}})(window,WA);(function(d,c,b){if(!c.UI.WaDropDown.GeneralHtmlOptionTemplate){c.UI.WaDropDown.GeneralHtmlOptionTemplate=a;}function a(e){return c.UI.ContainerTemplate({id:e.id,cssClass:"generalDropDownHtmlOption"+(e.spaced&&" spaced"||"")+(e.cssClass!=b?(" "+e.cssClass):""),attr:{eventTags:e.eventTags},contentHTML:e.contentHTML});}})(window,WA);(function(d,c,b){if(!c.UI.WaDropDown.GeneralOption){c.UI.WaDropDown.GeneralOption=a;}function a(i,h){h=h||{};var o=this,q="WA.UI.WaDropDown.GeneralOption",r=i,n=h.parentComponent;o.toString=function(){return q;};o.OptionClick=c.Tools.EventHandlers.createHandlers(o,{id:"OptionClick"});o.RenderComplete=c.Tools.EventHandlers.createHandlers(o,{id:"RenderComplete"});o.Dispose=c.Tools.EventHandlers.createHandlers(o,{id:"Dispose"});var e;o.init=g;o.dispose=f;o.render=p;o.renderComplete=m;function p(){return c.UI.WaDropDown.GeneralOptionTemplate(r);}function m(t,s){e=c.$(r.id);if(r.mouseEventsDisabled!==true){c.addHandler(e,"click",j);c.addHandler(e,"mouseover",l);c.addHandler(e,"mouseout",k);}o.RenderComplete.fireHandlers();}function l(s){c.Dom.addClassName(e,"mouseOver");}function k(s){c.Dom.removeClassName(e,"mouseOver");}function j(s){var t=c.getEventTags(s);if(t){o.OptionClick.fireHandlers({eventTags:t});}}function g(){n.RenderComplete.addHandler(m);n.Dispose.addHandler(f);}function f(){o.Dispose.fireHandlers();n.RenderComplete.removeHandler(m);n.Dispose.removeHandler(f);if(e){c.removeHandler(e,"click",j);c.removeHandler(e,"mouseover",l);c.removeHandler(e,"mouseout",k);}r=null;n=null;e=null;o.OptionClick=null;o.RenderComplete=null;o.Dispose=null;}}})(window,WA);(function(d,c,b){if(!c.UI.WaDropDown.GeneralOptionSeparator){c.UI.WaDropDown.GeneralOptionSeparator=a;}function a(i,h){h=h||{};var l=this,n="WA.UI.WaDropDown.GeneralOptionSeparator",o=i,k=h.parentComponent;l.toString=function(){return n;};var e;l.init=g;l.render=m;l.isSeparator=function(){return true;};function m(){return c.UI.WaDropDown.GeneralOptionSeparatorTemplate(o);}function j(q,p){e=c.$(o.id);}function g(){k.Dispose.addHandler(f);k.RenderComplete.addHandler(j);}function f(){k.Dispose.removeHandler(f);k.RenderComplete.removeHandler(j);}}})(window,WA);(function(d,c,b){if(!c.UI.WaDropDown.GeneralOptionSeparatorTemplate){c.UI.WaDropDown.GeneralOptionSeparatorTemplate=a;}function a(e){return c.UI.ContainerTemplate({id:e.id,cssClass:"waDropDownOptionSeparator"});}})(window,WA);(function(d,c,b){if(!c.UI.WaDropDown.GeneralOptionTemplate){c.UI.WaDropDown.GeneralOptionTemplate=a;}function a(e){return c.UI.ContainerTemplate({id:e.id,cssClass:"generalDropDownOption"+(e.cssClass!=b?(" "+e.cssClass):""+(e.isReadOnly===true?" readOnly":"")),attr:{eventTags:e.eventTags},cssStyle:e.cssStyle,contentHTML:c.UI.TextContainerTemplate({attr:{eventTags:e.eventTags},contentHTML:e.name})});}})(window,WA);(function(d,b,a){if(!b.UI.WaDropdownList){b.UI.WaDropdownList=c;b.UI.WaDropdownList.TypeName="WA.UI.WaDropdownList";}function c(z,y,af){y=y||{};var Z=this,ao=b.UI.WaDropdownList.TypeName,at=z,ar,U=y.parentComponent;Z.toString=function(){return ao;};Z.ValueChanged=b.Tools.EventHandlers.createHandlers(Z,{id:"ValueChanged"});Z.RenderComplete=b.Tools.EventHandlers.createHandlers(Z,{id:"RenderComplete"});Z.Dispose=b.Tools.EventHandlers.createHandlers(Z,{id:"Dispose"});Z.ValidationFailed=b.Tools.EventHandlers.createHandlers(Z,{id:"ValidationFailed"});Z.EnabledStateChanged=b.Tools.EventHandlers.createHandlers(Z,{id:"EnabledStateChanged"});Z.VisualStateChanged=b.Tools.EventHandlers.createHandlers(Z,{id:"VisualStateChanged"});var h,an,au,t=at.id+"_globalMouseDown",m=at.id+"_dropDown",k,Q={},T=at.optionsType||b.UI.WaDropdownListOption,S=at.optionsTextTemplate||null,q=false,w=50,o={verticalOffset:-1},e={top:1,right:1,bottom:1,left:1},n="waDropDownList",l="waDropDownListContainer",al=at.targetElementId||at.id,R=6,am,ae,Y,D=at.maxHeight||350,A=false,B,p,s=at.fadeMode===true,f=y.childElementEventHandlers||{ValueChanged:J,VisualStateChanged:P};Z.dispose=j;Z.recalculateState=aa;Z.render=ab;Z.enable=r;Z.isEnabled=function(){return !at.disabled;};Z.disable=i;Z.show=aj;Z.hide=u;Z.renderComplete=N;Z.getValue=function(){return ar.getValue();};Z.parentSelected=V;Z.parentValueChanged=W;Z.setValue=function(av){ar.setValue(av);};Z.getType=function(){return at.layoutControlType;};Z.resetToFirstOption=ac;Z.resetToHint=ad;Z.setSelectedValue=ah;Z.onRenderComplete=N;function W(av){b.UI.Helpers.ControlHelper.applyParentValueChangedBehavior(Z,at.parentChangeBehaviour,av);}function V(av){b.UI.Helpers.ControlHelper.applyParentSelectedBehavior(Z,at.parentChangeBehaviour,av);}function aa(){}function ab(){return b.UI.WaDropdownListTemplate(at);}function aj(){b.Dom.removeClassName(au,"hidden");Z.VisualStateChanged.fireHandlers();}function u(){b.Dom.addClassName(au,"hidden");Z.VisualStateChanged.fireHandlers();}function r(){b.Dom.removeClassName(h,"disabled");at.disabled=false;am.enableToolTip();Z.EnabledStateChanged.fireHandlers({state:true});if(B){B.parentValueChanged({newValue:ar.getValue()});}}function i(av){av=av||{};at.disabled=true;am.disableToolTip();if(q){v();}if(av.resetToHint===true){ad();}b.Dom.addClassName(h,"disabled");Z.EnabledStateChanged.fireHandlers({state:false});}function N(aw,av){h=b.$(at.id);an=b.$(at.id+b.UI.WaDropdownListTemplate.TitlePostfix);au=b.$(at.id+b.UI.ControlLayoutTemplate.IdControlLayoutPostfix);b.addHandler(h,"click",E);Z.RenderComplete.fireHandlers();aq();ai(p,ae);at.disabled?i():r();}function H(aw,av){v();}function E(aw,av){if(!Z.isEnabled()){return;}if(q){v();return;}k.setMinWidth(h.offsetWidth);ak();}function I(av){var ay=b.getEventTarget(av);var ax=b.jq$||d.jq$;if(!ax){return;}var aw=ax(ay).parents("#"+m).length>0;if(!aw){v();}}function G(aw,av){b.addGlobalMouseDown(I,t);q=true;}function F(aw,av){b.removeGlobalHandler(t);b.throttle(ap,200);}function ap(){q=false;}function ak(){if(q){return;}b.Dom.addClassName(h,"active");k.showDropDown();b.Tools.KeyboardWatcher.Esc.addHandler(H);}function v(){if(!q){return;}k.hideDropDown();b.Dom.removeClassName(h,"active");b.Tools.KeyboardWatcher.Esc.removeHandler(H);}function aq(){if(Q[Y]&&Q[Y].setValue){Q[Y].setValue(false);}if(Q[ae]&&Q[ae].setValue){Q[ae].setValue(true);}}function ah(av){K(null,{eventTags:av,selectedFromOutside:true});}function ac(){if(p&&p[0]&&p[0].attr){K(null,{eventTags:p[0].attr.eventTags,selectedFromOutside:true});}}function ad(){if(!at.hint){throw new Error("hint was not defined!");}if(!at.hint.hasOwnProperty("hintValue")){throw new Error("hintValue was not defined!");}ar.setValue(at.hint.hintValue);ae=at.hint.hintValue;ag();}function K(aw,av){v();if(ae==av.eventTags){return;}Y=ae;ae=av.eventTags;aq();ai(p,ae);ar.setValue(ae);if(B){B.parentValueChanged({newValue:Z.getValue()});}Z.ValueChanged.fireHandlers({newValue:Z.getValue(),selectedFromOutside:av.selectedFromOutside});}function ai(ax,az){if(at.hint&&(az===at.hint.hintValue)){ag();return;}var av,ay,aw;for(av=0,ay=ax.length;av<ay;av++){if(ax[av].attr.eventTags==az){aw=ax[av];break;}}if(!aw){return;}if(aw.contentText!=a){am.contentText(aw.contentText);}else{if(aw.contentHTML!=a){am.contentHTML(aw.contentHTML);}}if(aw.disabled){b.Dom.addClassName(an,"disabled");}else{b.Dom.removeClassName(an,"disabled");}}function ag(){am.contentText(at.hint.contentText);}function O(av){b.UI.Helpers.ValidationHelper.updateValidationMessages({controlId:at.id,messages:ar.getErrors(),isEditInProgress:av.isEditInProgress});Z.ValidationFailed.fireHandlers();}function M(aw,av){switch(av.state){case true:if(!Z.isEnabled()){r();}break;case false:if(Z.isEnabled()){i();}break;}}function g(){b.clearThrottle(v);}function L(aw,av){Z.ValueChanged.fireHandlers();}function X(){p=b.Object.copy(at.items);var av,ax,aw;for(av=0,ax=p.length;av<ax;av++){aw=p[av];aw.attr=aw.attr||{};aw.attr.eventTags=aw.value;aw.value=aw.value==ae;aw.linkedControlContainerId=at.id+b.UI.ControlLayoutTemplate.IdLinkedControlPostfix;if(aw.layoutControlType==b.UI.ControlType.DropDownListOptionSeparator){aw.optionType=b.UI.WaDropDown.GeneralOptionSeparator;}}}function C(ay){var av,ax,aw;for(av=0,ax=ay.length;av<ax;av++){aw=ay[av];if(aw.isSeparator&&aw.isSeparator()){continue;}Q[aw.getName()]=aw;aw.ValueChanged.addHandler(L);}}function J(aw,av){Z.ValueChanged.fireHandlers(av);}function P(aw,av){Z.VisualStateChanged.fireHandlers(av);}function x(){U.RenderComplete.addHandler(N);U.Dispose.addHandler(j);if(U.EnabledStateChanged){U.EnabledStateChanged.addHandler(M);}if(U.ValidationFailed){U.ValidationFailed.addHandler(O);}ar=b.UI.Helpers.ValueAccessorHelper.createValueAccessor(z,Z);if(ar.getValue()==a){if(at.hint){if(!at.hint.hasOwnProperty("hintValue")){throw new Error("hint must have a hintValue");}ar.setValue(at.hint.hintValue);}else{ar.setValue(at.items[0].value);}}at.value=ar.getValue();ae=at.value;X();k=new b.UI.WaDropDown({id:m,cssClass:n,containerCssClass:l,targetElementId:al,align:{verticalAlign:b.UI.WaDropDown.VerticalAlign.Bottom,horizontalAlign:b.UI.WaDropDown.HorizontalAlign.Left,verticalOpenDirection:b.UI.WaDropDown.VerticalOpenDirection.Bottom,horizontalOpenDirection:b.UI.WaDropDown.HorizontalOpenDirection.Right},offset:o,dropDownOptionModels:p,optionsType:T,optionsTextTemplate:S,dropdownOptionMinWidth:at.dropdownOptionMinWidth,hasScroll:true,maxHeight:D,optionsContainerPadding:{top:R,bottom:R},borders:e},{parentComponent:Z},af);C(k.getOptions());am=b.Object.create(b.UI.TextContainer,[{id:at.id+b.UI.WaDropdownListTemplate.TextContainerPostfix,displayType:b.UI.TextContainerTemplate.DisplayType.SingleLine,fadeMode:s},{parentComponent:Z}]);B=b.UI.Helpers.ControlHelper.createLinkedControl(at,{parentComponent:Z},af,f);k.DropDownShown.addHandler(G);k.DropDownHidden.addHandler(F);k.OptionClick.addHandler(K);k.VisualStateChanged.addHandler(P);}function j(){if(A){return;}A=true;g();Z.Dispose.fireHandlers();U.RenderComplete.removeHandler(N);U.Dispose.removeHandler(j);if(U.ValidationFailed){U.ValidationFailed.removeHandler(O);}if(U.EnabledStateChanged){U.EnabledStateChanged.removeHandler(M);}if(h){b.removeHandler(h,"click",E);}at=null;h=null;q=false;U=null;an=null;am=null;ar=null;B=null;p=null;s=null;Z.RenderComplete=null;Z.Dispose=null;Z.ValueChanged=null;Z.ValidationFailed=null;Z.EnabledStateChanged=null;Z.VisualStateChanged=null;}x();}})(window,WA);(function(f,d,c){if(!d.UI.WaDropdownListTemplate){d.UI.WaDropdownListTemplate=e;d.UI.WaDropdownListTemplate.TitlePostfix="_waDropdownListTitle";d.UI.WaDropdownListTemplate.TextContainerPostfix="_textContainer";d.UI.WaDropdownListTemplate.ToolTipPostfix="_toolTip";d.UI.WaDropdownListTemplate.createSummary=function(g){return"";};}function e(j,g){g=g||{};j.controlContainerDisplayType=j.controlContainerDisplayType?j.controlContainerDisplayType:d.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible;j.cssClass="waDropdownList"+(j.cssClass?" "+j.cssClass:"");d.UI.Helpers.ControlHelper.applyParentValueTemplateBehavior(j,g);var h=d.UI.ControlLayoutTemplate,i=a(j);j.layoutContentHTML=i;return h(j,g);}function a(h){var g=d.UI.ContainerTemplate,i=d.UI.TextContainerTemplate;return g({cssClass:"waDropdownListButton"+(h.disabled===true?" disabled":""),id:h.id,attr:{eventTags:h.attr?h.attr.eventTags:null,style:h.dropdownButtonMinWidth?"min-width: "+h.dropdownButtonMinWidth+"px;":"",onselectstart:"return false;"},contentHTML:g({cssClass:"waDropdownListTitleContainer",id:h.id+"_waDropdownListTitleContainer",attr:{eventTags:"waDropdownListTitleContainer"},contentHTML:g({cssClass:"waDropdownListTitle",id:h.id+d.UI.WaDropdownListTemplate.TitlePostfix,attr:{eventTags:h.eventTags},contentHTML:i({contentText:b(h.items),id:h.id+d.UI.WaDropdownListTemplate.TextContainerPostfix,displayType:d.UI.TextContainerTemplate.DisplayType.SingleLine,fadeMode:false})})})+g({cssClass:"waDropdownListArrow",id:h.id+"_waDropdownListArrow",attr:{eventTags:h.eventTags}})});}function b(j){if(d.getTypeString(j)=="array"){var g,k,h;for(g=0,k=j.length;g<k;g++){h=j[g];if(h.checked===true){return h.contentText;}}if(j.length>0){return j[0].contentText;}}return"";}})(window,WA);(function(d,c,b){if(!c.UI.BulletedDropDownListOption){c.UI.BulletedDropDownListOption=a;}function a(i,h){h=h||{};var n=this,p="WA.UI.BulletedDropDownListOption",q=i,m=h.parentComponent;n.toString=function(){return p;};n.RenderComplete=c.Tools.EventHandlers.createHandlers(n,{id:"RenderComplete"});n.Dispose=c.Tools.EventHandlers.createHandlers(n,{id:"Dispose"});n.OptionClick=c.Tools.EventHandlers.createHandlers(n,{id:"OptionClick"});n.ValueChanged=c.Tools.EventHandlers.createHandlers(n,{id:"ValueChanged"});var j=false,e;n.render=o;n.init=g;n.getName=function(){return q.attr.eventTags;};function o(){return c.UI.BulletedDropDownListOptionTemplate(q);}function l(s,r){e=c.$(q.id);c.addHandler(e,"click",k);n.RenderComplete.fireHandlers();}function k(r){var s=(q.attr.eventTags!=b)?q.attr.eventTags:(q.eventTags!=b)?q.eventTags:q.id;n.OptionClick.fireHandlers({eventTags:s});}function g(){m.RenderComplete.addHandler(l);m.Dispose.addHandler(f);}function f(){if(j){return;}n.Dispose.fireHandlers();m.RenderComplete.removeHandler(l);m.Dispose.removeHandler(f);c.removeHandler(e,"click",k);q=null;m=null;e=null;n.RenderComplete=null;n.Dispose=null;n.OptionClick=null;n.ValueChanged=null;j=true;}}})(window,WA);(function(d,c,b){if(!c.UI.BulletedDropDownListOptionTemplate){c.UI.BulletedDropDownListOptionTemplate=a;c.UI.BulletedDropDownListOptionTemplate.BulletedContainerIdPostfix="_bulletedContainer";}function a(g){var e=c.UI.BulletedContainerTemplate;return c.UI.ContainerTemplate({id:g.id,cssClass:"bulletedDropDownListOption"+(g.cssClass?" "+g.cssClass:""),attr:{eventTags:g.eventTags},contentHTML:c.UI.TextContainerTemplate({id:g.id+c.UI.FloatingToolBarDropDownOptionTemplate.OptionTitleIdPostfix,attr:{eventTags:g.eventTags},contentHTML:e({id:g.id+c.UI.BulletedDropDownListOptionTemplate.BulletedContainerIdPostfix,contentText:g.contentText,rightIcons:f(g)})})});function f(h){if(!h.iconType){return;}return[{iconType:h.iconType,iconSize:h.iconSize}];}}})(window,WA);(function(d,b,a){if(!b.UI.WaDropdownListOption){b.UI.WaDropdownListOption=c;}function c(n,m,B){m=m||{};var z=this,E="WA.UI.WaDropdownListOption",G=n,y=m.parentComponent,F,q=G.linkedControlContainerId;z.toString=function(){return E;};z.OptionClick=b.Tools.EventHandlers.createHandlers(z,{id:"OptionClick"});z.ValueChanged=b.Tools.EventHandlers.createHandlers(z,{id:"ValueChanged"});z.RenderComplete=b.Tools.EventHandlers.createHandlers(z,{id:"RenderComplete"});z.Dispose=b.Tools.EventHandlers.createHandlers(z,{id:"Dispose"});z.VisualStateChanged=b.Tools.EventHandlers.createHandlers(z,{id:"VisualStateChanged"});var f,o,p,x=m.optionsTextTemplate||null,e=m.childElementEventHandlers||{ValueChanged:u,VisualStateChanged:w};G.disabled=G.hasOwnProperty("disabled")?G.disabled:false;z.init=l;z.render=A;z.setValue=C;z.getValue=j;z.getName=function(){return G.attr.eventTags;};z.isSeparator=function(){return false;};function C(H){F.setValue(H);if(G.linkedControl&&H){g();D();z.RenderComplete.fireHandlers();}if(G.linkedControl&&!H){k();i();}}function g(){o=b.UI.Helpers.ControlHelper.createLinkedControl({id:G.id,linkedControl:b.Object.copy(G.linkedControl)},{parentComponent:z},B,e);}function i(){if(!o){return;}for(var H in e){if(e.hasOwnProperty(H)&&o.hasOwnProperty(H)){if(o[H]&&typeof o[H].removeHandler=="function"&&typeof e[H]=="function"){o[H].removeHandler(e[H]);}}}o.dispose();o=null;}function D(){p.innerHTML=b.UI.Helpers.ControlHelper.createLinkedControlHtml(G);b.Dom.removeClassName(p,"hidden");}function k(){if(!o){return;}b.Dom.removeClassName(p,"hidden");p.innerHTML="";}function j(){return F.getValue();}function A(){return b.UI.WaDropdownListOptionTemplate(G,x);}function v(I,H){f=b.$(G.id);p=b.$(q);if(!G.disabled){b.addHandler(f,"click",r);b.addHandler(f,"mouseover",t);b.addHandler(f,"mouseout",s);}else{if(G.disabledTooltip){f.setAttribute("title",G.disabledTooltip);}}z.RenderComplete.fireHandlers();}function t(H){b.Dom.addClassName(f,"mouseOver");}function s(H){b.Dom.removeClassName(f,"mouseOver");}function r(H){if(G.action){G.action();}var I=(G.attr.eventTags!=a)?G.attr.eventTags:(G.eventTags!=a)?G.eventTags:G.id;z.OptionClick.fireHandlers({eventTags:I});}function u(I,H){z.ValueChanged.fireHandlers();}function w(I,H){z.VisualStateChanged.fireHandlers();}function l(){y.RenderComplete.addHandler(v);y.Dispose.addHandler(h);F=b.UI.Helpers.ValueAccessorHelper.createValueAccessor(n,z);}function h(){z.Dispose.fireHandlers();y.RenderComplete.removeHandler(v);y.Dispose.removeHandler(h);if(f){b.removeHandler(f,"click",r);b.removeHandler(f,"mouseover",t);b.removeHandler(f,"mouseout",s);}G=null;y=null;f=null;p=null;o=null;z.OptionClick=null;z.RenderComplete=null;z.Dispose=null;z.VisualStateChanged=null;}}})(window,WA);(function(d,b,a){if(!b.UI.WaDropdownListOptionTemplate){b.UI.WaDropdownListOptionTemplate=c;}function c(f,g){g=g||b.UI.TextContainerTemplate;f.disabled=f.hasOwnProperty("disabled")?f.disabled:false;f.attr=f.attr||{};var e=f.attr.eventTags!=a?f.attr.eventTags:(f.eventTags!=a)?f.eventTags:f.id;return b.UI.ContainerTemplate({id:f.id,cssClass:"waDropDownListOption"+(f.checked===true?" selected":"")+(f.disabled?" disabled":"")+(f.isHidden===true?" hidden":""),attr:{eventTags:e},contentHTML:g({attr:{eventTags:e,style:f.cssStyle},contentText:f.contentText,contentHTML:f.contentHTML},f)});}})(window,WA);(function(c,a){if(!a.UI.WaitingMessageTemplate){a.UI.WaitingMessageTemplate=b;}function b(d){d=d||{};d.cssClass=d.cssClass||"";d.text=d.text||"Please wait...";var e=this,f="WA.UI.WaitingMessageTemplate";e.toString=function(){return f;};return a.UI.ContainerTemplate({id:d.id,cssClass:"waitingMessage "+d.cssClass,contentHTML:a.UI.TextContainerTemplate({contentText:d.text,cssClass:"gray small"})});}})(window,WA);(function(c,a){if(!c.WA.UI.WaLayer){a.UI.WaLayer=b;a.UI.WaLayer.TimeOut={FadingDuration:120,FadingFinish:17,Resizing:137};a.UI.WaLayer.CssClass={Base:"waLayer",Transparent:"waLayerTransparent",Shading:"waLayerShading"};}function b(f){f=f||{};var y=this,x=f.parentComponent,F="WA.UI.WaLayer",m=f.id||null,G=f.zIndex||0;y.toString=function(){return F;};var i=f.cssClass||null,o=false,j,q,E=a.UI.WaLayer.TimeOut,p=false,r="",w=a.Admin.Cms.Page.Components.Helper;y.Dispose=a.Tools.EventHandlers.createHandlers(y,{id:"Dispose"});y.LayerScroll=a.Tools.EventHandlers.createHandlers(y,{id:"LayerScroll"});y.getElement=l;y.addElementAsHtml=e;y.addChildElementAsHtml=d;y.removeChildElement=z;y.removeElement=A;function C(){if(c.contentarea&&c.contentarea.BonaPage&&c.contentarea.BonaPage.isObjValid){a.clearThrottle(C);q.style.left="-"+a.Window.getScrollLeft(c.contentarea)+"px";q.style.top="-"+a.Window.getScrollTop(c.contentarea)+"px";}else{a.throttle(C,{timeout:E.Resizing});}}function l(H){return(p&&a.$(H))||(q&&q.querySelector("[id="+H+"]"))||null;}function d(K,H){var J,I;if(p){J=l(K);a.Dom.insertAdjacentHTML(J,w.removeUnusedMarkers(H),"beforeEnd");}else{I=w.createTextMarker(K);r=r.replace(I,H+I);}}function z(K,H){var J=l(K);if(!J||!H){return;}var I=l(H.id);if(!I){return;}J.removeChild(I);I=J=null;}function e(I,H){if(p){a.Dom.insertAdjacentHTML(q,w.removeUnusedMarkers(I),"beforeEnd");}else{r+=I;}}function A(I){if(!q||!I){return;}var J=l(I.id);if(!J){return;}try{q.removeChild(J);}catch(H){}J=null;}function h(){q=document.createElement("DIV");q.className=a.UI.WaLayer.CssClass.Base;q.style.zIndex=G;if(m){q.id=m;}C();if(a&&a.AdminPanel){a.AdminPanel.ContentAreaResized.addHandler(C);a.AdminPanel.ContentAreaScrollStart.addHandler(u);a.AdminPanel.ContentAreaScrollFinish.addHandler(t);}else{a.addHandler(c,"resize",C);a.addHandler(c,"scroll",C);}}function v(){p=true;if(r){e(r);}j.appendChild(q);r=null;}function u(){a.UI.Animation.stop(q);a.UI.Animation.vivify(q,{opacity:0},{duration:E.FadingDuration,start:s,step:D,complete:B});}function t(){a.UI.Animation.stop(q);D();a.Dom.removeClassName(q,a.UI.WaLayer.CssClass.Transparent);B();}function s(){a.Dom.addClassName(q,a.UI.WaLayer.CssClass.Transparent);}function B(){q.style.mozOpacity="";q.style.khtmlOpacity="";q.style.opacity="";q.style.filter="";}function D(){C();y.LayerScroll.fireHandlers();}function g(){a.clearThrottle(C);}function n(){x.Dispose.addHandler(k);x.RenderComplete.addHandler(v);j=a.$("idAdminContentCutter");if(m){q=a.$(m);}if(!q){h();}if(i){a.Dom.addClassName(q,i);}}function k(){if(o){return;}g();y.Dispose.fireHandlers();x.Dispose.removeHandler(k);x.RenderComplete.removeHandler(v);if(a&&a.AdminPanel){a.AdminPanel.ContentAreaResized.removeHandler(C);a.AdminPanel.ContentAreaScrollStart.removeHandler(u);a.AdminPanel.ContentAreaScrollFinish.removeHandler(t);}else{a.removeHandler(c,"resize",C);a.removeHandler(c,"scroll",C);}try{j.removeChild(q);}catch(H){}q=j=null;o=true;p=false;y.Dispose=null;y.LayerScroll=null;}n();}})(window,WA);(function(c,b){if(!b.UI.DialogButtonsTemplate){b.UI.DialogButtonsTemplate=a;}function a(g){var d=[],e=b.UI.ButtonTemplate,f=b.UI.ContainerTemplate;d.push(f({cssClass:(g.cssClass==null?"actionButtons":"actionButtons "+g.cssClass),contentHTML:e({id:g.id+b.UI.DialogButtonsTemplate.SaveButtonPostfix,cssClass:"buttonSave",value:g.buttonSaveTitle})+e({id:g.id+b.UI.DialogButtonsTemplate.CancelButtonPostfix,cssClass:"buttonCancel",value:g.buttonCancelTitle})}));return d.join("");}b.UI.DialogButtonsTemplate.CancelButtonPostfix="_cancelButton";b.UI.DialogButtonsTemplate.SaveButtonPostfix="_saveButton";})(window,WA);(function(d,c){var b="WA.UI.BonaDialogWrapper";if(!d.WA.UI.BonaDialogWrapper){c.UI.BonaDialogWrapper=a;}function a(U,g,ao,al){g=g||{};var ap=this,V,af,ah,x,p,q,B,y,A,aE=false,h="idBaseIFrame_"+U,j="nmBaseIFrame_"+U,z="idWinReloadIFrameContainer_"+U,au="idReloadIFrame_"+U,av="nmReloadIFrame_"+U,u=g.directURL,ax=(g.reloadURLTemplate)?g.reloadURLTemplate:null,aw=(g.reloadURL)?g.reloadURL:null,P=(g.isReloadUrlLoad)?g.isReloadUrlLoad:false,Q=(g.isReloadUrlNotReload)?g.isReloadUrlNotReload:false,R=(g.isScrollable)?g.isScrollable:false,ay=(g.stateCookie)?g.stateCookie:null,an=(typeof(ao)=="function")?ao:null,ak=(typeof(al)=="function")?al:ap.closeWindow,az=null,am={},T,e=null,aI={},aJ={TitleRow:"titleRow",HeaderRow:"headerRow",MainRow:"mainRow",ActionRow:"actionRow",FooterRow:"footerRow"},f,r=null,s={isNotScrollable:true,waitMessageText:g.waitMessage,waitMessageImage:g.waitMessageImgURL,left:g.left,top:g.top,width:g.width,height:g.height,isModal:g.isModal,isMoveable:g.isMoveable,isResizeable:!!g.isResizeable,isResizeableX:!!g.isResizeable,isResizeableY:!!g.isResizeable,isMaximize:!!g.isMaximumSize,maxSizeMargin:g.maxSizeMargin||0,isScrollable:false,minWidth:g.minWidth,minHeight:g.minHeight,z:g.z,contentHTML:('<iframe id="'+h+'" name="'+j+'" src="'+u+'" frameborder="0" scrolling="no" style="position: absolute; left: 0px; top: 0px; width: '+g.width+"px; height: "+g.height+'background-color: #EFEFEF; -moz-border-radius: 0 0 5px 5px; -webkit-border-radius: 0 0 5px 5px; border-radius: 0 0 5px 5px; background-color: #FFFFFF; border: none; padding: 0px; margin: 0px; visibility: hidden;"></iframe>')},ae,I,aF={},aq=new RegExp("InnerWindows\\s*=\\s*[^;]*"+U+":([^&;]*)"),t=false;ap.toString=function(){return b;};ap.init=J;ap.dispose=v;ap.reInit=at;ap.isObjValid=false;ap.isDataValid=false;ap.openWindow=Y;ap.showDialog=aC;ap.refreshInnerWindow=ar;ap.closeWindow=m;ap.getReturnedParameters=C;ap.setReturnedParameters=aA;ap.updateParameters=aG;ap.getState=D;ap.gotoElement=G;ap.showLoadingMessage=aD;ap.hideLoadingMessage=H;ap.setDialogTitle=aB;ap.getWindow=E;ap.getTitleAttrs=function(){return aF;};function aD(){r.setWaitingState();}function H(){r.setNormalState();}function G(i,aM,aO,aP,aL,aN){if(!this.isObjValid||!p){return;}var aK;if(!aE){Y(aM,aO,aP,aL,aN);}if(i){aK=p.document.getElementById(i);p.scrollTo(0,c.Dimensions.getXY(aK).y);af.document.body.focus();}}function C(){return az;}function aA(i,aK){am[i]=aK;}function aH(){}function aG(aM){var aK=aM.callBackParameters,aL;r.setDialogSize(aM.width,aM.height);am=new Object();if(aK){for(aL in aK){if(typeof(aK[aL])!="function"){am[aL]=aK[aL];}}}else{am==null;}}function F(){T=aq.exec(document.cookie);if(T!=null&&T.length>1){e=T[1].split(/:/);}if(e&&e[1]!=null){ae.size.left=Number(e[1]);}if(e&&e[2]!=null){ae.size.top=Number(e[2]);}if(e&&e[3]!=null){ae.size.width=Number(e[3]);}else{ae.size.width=(ae.size.width)?Number(ae.size.width):500;}if(e&&e[4]!=null){ae.size.height=Number(e[4]);}else{ae.size.height=(winHeight)?Number(winHeight):300;}}function m(){BonaDialog.isDialogOpened=false;r.hide();if(!this.isObjValid){return false;}if(typeof(af.beforeCloseWindow)=="function"){af.beforeCloseWindow();}setTimeout(n,10);}function n(){c.removeHandler(((c.Browser.isIE)?af.document.body:af),"keypress",S);c.removeHandler("DialogCloseControl","click",ag,{objectId:ae.id});if(p&&p.document&&p.document.body){c.removeHandler(((c.Browser.isIE)?p.document.body:p),"keypress",S);r.setWaitingState();}V.style.visibility="hidden";if(typeof(af.afterCloseWindow)=="function"){af.afterCloseWindow();}setTimeout(function(){l(0);},100);}function aC(i){i=i||{};Y(i.pCallBackSaveNew||function(){ap.closeWindow();},i.pCallBackCloseNew||function(){ap.closeWindow();},i.newReloadUrl,i.winNewLeft,i.winNewTop,i.winNewWidth,i.winNewHeight,i.winNewTitle);}function ar(i){if(i){aw=i;}ap.isDataValid=false;r.setWaitingState();p.document.body.innerHTML="";ac();}function Y(aM,aL,aK,aQ,aS,aT,aP,aR,i,aN){BonaDialog.isDialogOpened=true;if(aR!=null&&aR!="undefined"){aB(aR);}r.addMainContainerCssClass("bonaDialogWrapper");ae.size.left=(aQ||aQ===0)?aQ:(ae.size.left||null);ae.size.top=(aS||aS===0)?aS:(ae.size.top||null);if(ae.flags.maximize&&!t&&!aT&&aT!==0&&!aP&&aP!==0){aT=c.Window.getInnerWidth()-2*ae.size.def.margin;aP=c.Window.getInnerHeight()-2*ae.size.def.margin;}r.setWaitingState();r.setDialogSize(aT,aP);r.show();if(aM&&typeof(aM)=="function"){an=aM;}if(aL&&typeof(aL)=="function"){ak=aL;}if(aK!=null&&aK!=""){aw=aK;}if(ax!=null&&ax!=""&&aN!=null&&aN!=""){var aO=c.String.format(ax,aN);if(aw!=aO){i=true;}aw=aO;}if(i!=null){f=i;}else{f=true;}ap.isDataValid=false;if(p&&!Q&&f){p.isIFrameLoaded=false;}k();}function k(){if(ap.isObjValid){az=new Object();if(am){for(I in am){if(typeof(am[I])!="function"){az[I]=am[I];}}af.callBackParameters=az;}af.callBackSave=an;af.callBackClose=ak;c.addHandler("DialogCloseControl","click",ag,{objectId:ae.id});if(typeof(af.beforeStartOpenWindow)=="function"){af.beforeStartOpenWindow();}Z();}else{setTimeout(function(){k();},100);}}function Z(){if(ap.isObjValid){setTimeout(aa,10);}else{setTimeout(function(){Z();},100);}}function aa(){if(aw&&p&&!Q&&f){p.document.body.style.visibility="hidden";}setTimeout(ab,10);}function ab(){var i=c.Dimensions.getElementBox(V.parentNode);if(aw&&!Q&&f){r.setWaitingState();}if(!c.Browser.isIE||c.Browser.isIE>8){V.style.width=i.innerOffsetWidth+"px";V.style.height=i.innerOffsetHeight+"px";}V.style.visibility="visible";if(typeof(af.refreshState)=="function"){af.refreshState();}c.addHandler(((c.Browser.isIE)?af.document.body:af),"keypress",S);af.focus();l(1);if(aw&&!Q&&f){setTimeout(ac,10);}else{r.setNormalState();}}function l(i){aE=(i)?true:false;}function D(){return aE;}function ac(){if(p&&typeof p.location=="string"){p.isIFrameLoaded=false;p.location.replace(aw);}else{o();}setTimeout(ad,100);}function ad(){if(aw&&!ap.isDataValid){setTimeout(ad,100);return;}if(p&&p.document&&p.document.body){c.addHandler(((c.Browser.isIE)?p.document.body:p),"keypress",S);}r.setNormalState();}function S(i){if(i&&i.keyCode==27){af.callBackClose();}}function aB(i){r.setTitle(i);}function E(){return ap;}function J(){L();if(false&&ay){F();}if(g.callBackParameters){for(I in g.callBackParameters){if(typeof(g.callBackParameters[I])!="function"){am[I]=g.callBackParameters[I];}}}else{am=null;}af=frames[j];V=c.$(h);V.style.width="100%";V.style.height="100%";r.BeforeWindowHide.addHandler(W);r.Resized.addHandler(X);ai();}function L(){if(!r){r=c.UI.WaWindowManager.createDialog(U,s);r.setTitle(s.titleText);ae=r.getParameters();}}function v(){r.BeforeWindowHide.removeHandler(W);r.Resized.removeHandler(X);w();}function at(){}function ai(){var aM,aO,aK,aQ,aS,aR,aT,aN,aP=true;try{aP=!af.document||!af.document.getElementById("idEndOfPageDiv");}catch(aL){}if(aP){setTimeout(ai,100);return;}af.parentId=U;af.innerIFrame=null;if(c.Browser.isIE&&c.Browser.isIE<9){af.document.documentElement.style.height="100%";af.document.body.style.height="100%";}if(an){af.callBackSave=an;}if(ak){af.callBackClose=ak;}ah=af.document.body.getElementsByTagName("TABLE")[0];aQ=ah.rows[0];aS=c.$("idTitleContainerTD",af);aT=(typeof(aQ.textContent)!="undefined")?aQ.textContent:aQ.innerText;if(aS){aR=aS.getElementsByTagName("SPAN")[0];if(aR){for(aN=aR.attributes.length;aN--;){aF[aR.attributes[aN].nodeName.toLowerCase()]=aR.attributes[aN].value;}aT=aR.innerHTML;}}aT=c.String.gtrim(aT);if(aT){aB(aT);}ah.deleteRow(0);ah.deleteRow(ah.rows.length-1);for(aM=ah.rows.length;aM--;){aK=ah.rows[aM].cells[0].getElementsByTagName("TABLE")[0];if(aK){for(aO=aK.rows.length;aO--;){aK.rows[aO].deleteCell(0);aK.rows[aO].deleteCell(aK.rows[aO].cells.length-1);}}}aj();if(aw&&P){o();}ap.isObjValid=true;}function aj(){var i=af.document.body.getElementsByTagName("*"),aK;aI={};for(I=0;I<i.length;I++){if(i[I].getAttribute("iwtype",0)!=null){aK=i[I].getAttribute("iwtype",0);if(aJ[aK]){aI[aJ[aK]]=new Object();aI[aJ[aK]].element=i[I];aI[aJ[aK]].innerTable=aI[aJ[aK]].element.getElementsByTagName("TABLE")[0];}else{if(aK=="CloseButton"){i[I].onclick=function(){af.callBackClose(ap);};i[I].style.cursor=(c.Browser.isIE)?"hand":"pointer";}else{if(aK=="InnerIFrameContainer"){x=i[I];x.id=z;aI.mainRow=new Object();aI.mainRow.element=i[I];while((aI.mainRow.element=aI.mainRow.element.parentNode).nodeName.toUpperCase()!="TD"){}aI.mainRow.innerTable=aI.mainRow.element.getElementsByTagName("TABLE")[0];aI.scrollableContainer=new Object();aI.scrollableContainer.element=null;A=x.innerHTML;if(aw){x.innerHTML='<div id="idHWinScrollableDiv" class="hWinScrollableDiv">&nbsp;</div>';}else{aI.scrollableContainer.element=af.document.getElementById("idHWinScrollableDiv");if(c.Browser.isGecko&&!ae.flags.resizeable){if(!aI.scrollableContainer.element){x.innerHTML='<div id="idHWinScrollableDiv" class="hWinScrollableDiv"></div>';}else{A=null;}setTimeout(M,10);}else{if(!aI.scrollableContainer.element){x.innerHTML='<div id="idHWinScrollableDiv" class="hWinScrollableDiv">'+A+"</div>";}setTimeout(O,10);}}aI.scrollableContainer.element=af.document.getElementById("idHWinScrollableDiv");B=x.offsetWidth;y=x.offsetHeight;if(c.Browser.isIE&&c.Browser.isIE<9){aI.scrollableContainer.element.style.overflow="hidden";aI.scrollableContainer.element.style.overflowY="hidden";}}}}}}}function ag(){af.callBackClose(ap);}function o(){if(ap.isObjValid&&x){if(c.Browser.isSafari&&!c.Browser.isTouchEventsSupported&&!c.Device.isIOS){aI.scrollableContainer.element.style.overflow="visible";}var i=new Array();i.push('<iframe id="');i.push(au);i.push('" name="');i.push(av);i.push('" src="');i.push(aw);i.push('" width="100%" height="');i.push("100%");i.push('" frameborder="0" ');if(R){i.push('scrolling="auto"');}else{i.push('scrolling="no"');}i.push(' style="background-color: #FFFFFF;"></iframe>');aI.mainRow.innerTable.style.height="";aI.scrollableContainer.element.innerHTML=i.join("");if(aI.mainRow&&aI.mainRow.innerTable){aI.mainRow.innerTable.style.height=aI.mainRow.element.offsetHeight+"px";}p=af.frames[av];af.innerIFrame=p;q=af.document.getElementById(au);setTimeout(K,100);}else{setTimeout(o,100);}}function K(){if(p&&p.document&&p.document.body&&p.document.body.innerHTML&&p.document.body.innerHTML.match(/\S/)){p.parentId=U;p.outerIFrame=af;c.addHandler(p,"unload",function(){setTimeout(K,100);});ap.isDataValid=true;if(e&&e[0]==1){ap.openWindow();p.scrollTo(((e[5])?e[5]:0),((e[6])?e[6]:0));}}else{setTimeout(K,100);}}function M(){ah.removeAttribute("height",0);aI.mainRow.element.removeAttribute("height",0);aI.mainRow.innerTable.removeAttribute("height",0);aI.scrollableContainer.element.style.height="1px";V.style.visibility="visible";setTimeout(N,10);}function N(){ah.setAttribute("height","100%",0);aI.mainRow.element.setAttribute("height","100%",0);aI.mainRow.innerTable.setAttribute("height","100%",0);aI.scrollableContainer.element.style.height=x.offsetHeight+"px";y=x.offsetHeight;if(y>aI.scrollableContainer.element.offsetHeight){V.style.width=(ae.size.width+c.Window.getScrollBarWidth())+"px";}V.style.visibility="hidden";if(A){aI.scrollableContainer.element.innerHTML=A;}}function O(){if(aI.scrollableContainer.element.scrollHeight>aI.scrollableContainer.element.offsetHeight){V.style.width=(ae.size.width+c.Window.getScrollBarWidth())+"px";}}function X(){t=true;}function W(){if(!ap.isObjValid){return;}if(ay&&p){var aK,i=new Array(),aL=U+":"+((aE)?1:0)+":"+ae.size.left+":"+ae.size.top+":"+ae.size.width+":"+ae.size.height+":"+p.document.body.scrollLeft+":"+p.document.body.scrollTop;T=document.cookie.match(/InnerWindows=([^;]*)/);if(T&&T.length&&T.length>1){i=T[1].split(/&/);for(aK=0;aK<i.length;aK++){if(i[aK].indexOf(U)!=-1){i[aK]=aL;break;}}if(aK==i.length){i.push(aL);}}else{i.push(aL);}document.cookie="InnerWindows="+i.join("&")+";path=/";}}function w(){if(af){if(af.parentId){af.parentId=null;}if(af.innerIFrame){af.innerIFrame=null;}if(af.stopProp){af.stopProp=null;}}if(p){if(p.parentId){p.parentId=null;}if(p.outerIFrame){p.outerIFrame=null;}}}J();}})(window,WA);(function(c,a){if(!a.UI.WaDialog){a.UI.WaDialog=b;}if(!a.UI.WaDialog.TipType){a.UI.WaDialog.TipType={Attention:"attention"};}function b(X,j){j=j||null;var ad=this,k=a.Object.create(a.UI.WaWindowNew,ad,arguments);ad.init=N;ad.dispose=I;ad.reInit=ae;ad.show=au;ad.hide=M;ad.initBody=O;ad.activateTab=d;ad.setTitle=aq;ad.setTitleInfo=at;ad.setTip=ap;ad.removeTip=af;ad.scrollToElement=ai;ad.scrollToFirstError=aj;ad.getContentContainerId=function(){return az.contentBox.id;};ad.setHeader=function(aF,aE){ak("header",k.setHeader,v,aF,aE);};ad.setContent=function(aF,aE){ak("content",k.setContent,p,aF,aE);};ad.setFooter=function(aF,aE){ak("footer",k.setFooter,u,aF,aE);};ad.calcHeader=function(){ad.InitedBody.addHandler(v);};ad.calcContent=function(){ad.InitedBody.addHandler(p);};ad.calcFooter=function(){ad.InitedBody.addHandler(u);};ad.setDialogSize=al;ad.addMainContainerCssClass=f;ad.Cancel=a.Tools.EventHandlers.createHandlers(ad,{id:"Cancel"});ad.Resized=a.Tools.EventHandlers.createHandlers(ad,{id:"Resized"});ad.RecalculatedSize=a.Tools.EventHandlers.createHandlers(ad,{id:"RecalculatedSize"});ad.InitedBody=a.Tools.EventHandlers.createHandlers(ad,{id:"InitedBody",type:a.Tools.EventHandlers.Type.Long});ad.RenderComplete=a.Tools.EventHandlers.createHandlers(ad,{id:"RenderComplete"});ad.Dispose=a.Tools.EventHandlers.createHandlers(ad,{id:"Dispose"});ad.DialogTabActivating=a.Tools.EventHandlers.createHandlers(ad,{id:"DialogTabActivating"});ad.DialogTabActivated=a.Tools.EventHandlers.createHandlers(ad,{id:"DialogTabActivated"});var aa=ad.params,az=ad.structure,ah,aB={timeout:37},aC={timeout:150},aA=null,H=null,S=!a.Browser.isCssStyleSupported("border-radius"),y=null,T=false;function f(aE){a.Dom.addClassName(az.mainContainer,aE);}function al(aG,aE){var aF=false;if(aG){an(aG);aF=true;}if(aE){am(aE);aF=true;}if(aF){ad.Resized.fireHandlers();ad.RecalculatedSize.fireHandlers();}}function ai(aE,aF){a.scrollToElement(aE,{scrollableArea:az.contentContainer.id,offset:aF});}function aj(){var aE=az.contentContainer.querySelectorAll(".error");if(aE&&aE.length>0){ai(aE[0],0);}}function Z(aF,aE){ad.DialogTabActivating.fireHandlers(aE);}function Y(aF,aE){ad.DialogTabActivated.fireHandlers(aE);}function ae(){}function ab(){k.parse("idDialog");if(S){ac();}Q();}function ac(){var aE;if("ToDoVisible" in az.parseTags){for(aE=az.parseTags.ToDoVisible.length;aE--;){az.parseTags.ToDoVisible[aE].style.visibility="visible";}}}function Q(){aa.size.width=aa.size.def.width;aa.size.height=aa.size.def.height;aa.size.minWidth=aa.size.def.minWidth;aa.size.minHeight=aa.size.def.minHeight;aa.size.maxWidth=aa.size.def.maxWidth;aa.size.maxHeight=aa.size.def.maxHeight;aa.size.leftEdgeWidth=az.leftEdge.offsetWidth;aa.size.rightEdgeWidth=az.rightEdge.offsetWidth;aa.size.topEdgeHeight=az.topEdge.offsetHeight;aa.size.bottomEdgeHeight=az.bottomEdge.offsetHeight;aa.size.edgeDeltaWidth=aa.size.leftEdgeWidth+aa.size.rightEdgeWidth;aa.size.edgeDeltaHeight=aa.size.topEdgeHeight+aa.size.bottomEdgeHeight;aa.size.edgeInnerWidth=aa.size.width-aa.size.edgeDeltaWidth;aa.size.edgeInnerHeight=aa.size.height-aa.size.edgeDeltaHeight;aa.size.containerBorderWidth=a.Style.getElementStyleInt(az.container,"borderLeftWidth");aa.size.containerDeltaWidth=aa.size.edgeDeltaWidth+aa.size.containerBorderWidth*2;aa.size.containerDeltaHeight=aa.size.edgeDeltaHeight+aa.size.containerBorderWidth*2;aa.size.headHeight=az.outerHeadContainer.offsetHeight;aa.size.innerDeltaWidth=aa.size.containerDeltaWidth;aa.size.innerDeltaHeight=aa.size.containerDeltaHeight+aa.size.headHeight;aa.size.titleDeltaWidth=aa.size.innerDeltaWidth+az.innerHeadContent?az.innerHeadContent.offsetLeft:20+a.Style.getElementStyleInt(az.controlClose,"right")+az.controlClose.offsetWidth+7;aa.size.contentBoxSize=a.Dimensions.getElementBox(az.contentBox);i();O();}function i(){az.mainContainer.style.width=aa.size.width+"px";az.mainContainer.style.height=aa.size.height+"px";az.controlsContainer.style.width=aa.size.width+"px";az.controlsContainer.style.height=aa.size.height+"px";az.roundedBoxContainer.style.width=aa.size.width+"px";az.roundedBoxContainer.style.height=aa.size.height+"px";az.roundedBox.style.width=aa.size.width+"px";az.roundedBox.style.height=aa.size.height+"px";az.leftEdge.style.height=aa.size.edgeInnerHeight+"px";az.rightEdge.style.height=aa.size.edgeInnerHeight+"px";az.topEdge.style.width=aa.size.edgeInnerWidth+"px";az.bottomEdge.style.width=aa.size.edgeInnerWidth+"px";az.container.style.width=(aa.size.width-aa.size.innerDeltaWidth)+"px";az.container.style.height=(aa.size.height-aa.size.containerDeltaHeight)+"px";if(az.titleText){az.titleText.style.width=(aa.size.width-aa.size.titleDeltaWidth)+"px";}if(S){R();}az.messageContainer.style.width=(aa.size.width-aa.size.innerDeltaWidth)+"px";az.messageContainer.style.height=(aa.size.height-aa.size.innerDeltaHeight)+"px";az.waitMessage.style.left=Math.floor((aa.size.width-aa.size.innerDeltaWidth-az.waitMessage.offsetWidth)/2)+"px";az.waitMessage.style.top=Math.floor((aa.size.height-aa.size.innerDeltaHeight-az.waitMessage.offsetHeight)/2)+"px";az.errorMessage.style.left=Math.floor((aa.size.width-aa.size.innerDeltaWidth-az.errorMessage.offsetWidth)/2)+"px";az.errorMessage.style.top=Math.floor((aa.size.height-aa.size.innerDeltaHeight-az.errorMessage.offsetHeight)/2)+"px";}function R(){az.roundedBox.style.left="4px";az.roundedBox.style.top="4px";s(aa.size.width,aa.size.height);}function r(aG){var aI,aH;if(aa.flags.initMaximize&&!k.isSetUserSize){var aF=a.Window.getInnerWidth(),aE=a.Window.getInnerHeight();aI=aF-aa.size.def.marginMaximize*2;if(aa.size.minWidth&&aI<aa.size.minWidth){aI=aa.size.minWidth;}an(aI);aH=((!a.Browser.isSafari)?aE:aE+7)-aa.size.def.marginMaximize*2;if(aa.size.minHeight&&aH<aa.size.minHeight){aH=aa.size.minHeight;}am(aH);aa.size.left=null;aa.size.top=null;q(aG);ad.RecalculatedSize.fireHandlers();a.throttle(K,aB);return;}aI=L(aa.size.init.width,aa.size.init.widthUnits,"x");an(aI);aH=L(aa.size.init.height,aa.size.init.heightUnits,"y");am(aH);q(aG);}function L(aH,aG,aE){if(!aG&&aG!==undefined){return aH;}var aI=aE.toLowerCase()=="x"?"width":"height",aJ=a.Dimensions.getViewport()[aI],aF;if(aG=="%"){return Math.round(aJ*aH/100);}aH=Math.min(aH,aJ);aF=(aI=="width")?aa.size.minWidth:aa.size.minHeight;return Math.max(aH,aF);}function s(aF,aE){if(S){if(aF!==null){az.roundedBox.style.width=(aF-8)+"px";az.roundedBoxTop1.style.width=(aF-8)+"px";az.roundedBoxTop2.style.width=(aF-4)+"px";az.roundedBoxBottom2.style.width=(aF-4)+"px";az.roundedBoxBottom1.style.width=(aF-8)+"px";az.roundedBoxShadow.style.width=aF+"px";az.outerHeadContainerShadow.style.width=(aF-aa.size.edgeDeltaWidth-aa.size.containerBorderWidth*2)+"px";}if(aE!==null){az.roundedBox.style.height=(aE-8)+"px";az.roundedBoxLeft1.style.height=(aE-8)+"px";az.roundedBoxLeft2.style.height=(aE-4)+"px";az.roundedBoxRight2.style.height=(aE-4)+"px";az.roundedBoxRight1.style.height=(aE-8)+"px";az.roundedBoxShadow.style.height=aE+"px";}}}function O(){ad.parseBody(az.headerContainer);ad.parseBody(az.contentContainer);ad.parseBody(az.footerContainer);P();}function P(){aa.size.bodyContainer=a.Dimensions.getElementBox(az.bodyContainer);v(true);p(true);u(true);o();e();ad.InitedBody.fireHandlers();}function v(aE){aa.size.outerHeaderContainer=a.Dimensions.getElementBox(az.outerHeaderContainer);aa.size.headerContainer=a.Dimensions.getElementBox(az.headerContainer);if(aE!==true){o();}l("header");}function p(aE){K();if(aE!==true){o();}l("content");}function K(){aa.size.outerContentContainer=a.Dimensions.getElementBox(az.outerContentContainer);aa.size.contentContainer=a.Dimensions.getElementBox(az.contentContainer);}function u(aE){aa.size.outerFooterContainer=a.Dimensions.getElementBox(az.outerFooterContainer);aa.size.footerContainer=a.Dimensions.getElementBox(az.footerContainer);if(aE!==true){o();}l("footer");}function o(){aa.size.bodyDeltaWidth=aa.size.innerDeltaWidth+aa.size.bodyContainer.deltaWidth;aa.size.bodyDeltaHeight=aa.size.innerDeltaHeight+aa.size.bodyContainer.deltaHeight;aa.size.outerContentContainer.sumDeltaHeight=aa.size.bodyDeltaHeight+aa.size.outerContentContainer.deltaHeight+aa.size.outerHeaderContainer.realOffsetHeight+aa.size.outerFooterContainer.realOffsetHeight;aa.size.contentContainer.sumDeltaHeight=aa.size.outerContentContainer.sumDeltaHeight+aa.size.contentContainer.deltaHeight;az.bodyContainer.style.width=(aa.size.width-aa.size.bodyDeltaWidth)+"px";az.bodyContainer.style.height=(aa.size.height-aa.size.bodyDeltaHeight)+"px";az.outerContentContainer.style.height=(aa.size.height-aa.size.outerContentContainer.sumDeltaHeight)+"px";az.contentContainer.style.height=(aa.size.height-aa.size.contentContainer.sumDeltaHeight)+"px";az.contentBox.style.height=(aa.size.height-aa.size.contentContainer.sumDeltaHeight-aa.size.contentBoxSize.deltaHeight)+"px";}function m(aR){var aJ,aM,aK,aL,aF,aG,aO,aP,aN,aS,aT,aQ,aH,aE;if(!("parseTags" in az.ext[aR])){return;}if("BeforeFitWidth" in az.ext[aR].parseTags){aI("BeforeFitWidth");}if("AutoFitWidth" in az.ext[aR].parseTags){if(!("autoFitWidth" in az.ext[aR])){az.ext[aR].autoFitWidth=[];for(aJ=az.ext[aR].parseTags.AutoFitWidth.length;aJ--;){aF=az.ext[aR].parseTags.AutoFitWidth[aJ];aO=aF.parentNode;aN=aF.getAttribute("nodeLevel",0);if(aN!=null&&aN!=""&&!az.ext[aR].autoFitWidth[aN]){az.ext[aR].autoFitWidth[aN]=[];}if(!("autoFitWidthIndex" in aO)){aO.autoFitWidthIndex=az.ext[aR].autoFitWidth[aN].length;}aE=aO.autoFitWidthIndex;if(!az.ext[aR].autoFitWidth[aN][aE]){az.ext[aR].autoFitWidth[aN][aE]={};az.ext[aR].autoFitWidth[aN][aE].parentElement=aO;az.ext[aR].autoFitWidth[aN][aE].elements=[];}az.ext[aR].autoFitWidth[aN][aE].elements.push(aF);}}for(aJ=0,aL=az.ext[aR].autoFitWidth.length;aJ<aL;aJ++){if(!az.ext[aR].autoFitWidth[aJ]){continue;}for(aM=az.ext[aR].autoFitWidth[aJ].length;aM--;){aO=az.ext[aR].autoFitWidth[aJ][aM].parentElement;aP=a.Dimensions.getElementBox(aO);if(!aO.hasAttribute("data-fixedChildWidth")){aT=0;aS=aO.firstChild;while(aS){aQ=aS.getAttribute("parseTags",0);if(!aQ||aQ.indexOf("AutoFitWidth")===-1){aT+=aS.offsetWidth||0;aT+=a.Style.getElementStyleInt(aS,"marginLeft");aT+=a.Style.getElementStyleInt(aS,"marginRight");}aS=aS.nextSibling;}aO.setAttribute("data-fixedChildWidth",aT);}aH=Math.floor((aO.offsetWidth-aP.deltaInnerWidth-aO.getAttribute("data-fixedChildWidth"))/az.ext[aR].autoFitWidth[aJ][aM].elements.length);for(aK=az.ext[aR].autoFitWidth[aJ][aM].elements.length;aK--;){aF=az.ext[aR].autoFitWidth[aJ][aM].elements[aK];aG=a.Dimensions.getElementBox(aF);aF.style.width=(aH-aG.deltaWidth)+"px";}}}}if("FitWidth" in az.ext[aR].parseTags){aI("FitWidth");}function aI(aZ){var aW,aU,aV,aX,aY;for(aW=az.ext[aR].parseTags[aZ].length;aW--;){aU=az.ext[aR].parseTags[aZ][aW];aV=a.Dimensions.getElementBox(aU);aX=aU.parentNode;aY=a.Dimensions.getElementBox(aX);aU.style.width=(aX.offsetWidth-aY.deltaInnerWidth-aV.deltaWidth)+"px";}}}function n(aR){var aJ,aM,aK,aL,aF,aG,aO,aP,aN,aS,aT,aQ,aH,aE;if(!("parseTags" in az.ext[aR])){return;}if("BeforeFitHeight" in az.ext[aR].parseTags){aI("BeforeFitHeight");}if("AutoFitHeight" in az.ext[aR].parseTags){if(!("autoFitHeight" in az.ext[aR])){az.ext[aR].autoFitHeight=[];for(aJ=az.ext[aR].parseTags.AutoFitHeight.length;aJ--;){aF=az.ext[aR].parseTags.AutoFitHeight[aJ];aO=aF.parentNode;aN=aF.getAttribute("nodeLevel",0);if(aN!=null&&aN!=""&&!az.ext[aR].autoFitHeight[aN]){az.ext[aR].autoFitHeight[aN]=[];}if(!("autoFitHeightIndex" in aO)){aO.autoFitHeightIndex=az.ext[aR].autoFitHeight[aN].length;}aE=aO.autoFitHeightIndex;if(!az.ext[aR].autoFitHeight[aN][aE]){az.ext[aR].autoFitHeight[aN][aE]={};az.ext[aR].autoFitHeight[aN][aE].parentElement=aO;az.ext[aR].autoFitHeight[aN][aE].elements=[];}az.ext[aR].autoFitHeight[aN][aE].elements.push(aF);}}for(aJ=0,aL=az.ext[aR].autoFitHeight.length;aJ<aL;aJ++){if(!az.ext[aR].autoFitHeight[aJ]){continue;}for(aM=az.ext[aR].autoFitHeight[aJ].length;aM--;){aO=az.ext[aR].autoFitHeight[aJ][aM].parentElement;aP=a.Dimensions.getElementBox(aO);if(!aO.hasAttribute("data-fixedChildHeight")){aT=0;aS=aO.firstChild;while(aS){aQ=aS.getAttribute("parseTags",0);if(!aQ||aQ.indexOf("AutoFitHeight")===-1){aT+=aS.offsetHeight?aS.offsetHeight:0;aT+=a.Style.getElementStyleInt(aS,"marginTop");aT+=a.Style.getElementStyleInt(aS,"marginBottom");}aS=aS.nextSibling;}aO.setAttribute("data-fixedChildHeight",aT);}aH=Math.floor((aO.offsetHeight-aP.deltaInnerHeight-aO.getAttribute("data-fixedChildHeight"))/az.ext[aR].autoFitHeight[aJ][aM].elements.length);for(aK=az.ext[aR].autoFitHeight[aJ][aM].elements.length;aK--;){aF=az.ext[aR].autoFitHeight[aJ][aM].elements[aK];aG=a.Dimensions.getElementBox(aF);aF.style.height=(aH-aG.deltaHeight)+"px";}}}}if("FitHeight" in az.ext[aR].parseTags){aI("FitHeight");}function aI(aZ){var aW,aU,aV,aX,aY;for(aW=az.ext[aR].parseTags[aZ].length;aW--;){aU=az.ext[aR].parseTags[aZ][aW];aV=a.Dimensions.getElementBox(aU);aX=aU.parentNode;aY=a.Dimensions.getElementBox(aX);aU.style.height=(aX.offsetHeight-aY.deltaInnerHeight-aV.deltaHeight)+"px";}}}function l(aE){m(aE);n(aE);ad.RecalculatedSize.fireHandlers();}function e(){var aE=a.$("idMainContainerForWADialogs");if(aE||!a.Device.isIOS){a.addHandler("DialogMoveControl",(a.Device.isDesktop?"mousedown":"touchstart"),B,{objectId:aa.id,container:aE});}else{a.addHandler("DialogMoveControl","mousedown",B,{objectId:aa.id});}if(aa.flags.resizeable){a.addHandler("DialogSizeControl","mousedown",C,{objectId:aa.id});az.controlsContainer.style.visibility="visible";}else{az.controlsContainer.style.visibility="hidden";}if(az.controlClose!=undefined){y=a.$(az.controlClose.id,c);a.addHandler(y,"click",G);}}function G(){ad.Cancel.fireHandlers();ad.setNormalState();M();}function ak(aI,aF,aG,aH,aE){aE=aE||{};aa.size[aI+"OuterWidth"]=aE.outerWidth||null;aa.size[aI+"OuterHeight"]=aE.outerHeight||null;aa.size[aI+"Width"]=aE.width||null;aa.size[aI+"Height"]=aE.height||null;aF(aH);ad.InitedBody.addHandler(function(){a.throttle(aG,aB);},{handlerName:aI+"CalcHandler"});}function q(aF){var aJ=a.Window.getWindowSizes(),aG=az.mainContainer.offsetLeft,aH=az.mainContainer.offsetTop,aI=az.mainContainer.offsetWidth,aE=az.mainContainer.offsetHeight;if(a.Device.isDesktop){aa.size.left=(aa.size.left==null)?((aJ.clientWidth>aI)?Math.floor((aJ.clientWidth-aI)/2):0):aG;aa.size.top=(aa.size.top==null)?((aJ.clientHeight>aE)?Math.floor((aJ.clientHeight-aE)/2):0):aH;if(aa.size.left<0-aI+73){aa.size.left=0-aI+73;}if(aa.size.top<0){aa.size.top=0;}if(aa.size.left>aJ.clientWidth-73){aa.size.left=aJ.clientWidth-73;}if(aa.size.top>aJ.clientHeight-73){aa.size.top=aJ.clientHeight-73;}}else{az.mainContainer.style.position="absolute";if(aF){aa.size.left=aG;aa.size.top=aH;}else{if(aJ.innerWidth>aI){aa.size.left=Math.floor((aJ.innerWidth-aI)/2)+aJ.scrollLeft;}else{if(aJ.scrollWidth>aJ.scrollLeft+aI){aa.size.left=aJ.scrollLeft;}else{aa.size.left=aJ.scrollWidth-aI;}}if(aJ.innerHeight>aE){aa.size.top=Math.floor((aJ.innerHeight-aE)/2)+aJ.scrollTop;}else{if(aJ.scrollHeight>aJ.scrollTop+aE){aa.size.top=aJ.scrollTop;}else{aa.size.top=aJ.scrollHeight-aE;}}}if(aa.size.left>aJ.scrollWidth-aI){aa.size.left=aJ.scrollWidth-aI;}if(aa.size.left<0){aa.size.left=0;}if(aa.size.top>aJ.scrollHeight-aE){aa.size.top=aJ.scrollHeight-aE;}if(aa.size.top<0){aa.size.top=0;}}az.mainContainer.style.left=aa.size.left+"px";az.mainContainer.style.top=aa.size.top+"px";}function x(){if(!aa.size.contentContainer){}else{if(az.contentContainer.offsetWidth!=aa.size.contentContainer.offsetWidth||az.contentContainer.offsetHeight!=aa.size.contentContainer.offsetHeight||az.contentContainer.scrollWidth!=aa.size.contentContainer.scrollWidth||az.contentContainer.scrollHeight!=aa.size.contentContainer.scrollHeight){p(false);}}a.throttle(x,aB);}function au(){if(aa.state.visible){return;}ad.BeforeWindowShow.fireHandlers();az.mainContainer.style.left=(aa.size.left||0)+"px";az.mainContainer.style.top=(aa.size.top||0)+"px";r();q();x();k.show();if(aa.flags.windowResizeWatcherEnabled===true){c.onresize=t;}}function t(aE){if(aE===true){c.onresize=null;a.clearThrottle(r);return;}a.throttle(r,aC);}function M(){if(!aa.state.visible){return;}ad.BeforeWindowHide.fireHandlers();aa.size.left=az.mainContainer.offsetLeft;aa.size.top=az.mainContainer.offsetTop;a.clearThrottle(x);k.hide();if(aa.flags.windowResizeWatcherEnabled===true){t(true);}if(a.Device.isMobile){a.removeGlobalHandler(X+"WindowResize");a.removeGlobalHandler(X+"WindowScroll");}}var U=null,W={pushMouseLeftButton:false,isTouch:false,screenX:0,screenY:0,x:0,y:0,control:0},D={HeadContainer:1,LeftEdge:2,RightEdge:3,TopEdge:4,BottomEdge:5,TopLeftCorner:6,TopRightCorner:7,BottomLeftCorner:8,BottomRightCorner:9},ay=null;function B(aF,aE){W.control=1;W.isTouch=(aF.type==="touchstart");W.windowSizes=a.Window.getWindowSizes(c);av(aF);}function C(aF,aE){var aI,aG=aE.element,aH=aE.eventTags.split(/\s+/);for(aI=aH.length;aI--;){if(aH[aI] in D){W.control=D[aH[aI]];av(aF);break;}}}function av(aE){if(T){return;}var aF=(a.Browser.isIE&&a.Browser.isIE<9)?"document":"window";if(aE.button===0||aE.button===1||(W.isTouch&&aE.changedTouches&&aE.changedTouches.length===1)){T=true;a.stopEvent(aE);W.pushMouseLeftButton=true;W.screenX=(W.isTouch?aE.changedTouches[0].screenX:aE.screenX);W.screenY=(W.isTouch?aE.changedTouches[0].screenY:aE.screenY);W.x=W.screenX;W.y=W.screenY;a.addGlobalHandler(aF,(a.Device.isDesktop?"mousemove":"touchmove"),z,X+"MouseMoveInAllWindow",{});a.addGlobalHandler(aF,(a.Device.isDesktop?"mouseup":"touchend"),A,X+"MouseUpInAllWindow",{});if(a.Device.isMobile){}c.document.body.style.MozUserSelect="none";c.document.body.style.WebkitUserSelect="none";c.document.body.style.userSelect="none";a.addHandler(c.document.body,"selectstart",a.stopEvent);if(a.Device.isDesktop){ax(false);}}}function z(aE){aE=a.getEvent(aE,c);if(!aE){return;}W.screenX=(W.isTouch?aE.changedTouches[0].screenX:aE.screenX);W.screenY=(W.isTouch?aE.changedTouches[0].screenY:aE.screenY);a.stopEvent(aE);if(a.Device.isMobile){V();}}function ax(aE){if(W.control===1){V();}else{ag();}if(aE!==true){if(ay){clearTimeout(ay);}ay=setTimeout(ax,37);}}function V(){var aE=W.screenX,aF=W.screenY;if(ay){clearTimeout(ay);}aa.size.left=az.mainContainer.offsetLeft+(aE-W.x);aa.size.top=az.mainContainer.offsetTop+(aF-W.y);if(a.Device.isMobile){if(aa.size.left<0){aa.size.left=0;}else{if(aa.size.left+az.mainContainer.offsetWidth>W.windowSizes.scrollWidth){aa.size.left=W.windowSizes.scrollWidth-az.mainContainer.offsetWidth;}}if(aa.size.top<0){aa.size.top=0;}else{if(aa.size.top+az.mainContainer.offsetHeight>W.windowSizes.scrollHeight){aa.size.top=W.windowSizes.scrollHeight-az.mainContainer.offsetHeight;}}}az.mainContainer.style.left=aa.size.left+"px";az.mainContainer.style.top=aa.size.top+"px";W.x=aE;W.y=aF;}function ag(aE){var aI=W.screenX,aJ=W.screenY,aH,aF,aG=false;if(ay){clearTimeout(ay);}if(!aa.flags.resizeable||(!aa.flags.resizeableX&&!aa.flags.resizeableY)){return;}if(aa.flags.resizeableX){if(W.control===2||W.control===6||W.control===8){aH=az.mainContainer.offsetWidth+(W.x-aI);if(aH>aa.size.minWidth){aa.size.left=az.mainContainer.offsetLeft+(aI-W.x);az.mainContainer.style.left=aa.size.left+"px";}}else{if(W.control===3||W.control===7||W.control===9){aH=az.mainContainer.offsetWidth+(aI-W.x);}}}if(aa.flags.resizeableY){if(W.control===4||W.control===6||W.control===7){aF=az.mainContainer.offsetHeight+(W.y-aJ);if(aF>aa.size.minHeight){aa.size.top=az.mainContainer.offsetTop+(aJ-W.y);az.mainContainer.style.top=aa.size.top+"px";}}else{if(W.control===5||W.control===8||W.control===9){aF=az.mainContainer.offsetHeight+(aJ-W.y);}}}if(aa.flags.resizeableX&&(W.control===2||W.control===3||W.control>5)){if(aH>=aa.size.minWidth&&aH<=aa.size.maxWidth){an(aH);aG=true;}W.x=aI;}if(aa.flags.resizeableY&&W.control>3){if(aF>=aa.size.minHeight&&aF<=aa.size.maxHeight){am(aF);aG=true;}W.y=aJ;}if(aG){k.isSetUserSize=true;ad.Resized.fireHandlers();ad.RecalculatedSize.fireHandlers();}}function an(aE){az.mainContainer.style.width=aE+"px";az.controlsContainer.style.width=aE+"px";az.roundedBoxContainer.style.width=aE+"px";az.roundedBox.style.width=aE+"px";az.topEdge.style.width=(aE-aa.size.edgeDeltaWidth)+"px";az.bottomEdge.style.width=(aE-aa.size.edgeDeltaWidth)+"px";az.container.style.width=(aE-aa.size.innerDeltaWidth)+"px";if(az.innerHeadContent&&aa.size.innerHeadContent){az.innerHeadContent.style.width=(aE-aa.size.innerHeadContent)+"px";}if(az.titleText){az.titleText.style.width=(aE-aa.size.titleDeltaWidth)+"px";}az.bodyContainer.style.width=(aE-aa.size.bodyDeltaWidth)+"px";if(!aa.state.normal){az.messageContainer.style.width=(aE-aa.size.bodyDeltaWidth)+"px";if(aa.state.waiting){az.waitMessage.style.left=Math.floor((aE-aa.size.bodyDeltaWidth-az.waitMessage.offsetWidth)/2)+"px";}else{az.errorMessage.style.left=Math.floor((aE-aa.size.bodyDeltaWidth-az.errorMessage.offsetWidth)/2)+"px";}}if(S){s(aE,null);}aa.size.width=aE;aa.size.init.width=aE;aa.size.init.widthUnits=null;m("content");}function am(aE){az.mainContainer.style.height=aE+"px";az.controlsContainer.style.height=aE+"px";az.roundedBoxContainer.style.height=aE+"px";az.roundedBox.style.height=aE+"px";az.leftEdge.style.height=(aE-aa.size.edgeDeltaHeight)+"px";az.rightEdge.style.height=(aE-aa.size.edgeDeltaHeight)+"px";az.container.style.height=(aE-aa.size.containerDeltaHeight)+"px";az.bodyContainer.style.height=(aE-aa.size.bodyDeltaHeight)+"px";az.outerContentContainer.style.height=(aE-aa.size.outerContentContainer.sumDeltaHeight)+"px";az.contentContainer.style.height=(aE-aa.size.contentContainer.sumDeltaHeight)+"px";az.contentBox.style.height=(aE-aa.size.contentContainer.sumDeltaHeight-aa.size.contentBoxSize.deltaHeight)+"px";if(!aa.state.normal){az.messageContainer.style.height=(aE-aa.size.bodyDeltaHeight)+"px";if(aa.state.waiting){az.waitMessage.style.top=Math.floor((aE-aa.size.bodyDeltaHeight-az.waitMessage.offsetHeight)/2)+"px";}else{az.errorMessage.style.top=Math.floor((aE-aa.size.bodyDeltaHeight-az.errorMessage.offsetHeight)/2)+"px";}}if(S){s(null,aE);}aa.size.height=aE;aa.size.init.height=aE;aa.size.init.heightUnits=null;n("content");}function A(aE){if(aE.type!=="touchcancel"){a.stopEvent(aE);}aw();v(true);u(true);o();}function aD(){if(U){clearTimeout(U);}U=setTimeout(aw,100);}function w(){if(U){clearTimeout(U);}}function aw(){if(!T){return;}T=false;if(ay){clearTimeout(ay);}ax(true);a.removeGlobalHandler(X+"MouseMoveInAllWindow");a.removeGlobalHandler(X+"MouseUpInAllWindow");a.removeGlobalHandler(X+"TouchCancelInAllWindow");c.document.body.style.MozUserSelect="text";c.document.body.style.WebkitUserSelect="auto";c.document.body.style.userSelect="auto";a.removeHandler(c.document.body,"selectstart",a.stopEvent);W.pushMouseLeftButton=false;W.control=0;r(true);q(true);}function g(aE){h([aE]);}function h(aE){F();aA.addTabButtons({buttons:aE});}function ao(aE){J();F();aA.setTabButtons({buttons:aE});}function d(aE){aA.activate(aE);}function at(aE){az.titleInfo.innerHTML=aE;}function aq(aE){if(aE===undefined){return;}J();ar();var aF=a.$("idDialogTitleText_"+aa.id);aF.innerHTML=aE;}function ar(){az.innerHeadContent.innerHTML=a.Templates.UI.WaDialogTitleContainerTemplate({id:aa.id,titleText:aa.title});}function ap(aE){E();H.setInfoMessage(aE);H.render(az.footerInfoMessageContainer.id);u(aE.isInit);}function af(aE){az.footerInfoMessageContainer.innerHTML="";u(aE?aE.isInint:false);}function E(){if(H){return;}H=a.Object.create(a.UI.DialogInfoMessageSwitcher,[{id:aa.id},{parentComponent:ad}]);}function F(){if(aA){return;}aA=new a.UI.TabSwitcher({id:aa.id,containerId:az.innerHeadContent.id},{parentComponent:ad});aA.TabSwitcherTabActivating.addHandler(Z);aA.TabSwitcherTabActivated.addHandler(Y);}function J(){if(!aA){return;}aA.TabSwitcherTabActivating.removeHandler(Z);aA.TabSwitcherTabActivated.removeHandler(Y);aA.dispose();aA=null;}function N(){k.init("idDialog","dialog");if(a.Device.isMobile){az.mainContainer.style.position="absolute";az.mainContainer.style.left="-3700px";az.mainContainer.style.top="-3700px";}az.mainContainer.innerHTML=a.Templates.UI.WaDialog.getHTML({id:aa.id,headerHTML:aa.html.header,contentHTML:aa.html.content,footerHTML:aa.html.footer,waitMessageText:aa.messages.wait.text,waitMessageImage:aa.messages.wait.image,errorMessageText:aa.messages.error.text,errorMessageImage:aa.messages.error.image,titleInfo:aa.titleInfo,hideCloseButton:j.hideCloseButton,isNotScrollable:j.isNotScrollable});if(!j.isNotScrollable){ah=a.Object.create(a.UI.ScrollablePanel,[{id:"idDialogScrollableContentContainer_"+aa.id},{parentComponent:ad}]);}ab();if(aa.title){aq(aa.title);}ad.RenderComplete.fireHandlers();}function I(){ad.Dispose.fireHandlers();if(ay){clearTimeout(ay);}if(U){clearTimeout(U);}a.clearThrottle(Q);a.clearThrottle(P);a.clearThrottle(v);a.clearThrottle(p);a.clearThrottle(u);a.clearThrottle(K);a.clearThrottle(x);if(a.Device.isMobile){a.removeGlobalHandler(X+"WindowResize");a.addGlobalHandler(X+"WindowScroll");}ad.InitedBody.removeHandler(v);ad.InitedBody.removeHandler(p);ad.InitedBody.removeHandler(u);if(aa.flags.windowResizeWatcherEnabled){t(true);}ad.InitedBody.removeHandler(null,{handlerName:"headerCalcHandler"});ad.InitedBody.removeHandler(null,{handlerName:"contentCalcHandler"});ad.InitedBody.removeHandler(null,{handlerName:"footerCalcHandler"});ad.InitedBody.removeFired();ad.Cancel=null;ad.Resized=null;ad.RecalculatedSize=null;ad.InitedBody=null;ad.RenderComplete=null;ad.Dispose=null;ad.DialogTabActivated=null;ad.DialogTabActivating=null;aA=null;H=null;az=null;y=null;k.dispose();}}})(window,WA);(function(d,b){var a="WA.Templates.UI.WaDialog";if(!b.Templates.UI.WaDialog){b.Templates.UI.WaDialog=b.Object.create(c);}document.write('<style type="text/css">  DIV.dialogRoundedBoxContainerOldIE { filter: alpha(opacity=73); }  DIV.dialogRoundedBoxShadowOldIE { filter: progid:DXImageTransform.Microsoft.Blur(pixelRadius=15, makeShadow=true, shadowOpacity=0.23); }  DIV.dialogOuterHeadContainerShadowOldIE { filter: progid:DXImageTransform.Microsoft.Blur(pixelRadius=2, makeShadow=true, shadowOpacity=0.27); }  DIV.dialogInnerHeadContainerOldIE { filter: progid:DXImageTransform.Microsoft.Gradient(startColorstr=#EEEEEE, endColorstr=#B7B7B7, gradientType=0); }</style>');function c(){var g=this;g.toString=function(){return a;};g.init=function f(){};g.dispose=function(){};g.getHTML=e;function e(j){var k=b.UI.ScrollablePanelTemplate({id:"idDialogScrollableContentContainer_"+j.id,cssClass:"dialogScrollableContentContainer",returnOnlyWrapper:true}),i=!b.Browser.isCssStyleSupported("border-radius"),h=['<div id="idDialogRoundedBoxContainer_'+j.id+'" class="dialogRoundedBoxContainer'+(i?" dialogRoundedBoxContainerOldIE":"")+'">','  <div id="idDialogRoundedBox_'+j.id+'" class="dialogRoundedBox"></div>',(i?['    <div id="idDialogRoundedBoxLeft1_'+j.id+'" class="dialogRoundedBoxLeft1" parseTags="ToDoVisible"></div>','    <div id="idDialogRoundedBoxLeft2_'+j.id+'" class="dialogRoundedBoxLeft2" parseTags="ToDoVisible"></div>','    <div id="idDialogRoundedBoxRight2_'+j.id+'" class="dialogRoundedBoxRight2" parseTags="ToDoVisible"></div>','    <div id="idDialogRoundedBoxRight1_'+j.id+'" class="dialogRoundedBoxRight1" parseTags="ToDoVisible"></div>','    <div id="idDialogRoundedBoxTop1_'+j.id+'" class="dialogRoundedBoxTop1" parseTags="ToDoVisible"></div>','    <div id="idDialogRoundedBoxTop2_'+j.id+'" class="dialogRoundedBoxTop2" parseTags="ToDoVisible"></div>','    <div id="idDialogRoundedBoxBottom2_'+j.id+'" class="dialogRoundedBoxBottom2" parseTags="ToDoVisible"></div>','    <div id="idDialogRoundedBoxBottom1_'+j.id+'" class="dialogRoundedBoxBottom1" parseTags="ToDoVisible"></div>'].join(""):""),"</div>",'<div id="idDialogControlsContainer_'+j.id+'" class="dialogControlsContainer">','  <div id="idDialogLeftEdge_'+j.id+'" class="dialogBorderEdge dialogBorderLeft" objectId="'+j.id+'" eventTags="DialogSizeControl LeftEdge"></div>','  <div id="idDialogRightEdge_'+j.id+'" class="dialogBorderEdge dialogBorderRight" objectId="'+j.id+'" eventTags="DialogSizeControl RightEdge"></div>','  <div id="idDialogTopEdge_'+j.id+'" class="dialogBorderEdge dialogBorderTop" objectId="'+j.id+'" eventTags="DialogSizeControl TopEdge"></div>','  <div id="idDialogBottomEdge_'+j.id+'" class="dialogBorderEdge dialogBorderBottom" objectId="'+j.id+'" eventTags="DialogSizeControl BottomEdge"></div>','  <div id="idDialogTopLeftCorner_'+j.id+'" class="dialogBorderCorner dialogBorderTopLeft" objectId="'+j.id+'" eventTags="DialogSizeControl TopLeftCorner"></div>','  <div id="idDialogTopRightCorner_'+j.id+'" class="dialogBorderCorner dialogBorderTopRight" objectId="'+j.id+'" eventTags="DialogSizeControl TopRightCorner"></div>','  <div id="idDialogBottomLeftCorner_'+j.id+'" class="dialogBorderCorner dialogBorderBottomLeft" objectId="'+j.id+'" eventTags="DialogSizeControl BottomLeftCorner"></div>','  <div id="idDialogBottomRightCorner_'+j.id+'" class="dialogBorderCorner dialogBorderBottomRight" objectId="'+j.id+'" eventTags="DialogSizeControl BottomRightCorner"></div>',"</div>",'<div id="idDialogContainer_'+j.id+'" class="dialogContainer">','  <div id="idDialogOuterHeadContainer_'+j.id+'" class="dialogOuterHeadContainer" objectId="'+j.id+'" eventTags="DialogMoveControl HeadContainer">','    <div id="idDialogInnerHeadContainer_'+j.id+'" class="dialogInnerHeadContainer'+(i?" dialogInnerHeadContainerOldIE":"")+'" objectId="'+j.id+'" eventTags="DialogMoveControl HeadContainer">','      <div id="idDialogInnerHeadContent_'+j.id+'" class="dialogInnerHeadContent" objectId="'+j.id+'" eventTags="DialogMoveControl HeadContainer"></div>','      <div id="idDialogTitleInfo_'+j.id+'" class="dialogTitleInfo" objectId="'+j.id+'" eventTags="DialogMoveControl HeadContainer">',j.titleInfo===undefined?"":j.titleInfo,"      </div>",'      <div id="idDialogControlClose_'+j.id+'" class="dialogControlClose'+(j.hideCloseButton?" hidden":"")+'" objectId="'+j.id+'" eventTags="DialogCloseControl ControlClose"></div>',"    </div>","  </div>",(i?'    <div id="idDialogOuterHeadContainerShadow_'+j.id+'" class="dialogOuterHeadContainerShadowOldIE" objectId="'+j.id+'" eventTags="DialogMoveControl HeadContainer" parseTags="ToDoVisible"></div>':""),'  <div id="idDialogInnerContainer_'+j.id+'" class="dialogInnerContainer">','    <div id="idDialogBodyContainer_'+j.id+'" class="dialogBodyContainer">','      <div id="idDialogOuterHeaderContainer_'+j.id+'" class="dialogOuterHeaderContainer">','        <div id="idDialogHeaderContainer_'+j.id+'" class="dialogHeaderContainer">'+j.headerHTML+"</div>","      </div>",'      <div id="idDialogOuterContentContainer_'+j.id+'" class="dialogOuterContentContainer">',(j.isNotScrollable?"":k[0]),'          <div id="idDialogContentContainer_'+j.id+'" class="dialogContentContainer" parseTags="scrollablePanelContentContainer"'+(j.isNotScrollable?' style="overflow-y: hidden;"':"")+">",'            <div id="idDialogContentBox_'+j.id+'" class="dialogContent">'+j.contentHTML+"</div>","          </div>",(j.isNotScrollable?"":k[1]),"      </div>",'      <div id="idDialogOuterFooterContainer_'+j.id+'" class="dialogOuterFooterContainer">','        <div id="idDialogFooterInfoMessageContainer_'+j.id+'" class="dialogFooterInfoMessageContainer"></div>','        <div id="idDialogFooterContainer_'+j.id+'" class="dialogFooterContainer">'+j.footerHTML+"</div>","      </div>","    </div>",'    <div id="idDialogMessageContainer_'+j.id+'" class="dialogMessageContainer">','      <div id="idDialogWaitMessage_'+j.id+'" class="dialogMessage dialogWaitMessage">','        <span id="idDialogWaitMessageText_'+j.id+'" class="dialogMessageText dialogWaitMessageText">'+j.waitMessageText+"</span>","      </div>",'      <div id="idDialogErrorMessage_'+j.id+'" class="dialogMessage dialogErrorMessage">','        <span id="idDialogErrorMessageText_'+j.id+'" class="dialogMessageText dialogErrorMessageText">'+j.errorMessageText+"</span>","      </div>","    </div>","  </div>",(i?'    <div id="idDialogRoundedBoxShadow_'+j.id+'" class="dialogRoundedBoxShadowOldIE" parseTags="ToDoVisible"></div>':""),"</div>"];return h.join("");}}})(window,WA);(function(c,a){if(!a.Templates.UI.WaDialogTitleContainerTemplate){a.Templates.UI.WaDialogTitleContainerTemplate=b;}function b(e){var d=['<div id="idDialogTitleContainer_'+e.id+'" class="dialogTitleContainer" objectId="'+e.id+'" eventTags="DialogMoveControl HeadContainer">','  <div id="idDialogTitleText_'+e.id+'" class="dialogTitleText" objectId="'+e.id+'" eventTags="DialogMoveControl HeadContainer">'+e.titleText+"</div>","  <!--[if lte IE 9]>",'  <div id="idDialogTitleTextShadow_'+e.id+'" class="dialogTitleTextShadow" objectId="'+e.id+'" eventTags="DialogMoveControl HeadContainer" parseTags="ToDoVisible">'+e.titleText+"</div>","  <![endif]-->","</div>"];return d.join("");}})(window,WA);(function(c,a){if(!a.UI.WaWindow){a.UI.WaWindow=b;}function b(B,d){d=d||{};var G=this,Y="WA.UI.WaWindow",C=d.parentComponent;G.toString=function(){return Y;};G.objId=B;G.args=d;G.getId=function(){return B;};G.init=u;G.reInit=H;G.parse=D;G.show=S;G.hide=s;G.setHeader=O;G.setContent=L;G.setFooter=N;G.setTitleHtml=Q;G.getFrameBgElement=function(){return G.objMainBoxBg;};G.getFrameContainer=function(){return G.objMainBoxContainer;};G.getFrameElement=function(){return G.objMainBox;};G.getFrameWindow=function(){return G.parentIFrame;};G.getContentContainer=function(){return ae.contentContainer;};G.setWaitingState=R;G.setErrorState=M;G.setNormalState=P;G.showMessage=T;G.hideMessage=t;G.getParameter=function(ai){return F[ai];};G.getWinParameter=function(ai){return ad[ai];};G.dispose=m;var ah=a.UI.WaWindowManager;G.ContentContainerSizeChanged=a.Tools.EventHandlers.createHandlers(G,{id:"ContentContainerSizeChanged"});G.WindowInit=a.Tools.EventHandlers.createHandlers(G,{id:"WindowInit",type:a.Tools.EventHandlers.Type.Long});G.WindowReady=a.Tools.EventHandlers.createHandlers(G,{id:"WindowReady",type:a.Tools.EventHandlers.Type.Long});G.FrameLoaded=a.Tools.EventHandlers.createHandlers(G,{id:"FrameLoaded",type:a.Tools.EventHandlers.Type.Long});G.Dispose=a.Tools.EventHandlers.createHandlers(G,{id:"Dispose"});var F=d.parameters||{width:300,height:200,isWinMoveable:true,isWinResizeable:true,top:0,left:0};G.winParams={};var ad=G.winParams;ad.dialogId=G.objId;ad.title=(F.title!=null)?F.title:"";ad.directURL=F.directURL;ad.reloadURL=(F.reloadURL)?F.reloadURL:null;ad.isReloadUrlLoad=(F.isReloadUrlLoad)?F.isReloadUrlLoad:false;ad.isReloadUrlNotReload=(F.isReloadUrlNotReload)?F.isReloadUrlNotReload:false;ad.waitMessage=(F.waitMessage!=null)?F.waitMessage:"Please wait...";ad.waitMessageImgURL=(F.waitMessageImgURL!=null)?F.waitMessageImgURL:"/Admin/html_res/images/async-load-progress-01.gif";ad.isSharedWaitMsg=(F.isSharedWaitMsg!=null)?F.isSharedWaitMsg:false;ad.isCustomHideWaitMsg=(F.isCustomHideWaitMsg!==undefined)?F.isCustomHideWaitMsg:false;ad.defWinLeft=(F.left!=null)?F.left:null;ad.winLeft=ad.defWinLeft;ad.defWinTop=(F.top!=null)?F.top:null;ad.winTop=ad.defWinTop;ad.winZ=(F.z!=null)?F.z:3000+(ah.getObjectsCounter()*2);ad.defWinWidth=(F.width!=null)?F.width:null;ad.winWidth=ad.defWinWidth;ad.defWinHeight=(F.height!=null)?F.height:null;ad.winHeight=ad.defWinHeight;ad.align=(F.align)?F.align:"left";ad.isWinModal=(F.isModal)?F.isModal:false;ad.isWinMaximumSize=(F.isMaximumSize)?F.isMaximumSize:false;ad.winMaxSizeMargin=(F.maxSizeMargin)?F.maxSizeMargin:0;ad.isSetUserSize=false;ad.isWinMoveable=(F.isMoveable)?F.isMoveable:false;ad.isWinResizeable=(F.isResizeable)?F.isResizeable:false;ad.winMinWidth=(F.minWidth)?F.minWidth:null;ad.winMinHeight=(F.minHeight)?F.minHeight:null;ad.isReloadWinScrollable=(F.isScrollable)?F.isScrollable:false;ad.isCustomFixWinHeight=(F.isCustomFixWinHeight)?F.isCustomFixWinHeight:false;ad.remStateCookie=(F.stateCookie)?F.stateCookie:null;ad.backgroundColor="#FFFFFF";ad.isWinScrollable=(F.isWinScrollable!=null)?F.isWinScrollable:true;ad.loadingMessageText=(F.loadingMessageText!=null)?F.loadingMessageText:null;var V=" ";var z,o,k,l,I;var r,p,q;var g,h;var K=0;var J=0;var U=false;var v,x,w,y;var j,i,f;G.shadingBoxId="idShadingBox_"+ad.dialogId;G.mainBoxBgId="idMainBoxBg_"+ad.dialogId;G.baseIFrameContainerId="idBaseIFrameContainer_"+ad.dialogId;G.baseIFrameId="idBaseIFrame_"+ad.dialogId;G.baseIFrameName="nmBaseIFrame_"+ad.dialogId;G.baseIFrameBodyId="id"+ad.dialogId+"Body";G.eDataIFrameId="idWinReloadIFrameContainer_"+ad.dialogId;G.reloadIFrameId="idReloadIFrame_"+ad.dialogId;G.reloadIFrameName="nmReloadIFrame_"+ad.dialogId;G.reloadIFrameWaitMsgId="idReloadIFrameWaitMsg_"+ad.dialogId;G.isLoadingState=false;G.isErrorState=false;G.isNormalState=false;G.errorMessage=null;G.baseIFrameSrc="/Sys/WaUi/GetTemplate/WaWindow/#"+G.objId;G.winStructure={mainContainer:null,topEdge:null,leftEdge:null,rightEdge:null,bottomEdge:null,topLeftCorner:null,topRightCorner:null,bottomLeftCorner:null,bottomRightCorner:null,titleLeftEdge:null,titleRightEdge:null,titleEventContainer:null,titleContainer:null,titleDots:null,outerContentContainer:null,contentContainer:null,parentTable:null,titleRow:null,headerRow:null,mainRow:null,scrollableContainer:null,actionRow:null,footerRow:null};var ae=G.winStructure;ae.autoFitParts=[];ae.fitParts=[];G.winStructureParts={TitleRow:"titleRow",HeaderRow:"headerRow",MainRow:"mainRow",ActionRow:"actionRow",FooterRow:"footerRow"};var af=G.winStructureParts;G.winTitleStruct={objWinTitle:null,winTitleSpan:null,winTitleSpanIn:null,winTitleSpanDots:null};var ag=G.winTitleStruct;G.windowTitleParts={TitleEventContainer:["idWinTitle_","objWinTitle"],TitleContainer:["idWinTitleSpan_","winTitleSpan"],Title:["idWinTitleSpanIn_","winTitleSpanIn"],TitleDots:["idWinTitleSpanDots_","winTitleSpanDots"]};var ac=G.windowTitleParts;G.windowResizeableParts={TopLeftCorner:[6,"nw-resize"],TopEdge:[4,"n-resize"],TopRightCorner:[7,"ne-resize"],RightEdge:[3,"e-resize"],BottomRightCorner:[9,"nw-resize"],BottomEdge:[5,"n-resize"],BottomLeftCorner:[8,"ne-resize"],LeftEdge:[2,"e-resize"]};var ab=G.windowResizeableParts;G.winBorderParts=new Object();var Z=G.winBorderParts;var aa=new Object();var A={pushMouseLeftButton:false,X:0,Y:0,st:0};var X=false;var W=false;G.contentAreaContainer=null;function H(){}function D(){var ak,al,aj,ai;var am=/(?:255.*?255.*?255|FFFFFF|white)/i;G.parentIFrame.document.body.id=G.baseIFrameBodyId;if(ae.messageContainer){a.setElementOpacity(ae.messageContainer,73);}ae.contentContainer.style.overflow=ad.isWinScrollable?"auto":"hidden";ae.mainContainer.style.display="block";ai=ae.mainContainer.getElementsByTagName("*");for(ak=0,al=ai.length;ak<al;ak++){if(ai[ak].getAttribute("iwtype",0)!=null){aj=ai[ak].getAttribute("iwtype",0);if(af[aj]){ae[af[aj]]=new Object();ae[af[aj]].element=ai[ak];ae[af[aj]].innerTable=ae[af[aj]].element.getElementsByTagName("TABLE")[0];}else{if(ac[aj]){ai[ak].id=ac[aj][0]+ad.dialogId;ag[ac[aj][1]]=ai[ak];if(aj=="TitleContainer"&&ai[ak].style.color&&am.test(ai[ak].style.color)){ai[ak].style.color="#2F331F";}else{if(aj=="TitleEventContainer"&&ad.isWinMoveable){ai[ak].iwstate=1;ai[ak].onmousedown=function(an){if(!an&&G.parentIFrame.event){an=G.parentIFrame.event;}moveWindow(an,this);};ai[ak].onselectstart=G.parentIFrame.stopProp;ai[ak].ondragstart=G.parentIFrame.stopProp;}}}else{if(ab[aj]){Z[aj]=ai[ak];if(ad.isWinResizeable){ai[ak].iwstate=ab[aj][0];ai[ak].style.cursor=ab[aj][1];ai[ak].onmousedown=function(an){if(!an&&G.parentIFrame.event){an=G.parentIFrame.event;}moveWindow(an,this);};ai[ak].onselectstart=G.parentIFrame.stopProp;ai[ak].ondragstart=G.parentIFrame.stopProp;}}else{if(aj=="CloseButton"){ai[ak].onclick=function(){G.parentIFrame.callBackClose(G);};ai[ak].style.cursor=(a.Browser.isIE)?"hand":"pointer";}else{if(aj=="ContentContainer"){ae.contentContainer=ai[ak];L(d.contentHTML);}}}}}}}if(ae.titleContainer){ae.titleContainer.innerHTML=ad.title;}G.WindowReady.fireHandlers();}function S(){f=setInterval(e,37);G.objMainBoxBg.style.visibility="visible";G.objMainBoxContainer.style.visibility="visible";}function e(){var ai=ae.contentContainer,ak=ai.offsetWidth,aj=ai.offsetHeight;if(ak!=j||aj!=i){j=ak;i=aj;G.ContentContainerSizeChanged.fireHandlers();}}function O(ai){if(!ai){return;}if(!ae.headerContainer){return;}ae.headerContainer.innerHTML=ai;}function L(ai){if(!ai){return;}if(!ae.contentContainer){return;}ae.contentContainer.innerHTML=ai;E();}function N(ai){if(!ai){return;}if(!ae.footerContainer){return;}ae.footerContainer.innerHTML=ai;}function Q(ai){if(!ae.titleContainer){return;}ae.titleContainer.innerHTML=ai;}function R(ai){G.isLoadingState=true;G.isErrorState=false;G.isNormalState=false;if(ae.messageContainer){ae.messageText.innerHTML=(ai!=null)?ai:ae.messageText.getAttribute("loadingMessageText",0);ae.messageImage.style.display="";T();}}function M(ai){G.errorMessage=ai;G.WindowReady.addHandler(n,{period:"once"});}function n(){G.isLoadingState=false;G.isErrorState=true;G.isNormalState=false;if(ae.messageContainer){ae.messageText.innerHTML=(G.errorMessage!=null)?G.errorMessage:ae.messageText.getAttribute("errorMessageText",0);ae.messageImage.style.display="none";T();}}function P(){G.isLoadingState=false;G.isErrorState=false;G.isNormalState=true;if(ae.messageContainer){t();}}function T(){ae.messageContainer.style.display="block";}function t(){ae.messageContainer.style.display="none";}function E(){var ak,al,aj;var ai=ae.contentContainer.getElementsByTagName("*");ae.autoFitParts=[];ae.fitParts=[];for(ak=0,al=ai.length;ak<al;ak++){if(ai[ak].getAttribute("iwtype",0)!=null){aj=ai[ak].getAttribute("iwtype",0);if(aj=="autofitwidth"||aj=="autofitheight"||aj=="autofitsize"){ae.autoFitParts.push({element:ai[ak],type:aj});}else{if(aj=="fitwidth"||aj=="fitheight"||aj=="fitsize"){ae.fitParts.push({element:ai[ak],type:aj});}}}}}function s(){if(f){clearInterval(f);}a.Tools.PropertyWatcher.dispose();G.objMainBoxBg.style.left="-3700px";G.objMainBoxBg.style.top="-3700px";G.objMainBoxBg.style.visibility="hidden";G.objMainBoxContainer.style.visibility="hidden";}function u(){G.objMainBoxBg=document.createElement("DIV");G.objMainBoxBg.id=G.mainBoxBgId;G.objMainBoxBg.style.position="absolute";G.objMainBoxBg.style.left="0px";G.objMainBoxBg.style.top="0px";G.objMainBoxBg.style.width="1px";G.objMainBoxBg.style.height="1px";G.objMainBoxBg.style.overflow="hidden";G.objMainBoxBg.style.backgroundColor="transparent";G.objMainBoxBg.style.zIndex=ad.winZ-1;G.objMainBoxBg.style.visibility="hidden";document.body.appendChild(G.objMainBoxBg);G.objMainBoxBg.innerHTML='<div id="'+G.baseIFrameContainerId+'" style="position: absolute; left: 0px; top: 0px; width: '+ad.defWinWidth+"px; height: "+ad.defWinHeight+'px; visibility: hidden;"><iframe id="'+G.baseIFrameId+'" name="'+G.baseIFrameName+'" src="'+G.baseIFrameSrc+'" frameborder="0" scrolling="no"'+((ad.backgroundColor.toLowerCase()=="transparent")?' allowtransparency="true"':"")+' style="width: '+ad.defWinWidth+"px; height: "+ad.defWinHeight+"px; z-index: "+(ad.winZ)+"; background-color: "+ad.backgroundColor+'; border: none; padding: 0px; margin: 0px;"></iframe></div>';G.objMainBoxContainer=a.$(G.baseIFrameContainerId);G.objMainBox=a.$(G.baseIFrameId);G.parentIFrame=frames[G.baseIFrameName];G.WindowInit.fireHandlers();}function m(){s();L("");G.objMainBoxBg=null;G.objMainBoxContainer=null;G.objMainBox=null;G.parentIFrame=null;G.ContentContainerSizeChanged=null;G.WindowInit=null;G.WindowReady=null;G.FrameLoaded=null;G.Dispose=null;}}})(window,WA);(function(){if(!window.WA.UI.WaWindowManager){WA.UI.WaWindowManager={};}var e=WA.UI.WaWindowManager;e.createDialog=b;e.deleteWindow=d;e.getObjectById=function(h){return f[h]||null;};e.getObjectsCounter=function(){return g;};e.getAllDialogs=function(){return a[e.TYPE_DIALOG];};e.getAllPanels=function(){return a[e.TYPE_PANEL];};e.getAllContextDialogs=function(){return a[e.TYPE_CONTEXTDIALOG];};e.STATE_NORMAL=10;e.STATE_WAITING=20;e.STATE_ERROR=30;e.TYPE_DIALOG=10;e.TYPE_PANEL=20;e.TYPE_CONTEXTDIALOG=40;var f={},g=0,a={};a[e.TYPE_DIALOG]=[];a[e.TYPE_PANEL]=[];a[e.TYPE_CONTEXTDIALOG]=[];function b(i,h){return c(i,e.TYPE_DIALOG,WA.UI.WaDialog,h);}function c(i,k,j,h){h=h||{};if(f[i]){f[i].reInit(i,h);return f[i];}f[i]=WA.Object.create(j,[i,h]);a[k].push(f[i]);g++;return f[i];}function d(i,h){if(f[i]){f[i]=null;}if(h&&typeof h=="function"){h();}}})();(function(c,a){if(!a.UI.WaWindowNew){a.UI.WaWindowNew=b;}function b(n,d){d=d||{};var u=this;u.init=j;u.dispose=e;u.reInit=v;u.parse=p;u.parseBody=q;u.show=B;u.hide=h;u.setTitle=A;u.setHeader=y;u.setContent=w;u.setFooter=x;u.parseHeader=t;u.parseContent=r;u.parseFooter=s;u.getMainContainer=function(){return D.mainContainer;};u.getHeaderContainer=function(){return D.headerContainer;};u.getContentContainer=function(){return D.contentContainer;};u.getFooterContainer=function(){return D.footerContainer;};u.getStructure=function(){return D;};u.setNormalState=function(E){z(a.UI.WaWindowManager.STATE_NORMAL,E);};u.setWaitingState=function(E){z(a.UI.WaWindowManager.STATE_WAITING,E);};u.setErrorState=function(E){z(a.UI.WaWindowManager.STATE_ERROR,E);};u.getParameters=function(){return o;};u.objId=n;u.args=d;var o={id:n,title:d.titleText||"",cssClass:d.cssClass||"",html:{header:d.headerHTML||"",content:d.contentHTML||"",footer:d.footerHTML||""},messages:{wait:{text:d.waitMessageText||"Please wait...",image:d.waitMessageImage||"/Admin/html_res/images/async-load-progress-01.gif"},error:{text:d.errorMessageText||"Error...",image:d.errorMessageImage||""}},size:{def:{left:d.left||null,top:d.top||null,z:d.z||(a.AdminPanel?a.AdminPanel.ZIndex.Dialogs.Default:37773),width:f(d).width,minWidth:d.minWidth||107,maxWidth:d.maxWidth||3700,height:f(d).height,minHeight:d.minHeight||107,maxHeight:d.maxHeight||3700,align:d.align||"left",marginMaximize:d.marginMaximize||0},init:{height:d.height,heightUnits:d.heightUnits,width:d.width,widthUnits:d.widthUnits}},flags:{modal:d.isModal||false,initMaximize:d.isInitMaximize||false,maximize:d.isMaximize||false,minimize:d.isMinimize||false,moveable:d.isMoveable||true,resizeable:d.isResizeable||false,resizeableX:(d.isResizeableX===false)?false:(d.isResizeable||false),resizeableY:(d.isResizeableY===false)?false:(d.isResizeable||false),scrollable:d.isScrollable||true,fixHeight:d.isFixHeight||false,windowResizeWatcherEnabled:d.windowResizeWatcherEnabled||false},state:{normal:d.state===a.UI.WaWindowManager.STATE_NORMAL||!d.state,waiting:d.state===a.UI.WaWindowManager.STATE_WAITING,error:d.state===a.UI.WaWindowManager.STATE_ERROR,visible:false}},D={},k,m="dialogShading",l="dialogShadingActive";D.ext={};D.ext.header={};D.ext.content={};D.ext.footer={};u.params=o;u.structure=D;u.isSetUserSize=false;u.WindowDomReady=a.Tools.EventHandlers.createHandlers(u,{id:"WindowDomReady",type:a.Tools.EventHandlers.Type.Long});u.BeforeWindowShow=a.Tools.EventHandlers.createHandlers(u,{id:"BeforeWindowShow",type:a.Tools.EventHandlers.Type.Long});u.OnWindowShow=a.Tools.EventHandlers.createHandlers(u,{id:"OnWindowShow",type:a.Tools.EventHandlers.Type.Long});u.BeforeWindowHide=a.Tools.EventHandlers.createHandlers(u,{id:"BeforeWindowHide",type:a.Tools.EventHandlers.Type.Long});u.OnWindowHide=a.Tools.EventHandlers.createHandlers(u,{id:"OnWindowHide",type:a.Tools.EventHandlers.Type.Long});function j(F,E){var G=a.$("idMainContainerForWADialogs");if(!G){G=document.createElement("SPAN");G.setAttribute("id","idMainContainerForWADialogs");G.setAttribute("style","display: inline !important; position: static !important;");document.body.appendChild(G);}D.mainContainer=document.createElement("DIV");D.mainContainer.id=F+"MainContainer_"+o.id;D.mainContainer.className=E+"MainContainer";if(o.cssClass){D.mainContainer.className+=" "+o.cssClass;}D.mainContainer.style.zIndex=o.size.def.z;G.appendChild(D.mainContainer);}function v(){}function f(E){var F={};F.width=g(E.width,E.widthUnits,"x");F.height=g(E.height,E.heightUnits,"y");return F;}function g(G,F,E){if(F==undefined||F=="px"){return G;}else{if(F=="%"){var H=E.toLowerCase()=="x"?"width":"height";return a.Dimensions.getViewport()[H]*G/100;}else{return null;}}}function p(E){a.Dom.parseHTML(D.mainContainer,{structure:D,idPrefix:E,idPostfix:o.id});u.WindowDomReady.fireHandlers();}function q(E,F){a.Dom.parseHTML(E,{structure:F,isSetLevel:true});}function A(E){D.titleContainer.innerHTML=E;}function y(E){D.headerContainer.innerHTML=E;t();}function w(E){if(D.contentBox){D.contentBox.innerHTML=E;}else{D.contentContainer.innerHTML=E;}r();}function x(E){D.footerContainer.innerHTML=E;s();}function t(){D.ext.header=null;D.ext.header={};q(D.headerContainer,D.ext.header);}function r(){D.ext.content=null;D.ext.content={};q(D.contentContainer,D.ext.content);}function s(){D.ext.footer=null;D.ext.footer={};q(D.footerContainer,D.ext.footer);}function B(){if(!o.state.visible){u.BeforeWindowHide.removeFired();u.OnWindowHide.removeFired();if(o.flags.modal===true){if(a.AdminPanel){a.AdminPanel.showShading(a.AdminPanel.ShadingType.Dialog,{shadingZIndex:o.size.def.z-1,hideSpinner:true});}else{if(a.isTopWindow&&!k){k=new a.UI.ContainerMask({},{parentComponent:u,parentContainer:document.body,zIndex:o.size.def.z-1,cssClass:m});k.show();k.addCssClass(l);}}}C();}}function C(){o.state.visible=true;u.OnWindowShow.fireHandlers();}function h(){if(o.state.visible){u.BeforeWindowShow.removeFired();u.OnWindowShow.removeFired();i();}}function i(){if(o.flags.modal===true){if(a.AdminPanel){a.AdminPanel.hideShading();}else{if(k){k.removeCssClass(l);k.dispose();k=null;}}}D.mainContainer.style.left="-37000px";D.mainContainer.style.top="-37000px";o.state.visible=false;u.OnWindowHide.fireHandlers();}function z(F,E){o.state.normal=(F===a.UI.WaWindowManager.STATE_NORMAL)||!F;o.state.waiting=(F===a.UI.WaWindowManager.STATE_WAITING);o.state.error=(F===a.UI.WaWindowManager.STATE_ERROR);D.waitMessage.style.visibility="hidden";D.errorMessage.style.visibility="hidden";D.messageContainer.style.visibility="hidden";if(o.state.waiting){D.waitMessageText.innerHTML=(E!=null)?E:o.messages.wait.text;D.messageContainer.style.visibility="visible";D.waitMessage.style.visibility="visible";}else{if(o.state.error){D.errorMessageText.innerHTML=(E!=null)?E:o.messages.error.text;D.messageContainer.style.visibility="visible";D.errorMessage.style.visibility="visible";}}}function e(){u.WindowDomReady.removeFired();h();u.BeforeWindowHide.removeFired();u.OnWindowHide.removeFired();w("");}}})(window,WA);(function(d,b,a){if(!b.UI.WeekDaysSelector){b.UI.WeekDaysSelector=c;}function c(n,m){m=m||{};var u=this,x="WA.UI.WeekDaysSelector",z=n,t=m.parentComponent;u.toString=function(){return x;};u.RenderComplete=b.Tools.EventHandlers.createHandlers(u,{id:"RenderComplete"});u.Dispose=b.Tools.EventHandlers.createHandlers(u,{id:"Dispose"});u.ValidationFailed=b.Tools.EventHandlers.createHandlers(u,{id:"ValidationFailed"});u.ValueChanged=b.Tools.EventHandlers.createHandlers(u,{id:"ValueChanged"});u.VisualStateChanged=b.Tools.EventHandlers.createHandlers(u,{id:"VisualStateChanged"});var o=false,f,y,g,e;u.render=v;u.getValue=j;u.show=w;u.hide=k;function w(){b.Dom.removeClassName(e,"hidden");}function k(){b.Dom.addClassName(e,"hidden");}function j(){return y.getValue();}function v(){return b.UI.WeekDaysSelectorTemplate(z);}function q(B,A){e=b.$(g.id+b.UI.ControlLayoutTemplate.IdControlLayoutPostfix);u.RenderComplete.fireHandlers();}function r(){u.ValidationFailed.fireHandlers();var A=y.getErrors();if(A.length>0){b.UI.Helpers.ControlHelper.showValidationMessages(g.id,A);}}function s(){u.onVisualStateChanged.fireHandlers();}function i(){var A=[],B,C,D=f.getValue();for(B=0;B<b.WaDate.DaysInWeek;B++){A.push(false);}for(B=0,C=D.length;B<C;B++){A[D[B]]=true;}return A;}function p(D,A){var B=i(),C=b.Date.getBitMaskFromDaysOfTheWeekArray(B);y.setValue(C,"");b.UI.Helpers.ControlHelper.hideValidationMessages(g.id);u.ValueChanged.fireHandlers({newValue:C});}function l(){t.RenderComplete.addHandler(q);t.Dispose.addHandler(h);if(t.ValidationFailed){t.ValidationFailed.addHandler(r);}y=b.UI.Helpers.ValueAccessorHelper.createValueAccessor(z,u);g=b.UI.WeekDaysSelectorHelper.getDaysListModel(z);f=b.UI.ControlFactory.createControl(b.UI.ControlType.CheckBoxList,g,{parentComponent:u});f.ValueChanged.addHandler(p);f.VisualStateChanged.addHandler(s);}function h(){if(o){return;}u.Dispose.fireHandlers();t.RenderComplete.removeHandler(q);t.Dispose.removeHandler(h);z=null;t=null;f=null;y=null;g=null;e=null;u.RenderComplete=null;u.Dispose=null;u.ValidationFailed=null;u.ValueChanged=null;u.VisualStateChanged=null;o=true;}l();}})(window,WA);(function(d,c,b){if(!c.UI.WeekDaysSelectorHelper){c.UI.WeekDaysSelectorHelper={getDaysListModel:a};}function a(j){var e=c.Date.getDaysOfTheWeekArrayFromBitMask(j.hasOwnProperty("value")?j.value:j.valueAccessor.getValue()),g=j.id+"_daysList",h=[],f,k=j.startDay||c.WaDate.WeekDayIndex.Sunday;for(f=0;f<c.WaDate.DaysInWeek;f++){h.push({id:g+"_"+f,checked:e[f],value:f,contentText:j.resources.DaysTextLabels[f],controlContainerDisplayType:j.dayItemDisplayType||c.UI.ControlLayoutTemplate.ControlContainerDisplayType.Flexible,width:j.dayItemWidth});}return{id:g,title:j.title,titlePosition:j.titlePosition,titleWidth:j.titleWidth,groupOperationsDisabled:true,scrolling:{enabled:false},items:c.Date.shiftWeekDaysArray(h,k),repeatType:j.daysRepeatType||c.UI.CheckBoxListTemplate.RepeatType.Horizontal,cssClass:j.hidden?"hidden":""};}})(window,WA);(function(d,b,a){if(!b.UI.WeekDaysSelectorTemplate){b.UI.WeekDaysSelectorTemplate=c;b.UI.WeekDaysSelectorTemplate.DaysListIdPostfix="_daysList";}function c(e){return b.UI.CheckBoxListTemplate(b.UI.WeekDaysSelectorHelper.getDaysListModel(e));}})(window,WA);